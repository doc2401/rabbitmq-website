<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">RabbitMQ Deprecation Announcements for 4.0 | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="RabbitMQ Deprecation Announcements for 4.0 | RabbitMQ"><meta data-rh="true" name="description" content="In RabbitMQ 4.0, we intend to remove some RabbitMQ features to:"><meta data-rh="true" property="og:description" content="In RabbitMQ 4.0, we intend to remove some RabbitMQ features to:"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2021-08-21T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/edbyford"><meta data-rh="true" property="article:tag" content="Announcements"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2021/08/21/4.0-deprecation-announcements","headline":"RabbitMQ Deprecation Announcements for 4.0","name":"RabbitMQ Deprecation Announcements for 4.0","description":"In RabbitMQ 4.0, we intend to remove some RabbitMQ features to:","datePublished":"2021-08-21T00:00:00.000Z","author":{"@type":"Person","name":"Ed Byford","url":"https://github.com/edbyford","image":"https://github.com/edbyford.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">RabbitMQ Deprecation Announcements for 4.0</h1><div class="container_mt6G margin-vert--md"><time datetime="2021-08-21T00:00:00.000Z">August 21, 2021</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/edbyford" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/edbyford.png" alt="Ed Byford"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/edbyford" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Ed Byford</span></a></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>In RabbitMQ 4.0, we intend to remove some RabbitMQ features to:</p>
<ul>
<li>Increase the resiliency of the core broker</li>
<li>Decrease the number of suboptimal configurations available</li>
<li>Remove technical surface area (maintaining old code) from the team</li>
<li>Reduce the support burden</li>
</ul>
<p>We continually innovate to meet and exceed our users’ expectations. Removal of older functionality that no longer meets these expectations, or serves our users, means we can focus on our mission to provide a stable, performant, and flexible messaging system.</p>
<p>The features we are announcing the deprecation of have been chosen because (either):</p>
<ul>
<li>In certain conditions, they behave sub-optimally</li>
<li>They are infrequently used</li>
</ul>
<p>Given for each feature there is a newer, safer alternative to achieve the same outcome, we do not believe anyone should be using these functions.</p>
<p>This document is designed to explain the changes and allow a chance to provide feedback.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="when-will-these-changes-be-made">When will these changes be made?<a href="#when-will-these-changes-be-made" class="hash-link" aria-label="Direct link to When will these changes be made?" title="Direct link to When will these changes be made?">​</a></h2>
<p>We intend to make these changes with the release of RabbitMQ 4.0. There is currently no timeline set for this release.</p>
<p>Before making the changes, we will review the feedback supplied via a survey.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-i-provide-feedback">How can I provide feedback?<a href="#how-can-i-provide-feedback" class="hash-link" aria-label="Direct link to How can I provide feedback?" title="Direct link to How can I provide feedback?">​</a></h2>
<p>If you’d like to provide feedback on this announcement, please complete this <a href="https://docs.google.com/forms/d/e/1FAIpQLSfDjOigPhdd8z4l9DzSbHie0AfgAgsJESsQlvVOEAoDIYjzDA/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">survey</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-announcements">The Announcements<a href="#the-announcements" class="hash-link" aria-label="Direct link to The Announcements" title="Direct link to The Announcements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable-metrics-delivery-via-the-management-api--ui">Disable metrics delivery via the management API / UI<a href="#disable-metrics-delivery-via-the-management-api--ui" class="hash-link" aria-label="Direct link to Disable metrics delivery via the management API / UI" title="Direct link to Disable metrics delivery via the management API / UI">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision">Why are we making this decision?<a href="#why-are-we-making-this-decision" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>The management API has been serving two functions: control plane and metrics delivery system. This dual purpose meant that in rare circumstances (i.e. extreme load) the metrics would be delayed.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist">What alternatives exist?<a href="#what-alternatives-exist" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>The Prometheus plugin, available since 3.8 was released in October 2019, provides metrics even under load. It also has the added benefit of offering a wider array of metrics than those available from management API. The documentation on the Prometheus and Grafana dashboards is <a href="/rabbitmq-website/docs/prometheus">here</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-global-qos">Removal of global QoS<a href="#removal-of-global-qos" class="hash-link" aria-label="Direct link to Removal of global QoS" title="Direct link to Removal of global QoS">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision-1">Why are we making this decision?<a href="#why-are-we-making-this-decision-1" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>Global QoS, where a single shared prefetch is used for an entire channel, is not recommended practice.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist-1">What alternatives exist?<a href="#what-alternatives-exist-1" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>Per-consumer QoS (non-global) should be set instead.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-ram-nodes">Removal of RAM nodes<a href="#removal-of-ram-nodes" class="hash-link" aria-label="Direct link to Removal of RAM nodes" title="Direct link to Removal of RAM nodes">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision-2">Why are we making this decision?<a href="#why-are-we-making-this-decision-2" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>RAM nodes hold all of their internal metadata in memory, including users, policies, queues, and RabbitMQ cluster membership. When a broker node is restarted, all of this will be lost, meaning that using RAM nodes in a highly available cluster is not recommended as it can result in data loss.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist-2">What alternatives exist?<a href="#what-alternatives-exist-2" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>Disk nodes should be used with fast storage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-classic-queue-mirroring">Removal of Classic Queue mirroring<a href="#removal-of-classic-queue-mirroring" class="hash-link" aria-label="Direct link to Removal of Classic Queue mirroring" title="Direct link to Removal of Classic Queue mirroring">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision-3">Why are we making this decision?<a href="#why-are-we-making-this-decision-3" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>Quorum Queues provide greater data safety as compared to classic mirrored queues.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist-3">What alternatives exist?<a href="#what-alternatives-exist-3" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>Customers should make use of Quorum Queues for replication and data safety. TTLs for classic mirrored queues can be replaced by streams.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="removal-of-transient-non-exclusive-queues">Removal of transient, non-exclusive queues<a href="#removal-of-transient-non-exclusive-queues" class="hash-link" aria-label="Direct link to Removal of transient, non-exclusive queues" title="Direct link to Removal of transient, non-exclusive queues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision-4">Why are we making this decision?<a href="#why-are-we-making-this-decision-4" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>Transient queues are queues whose lifetime is linked to the uptime of the node they are declared on. In a single node cluster they are removed when the node is restarted. In a clustered environment they are removed when the node they are hosted on is restarted.</p>
<p>Correct use of transient queues requires that an application developer knows something about node uptime. Further, a node restart isn&#x27;t a good way to remove unused queues.</p>
<p>There is one kind of transient queue that is not included in this deprecation; the exclusive queue. Exclusive queues are linked to the lifetime of the declaring connection which is something that an application developer can take into account and leverage.</p>
<p>By deprecating transient queues we are removing a potentially confusing queue option. We also reduce pressure on the boot procedure, as transient queues are currently removed on boot.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist-4">What alternatives exist?<a href="#what-alternatives-exist-4" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>Queue TTL should be used for auto-deleting unused, idle queues after some time of inactivity.</p>
<p>Exclusive queues: these are deleted once all connections to the queue are removed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="no-longer-use-fsync-for-publisher-confirms-with-classic-queues">No longer use fsync for publisher confirms with Classic Queues<a href="#no-longer-use-fsync-for-publisher-confirms-with-classic-queues" class="hash-link" aria-label="Direct link to No longer use fsync for publisher confirms with Classic Queues" title="Direct link to No longer use fsync for publisher confirms with Classic Queues">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="why-are-we-making-this-decision-5">Why are we making this decision?<a href="#why-are-we-making-this-decision-5" class="hash-link" aria-label="Direct link to Why are we making this decision?" title="Direct link to Why are we making this decision?">​</a></h4>
<p>Quorum Queues provide greater data safety as compared to using non-mirrored classic queues, regardless of the use of fsync. Calling fsync manually results in loss of performance compared to letting the kernel decide when to flush to disk.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-alternatives-exist-5">What alternatives exist?<a href="#what-alternatives-exist-5" class="hash-link" aria-label="Direct link to What alternatives exist?" title="Direct link to What alternatives exist?">​</a></h4>
<p>Customers should make use of Quorum Queues for replication and data safety.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="thank-you">Thank you<a href="#thank-you" class="hash-link" aria-label="Direct link to Thank you" title="Direct link to Thank you">​</a></h2>
<p>Thank you for reading. If you have any thoughts on the above, please fill in our <a href="https://docs.google.com/forms/d/e/1FAIpQLSfDjOigPhdd8z4l9DzSbHie0AfgAgsJESsQlvVOEAoDIYjzDA/viewform?usp=sf_link" target="_blank" rel="noopener noreferrer">survey</a> and let us know how you feel about the proposed changes!</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/announcements">Announcements</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/blog/2021-08-21-4.0-deprecation-announcements/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/2021/09/13/rabbitmq-streams-offset-tracking"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Offset Tracking with RabbitMQ Streams</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/2021/07/28/rabbitmq-streams-message-deduplication"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Message Deduplication with RabbitMQ Streams</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#when-will-these-changes-be-made" class="table-of-contents__link toc-highlight">When will these changes be made?</a></li><li><a href="#how-can-i-provide-feedback" class="table-of-contents__link toc-highlight">How can I provide feedback?</a></li><li><a href="#the-announcements" class="table-of-contents__link toc-highlight">The Announcements</a><ul><li><a href="#disable-metrics-delivery-via-the-management-api--ui" class="table-of-contents__link toc-highlight">Disable metrics delivery via the management API / UI</a></li><li><a href="#removal-of-global-qos" class="table-of-contents__link toc-highlight">Removal of global QoS</a></li><li><a href="#removal-of-ram-nodes" class="table-of-contents__link toc-highlight">Removal of RAM nodes</a></li><li><a href="#removal-of-classic-queue-mirroring" class="table-of-contents__link toc-highlight">Removal of Classic Queue mirroring</a></li><li><a href="#removal-of-transient-non-exclusive-queues" class="table-of-contents__link toc-highlight">Removal of transient, non-exclusive queues</a></li><li><a href="#no-longer-use-fsync-for-publisher-confirms-with-classic-queues" class="table-of-contents__link toc-highlight">No longer use fsync for publisher confirms with Classic Queues</a></li></ul></li><li><a href="#thank-you" class="table-of-contents__link toc-highlight">Thank you</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>