<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">RabbitMQ 3.13: Classic Queues Changes | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="RabbitMQ 3.13: Classic Queues Changes | RabbitMQ"><meta data-rh="true" name="description" content="We&#x27;ve already announced two major new features of 3.13 in separate blog posts:"><meta data-rh="true" property="og:description" content="We&#x27;ve already announced two major new features of 3.13 in separate blog posts:"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-01-11T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/mkuratczyk"><meta data-rh="true" property="article:tag" content="Performance,RabbitMQ 3.13.x"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2024/01/11/3.13-release","headline":"RabbitMQ 3.13: Classic Queues Changes","name":"RabbitMQ 3.13: Classic Queues Changes","description":"We've already announced two major new features of 3.13 in separate blog posts:","datePublished":"2024-01-11T00:00:00.000Z","author":{"@type":"Person","name":"Michał Kuratczyk","url":"https://github.com/mkuratczyk","image":"https://github.com/mkuratczyk.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">RabbitMQ 3.13: Classic Queues Changes</h1><div class="container_mt6G margin-vert--md"><time datetime="2024-01-11T00:00:00.000Z">January 11, 2024</time> · <!-- -->11 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/mkuratczyk.png" alt="Michał Kuratczyk"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Michał Kuratczyk</span></a></div><div class="authorSocials_rSDt"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://www.linkedin.com/in/mkuratczyk/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a><a href="https://fosstodon.org/@kura" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Mastodon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 65" width="1em" height="1em" class="authorSocialLink_owbf"><path fill="url(#:Rfndbeh:)" d="M60.754 14.39C59.814 7.406 53.727 1.903 46.512.836 45.294.656 40.682 0 29.997 0h-.08C19.23 0 16.938.656 15.72.836 8.705 1.873 2.299 6.82.745 13.886c-.748 3.48-.828 7.338-.689 10.877.198 5.075.237 10.142.697 15.197a71.482 71.482 0 0 0 1.664 9.968c1.477 6.056 7.458 11.096 13.317 13.152a35.718 35.718 0 0 0 19.484 1.028 28.365 28.365 0 0 0 2.107-.576c1.572-.5 3.413-1.057 4.766-2.038a.154.154 0 0 0 .062-.118v-4.899a.146.146 0 0 0-.055-.111.145.145 0 0 0-.122-.028 54 54 0 0 1-12.644 1.478c-7.328 0-9.298-3.478-9.863-4.925a15.258 15.258 0 0 1-.857-3.882.142.142 0 0 1 .178-.145 52.976 52.976 0 0 0 12.437 1.477c1.007 0 2.012 0 3.02-.026 4.213-.119 8.654-.334 12.8-1.144.103-.02.206-.038.295-.065 6.539-1.255 12.762-5.196 13.394-15.176.024-.393.083-4.115.083-4.523.003-1.386.446-9.829-.065-15.017Z"></path><path fill="#fff" d="M50.394 22.237v17.35H43.52V22.749c0-3.545-1.478-5.353-4.483-5.353-3.303 0-4.958 2.139-4.958 6.364v9.217h-6.835V23.76c0-4.225-1.657-6.364-4.96-6.364-2.988 0-4.48 1.808-4.48 5.353v16.84H10.93V22.237c0-3.545.905-6.362 2.715-8.45 1.868-2.082 4.317-3.152 7.358-3.152 3.519 0 6.178 1.354 7.951 4.057l1.711 2.871 1.714-2.871c1.773-2.704 4.432-4.056 7.945-4.056 3.038 0 5.487 1.069 7.36 3.152 1.81 2.085 2.712 4.902 2.71 8.449Z"></path><defs><linearGradient id=":Rfndbeh:" x1="30.5" x2="30.5" y1="0" y2="65" gradientUnits="userSpaceOnUse"><stop stop-color="#6364FF"></stop><stop offset="1" stop-color="#563ACC"></stop></linearGradient></defs></svg></a><a href="https://bsky.app/profile/mkuratczyk.bsky.social" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 226" class="authorSocialLink_owbf"><path fill="#1185FE" d="M55.491 15.172c29.35 22.035 60.917 66.712 72.509 90.686 11.592-23.974 43.159-68.651 72.509-90.686C221.686-.727 256-13.028 256 26.116c0 7.818-4.482 65.674-7.111 75.068-9.138 32.654-42.436 40.983-72.057 35.942 51.775 8.812 64.946 38 36.501 67.187-54.021 55.433-77.644-13.908-83.696-31.676-1.11-3.257-1.63-4.78-1.637-3.485-.008-1.296-.527.228-1.637 3.485-6.052 17.768-29.675 87.11-83.696 31.676-28.445-29.187-15.274-58.375 36.5-67.187-29.62 5.041-62.918-3.288-72.056-35.942C4.482 91.79 0 33.934 0 26.116 0-13.028 34.314-.727 55.491 15.172Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>We&#x27;ve already announced two major new features of 3.13 in separate blog posts:</p>
<ul>
<li><a href="/rabbitmq-website/blog/2023/07/21/mqtt5">support for version 5 of the MQTT protocol</a></li>
<li><a href="/rabbitmq-website/blog/2023/10/16/stream-filtering">support for stream filtering</a></li>
</ul>
<p>This post focuses on the changes to the classic queues in this release:</p>
<ul>
<li>classic queue storage format version 1 is deprecated</li>
<li>new implementation of the classic queue message store</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classic-queues-storage-primer">Classic Queues Storage Primer<a href="#classic-queues-storage-primer" class="hash-link" aria-label="Direct link to Classic Queues Storage Primer" title="Direct link to Classic Queues Storage Primer">​</a></h2>
<p>Before we get into the changes, it&#x27;s worth explaining briefly how classic queues store messages. For each message, we
need to store the message payload and some metadata about the message (eg. whether this message was delivered to a
consumer). It makes sense to separate the message data (an opaque binary blob, potentially of a significant size) from
the metadata (small key-value map). However, for small messages, performing two separate writes, one for metadata and
another one for the contents of the message, is wasteful. Therefore, classic queues handle small messages differently than
large messages.</p>
<p>Historically, in what we now refer to as version 1 of the classic queues, this process is called embedding the message
in the index and the property <code>queue_index_embed_msgs_below</code> controls what constitutes a small enough message to be
embedded (the default is 4kB). Messages above this threshold are stored separately in the message store - a separate
key-value structure with a different on-disk representation. For messages stored in the store, the index contains the
metadata and the message store ID, which allows to retrieve the payload when needed. There is one message store per
virtual host, while each queue has a separate index.</p>
<p>Version 2 of the classic queue storage, introduced in 3.10, is logically very similar: there&#x27;s still the same per-vhost
message store and a separate per-queue message store for metadata and small messages. However, the structure of what we store
per-queue is completely different and therefore we don&#x27;t call it just an index anymore - small messages are not embedded
in the index, but stored in separate files within the per-queue message store.</p>
<p>The per-vhost message store is still there for larger messages, but version 3.13 changes its behaviour significantly.</p>
<p>For backwards compatibility <code>queue_index_embed_msgs_below</code> still controls whether a message is large enough to be stored
in the per-vhost message store and the default is still 4kB.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="classic-queues-version-2-cqv2">Classic Queues Version 2 (CQv2)<a href="#classic-queues-version-2-cqv2" class="hash-link" aria-label="Direct link to Classic Queues Version 2 (CQv2)" title="Direct link to Classic Queues Version 2 (CQv2)">​</a></h2>
<p>A few years ago, we started a journey to re-implement classic queues for better performance. A lot of things have
changed since the original implementation, which is now almost 20 years old! Here&#x27;s a rundown of the steps
on this journey:</p>
<ol>
<li>Since 3.10, queues with <code>queue-version=2</code> use the new index storage format (we store per-queue data differently)</li>
<li>Since 3.12, classic queues (both v1 and v2) <a href="/rabbitmq-website/blog/2023/05/17/rabbitmq-3.12-performance-improvements#classic-queues-changes-to-the-lazy-mode">never store more than a small set of messages in
memory</a></li>
<li>Since 3.12, messages below <code>queue_index_embed_msgs_below</code> (4kb by default) are handled much more efficiently</li>
</ol>
<p>With 3.13, we are getting close to the end of this journey:</p>
<ol>
<li>Starting from 3.13, messages above <code>queue_index_embed_msgs_below</code> are handled in a more efficient way</li>
<li>Starting from 3.13, classic queues v1 are deprecated</li>
</ol>
<p>In RabbitMQ 4.0 we will remove the mirroring feature of classic queues. As we&#x27;ve said many times before, if you need
highly available replicated queues, you should be using quorum queues that have been available since 3.8. Removing the
mirroring feature will enable further optimisations to the implementation.</p>
<p>Moreover, in 4.0 we&#x27;ll most likely remove the v1 implementation of the queue index (this may be delayed based on your
feedback!). When you upgrade to 4.0 in the future, all the classic queues that are still using v1 will need to be
converted to v2 during startup. This can take a long time if there are many messages and/or many queues. It&#x27;s therefore
a good idea to go through the conversion process deliberately.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="what-if-i-dont-feel-ready-for-cqv2">What If I Don&#x27;t Feel Ready for CQv2?<a href="#what-if-i-dont-feel-ready-for-cqv2" class="hash-link" aria-label="Direct link to What If I Don&#x27;t Feel Ready for CQv2?" title="Direct link to What If I Don&#x27;t Feel Ready for CQv2?">​</a></h3>
<p>Until version 1 of the index implementation is removed, you can still use it.</p>
<p>There&#x27;s no such choice for the message store implementation - 3.13 contains significant improvements, especially when
used in combination with a v2 index. However, there may also be minor regressions when combined with v1. Users are
recommended to test their applications thoroughly and report situations where a v2 index is worse than v1.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cqv1---cqv2-conversion">CQv1 -&gt; CQv2 Conversion<a href="#cqv1---cqv2-conversion" class="hash-link" aria-label="Direct link to CQv1 -&gt; CQv2 Conversion" title="Direct link to CQv1 -&gt; CQv2 Conversion">​</a></h2>
<p>Since v1 and v2 use a different file format, a conversion is needed if a queue is changed from v1 to v2 (or vice versa -
downgrading is supported). If you have an existing classic queue v1 and apply a policy with <code>x-queue-version=2</code>, this
queue will become unavailable for the duration of the conversion - the queue needs to have a moment to rewrite the files
into the new format. Such conversions shouldn&#x27;t take more than a few seconds - if you see it taking longer, please
report this.</p>
<p>Since the queue version can be changed through a policy, it&#x27;s also possible to gradually migrate from v1 to v2. You can
declare a policy that only matches a subset of the queues and once they are converted, you can either extend the regular
expression to match more queues or declare another policy matching a different subset of the queues. Even if the policy
matches a lot of queues, the migration is strictly a per-queue operation - any queue that completed the conversion
becomes available to serve client applications immediately after the conversion, even if other queues are still
rewriting their files.</p>
<p>You can go through this conversion already on 3.12 (or even 3.10 or 3.11). If you do, the removal of v1 in 4.0 won&#x27;t
really affect you, since all your queues will be v2 already.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="performance-comparison">Performance Comparison<a href="#performance-comparison" class="hash-link" aria-label="Direct link to Performance Comparison" title="Direct link to Performance Comparison">​</a></h2>
<p>Let&#x27;s see the results comparing RabbitMQ 3.12.11 with 3.13.0-rc.4. Please refer to <a href="/rabbitmq-website/blog/2023/05/17/rabbitmq-3.12-performance-improvements#the-environment">previous blog
posts</a> for details
about the benchmarking setup and the way we run these tests or check out the repository, where we keep
<a href="https://github.com/rabbitmq/testing/blob/main/main/scenario-3.12-vs-3.13.yaml" target="_blank" rel="noopener noreferrer">the environments configuration</a>
and <a href="https://github.com/rabbitmq/testing/blob/main/main/script.sh" target="_blank" rel="noopener noreferrer">the script</a> with the workloads.</p>
<p>All tests were performed with 100B and 5kB messages.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publishing-and-consuming">Publishing And Consuming<a href="#publishing-and-consuming" class="hash-link" aria-label="Direct link to Publishing And Consuming" title="Direct link to Publishing And Consuming">​</a></h3>
<p>In this test, we have a single publisher and a single consumer and just try to deliver messages as quickly as possible
through a single queue.</p>
<p>As you can see, classic queues v2 offer a significantly better performance compared with CQv1 and 3.13 improves the
performance of both versions. For the users still using CQv1, moving to CQv2 on 3.13 may almost double the throughput
for small messages!</p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publisher, 1 queue, 1 consumer, 100B messages" src="/rabbitmq-website/assets/images/cq-publish-consume-100b-c759cdba39db38353152c75fd8fdc486.png" width="1120" height="438" class="img_ev3q"><figcaption>1 publisher, 1 queue, 1 consumer, 100B messages</figcaption></figure><p></p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publisher, 1 queue, 1 consumer, 5kB messages" src="/rabbitmq-website/assets/images/cq-publish-consume-5kb-a1af8b7f5cec9a52d12c9a9087cf2505.png" width="1120" height="438" class="img_ev3q"><figcaption>1 publisher, 1 queue, 1 consumer, 5kB messages</figcaption></figure><p></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publish-only">Publish Only<a href="#publish-only" class="hash-link" aria-label="Direct link to Publish Only" title="Direct link to Publish Only">​</a></h3>
<p>In this test, we publish to a queue at full speed, with 2 publishers, while not consuming the messages at all.
The queue grows from empty to 5 million messages.</p>
<p>With 100B messages, CQv2 blows CQv1 out of the water with more than 250% higher throughput compared to 3.12.</p>
<p></p><figure><img decoding="async" loading="lazy" alt="2 publishers, 1 queue, no consumers, 100B messages" src="/rabbitmq-website/assets/images/cq-publish-only-100b-a001fb8d114c3ee254fff91714f1e3ed.png" width="1120" height="439" class="img_ev3q"><figcaption>2 publishers, 1 queue, no consumers, 100B messages</figcaption></figure><p></p>
<p>The 5kB test is more nuanced. 3.13 with CQv2 wins by a large margin and CQv2 superiority is visible even in 3.12.
However, the combination of the new message store with the old index doesn&#x27;t perform consistently - it has a good
throughput most of the time, but with significant slow downs (latency spikes). This is unfortunate but something we
decided to keep this way, given the number of factors required to trigger this behaviour and the fact that users should
move to CQv2 anyway. We saw this behaviour only in this test, so the following conditions need to be met: a 3.13 node
running a CQv1 queue with messages larger than 4kb (or whatever the value of <code>queue_index_embed_msgs_below</code> is),
publishers significantly faster than consumers (or consumers not present at all) and a high throughput of messages.
If you have such a workload, moving to CQv2 should not only prevent this regression but give you a significantly better
performance than CQv1 could ever achieve.</p>
<p></p><figure><img decoding="async" loading="lazy" alt="2 publishers, 1 queue, no consumers, 5kB messages" src="/rabbitmq-website/assets/images/cq-publish-only-5kb-ce56ff85ff2418dc2ad592bd8d4b0afe.png" width="1120" height="439" class="img_ev3q"><figcaption>2 publishers, 1 queue, no consumers, 5kB messages</figcaption></figure><p></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="consume-only">Consume Only<a href="#consume-only" class="hash-link" aria-label="Direct link to Consume Only" title="Direct link to Consume Only">​</a></h3>
<p>In this test we consume the long backlog of messages from the previous test. There are 5 million messages to consume
(hopefully your queues are much shorter!).</p>
<p>With 100B messages, you can see that CQv2 offers ~30% higher consumption rate early on. Over time, as the queue
becomes shorter, CQv1 gets faster but CQv2 environment still empties the queue long before CQv1 (when
consumption rate goes down to zero, that means the queue is empty):</p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publisher, 1 queue, 1 consumer, 100B messages" src="/rabbitmq-website/assets/images/cq-consume-backlog-100b-63a100252c091ca75888b53dbce2dc80.png" width="1120" height="438" class="img_ev3q"><figcaption>1 publisher, 1 queue, 1 consumer, 100B messages</figcaption></figure><p></p>
<p>With 5kB messages, handled by the per-vhost message store, you can see the main benefit of the 3.13 changes.
Since the message store implementation is shared by v1 and v2, in this test both 3.13 environments are significantly
ahead of 3.12, even a 3.12 with CQv2. We can see a ~50% higher throughput in 3.13:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publisher, 1 queue, 1 consumer, 5kB messages" src="/rabbitmq-website/assets/images/cq-consume-backlog-5kb-ea340def5d1661b4604fd7031affe8d1.png" width="1120" height="438" class="img_ev3q"><figcaption>1 publisher, 1 queue, 1 consumer, 5kB messages</figcaption></figure><p></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-queues">Multiple Queues<a href="#multiple-queues" class="hash-link" aria-label="Direct link to Multiple Queues" title="Direct link to Multiple Queues">​</a></h3>
<p>In this test, rather than pushing a single queue to its limit, we have 5 concurrent message flows: 5 publishers,
each publishing to a different queue, and 5 consumers, one for each queue. Each publisher sends 10000 messages
per second so the total expected throughput is 50000 messages. With 100B messages, all environments reached the
expected throughput, while with 5kB messages, all oscillated around 27000 messages/s. The more interesting part here
is the end-to-end latency - how long does it take from the moment a message is sent until the message is consumed.</p>
<p>For 100B messages, we can see that the CQv2 environments can deliver the messages much faster. For users moving
from CQv1 on 3.12 to CQv2 on 3.13, that a 75% reduction of the mean latency <strong>and</strong> a 50% of reduction in
memory usage.</p>
<p></p><figure><img decoding="async" loading="lazy" alt="5 publishers, 5 queue, 5 consumers, 100B messages, 50k msgs/s achieved" src="/rabbitmq-website/assets/images/cq-multiple-queues-100b-e18e81efcf427b1e50b8e045f467b295.png" width="1120" height="617" class="img_ev3q"><figcaption>5 publishers, 5 queue, 5 consumers, 100B messages, 50k msgs/s achieved</figcaption></figure><p></p>
<p>For 5kB messages, the results are much closer and in fact, 3.12 wins this particular test (something we may
look into in the future). However, 3.13 can still achieve similar results while using 100MB less memory:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="5 publishers, 5 queue, 5 consumers, 5kB messages, 50k msgs/s attempted" src="/rabbitmq-website/assets/images/cq-multiple-queues-5kb-68418ae003d62907acb986be9e00719a.png" width="1120" height="617" class="img_ev3q"><figcaption>5 publishers, 5 queue, 5 consumers, 5kB messages, 50k msgs/s attempted</figcaption></figure><p></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publisher-confirm-latency">Publisher Confirm Latency<a href="#publisher-confirm-latency" class="hash-link" aria-label="Direct link to Publisher Confirm Latency" title="Direct link to Publisher Confirm Latency">​</a></h3>
<p>Lastly, let&#x27;s take a look at a very different test. Rather than flooding queue(s) with messages, we only publish one
message at a time, wait for <a href="/rabbitmq-website/docs/confirms">the publisher confirm</a> and then publish the
next one (a consumer is present but not really relevant here, since it can easily consume the incoming messages).</p>
<p>With 100B messages, we can once again see how much faster CQv2s are, with well over 200% speed up compared to
CQv1 on 3.12:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publishers, 1 queue, 1 consumer, 100B messages" src="/rabbitmq-website/assets/images/cq-latency-100b-d86f82a02408aca51746e3245696774a.png" width="1120" height="857" class="img_ev3q"><figcaption>1 publishers, 1 queue, 1 consumer, 100B messages</figcaption></figure><p></p>
<p>With 5kB messages, the benefits of the new per-vhost message store implementation in 3.13 are apparent, with
more than 350% improvement:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="1 publisher, 1 queue, 1 consumer, 5kB messages" src="/rabbitmq-website/assets/images/cq-latency-5kb-d763b9ffdf93cb6754aa4bd83948975c.png" width="1120" height="857" class="img_ev3q"><figcaption>1 publisher, 1 queue, 1 consumer, 5kB messages</figcaption></figure><p></p>
<p>You may notice that the throughput is actually a bit higher with 5kB messages than it is with 100B messages.
This is counter-intuitive but actually not that strange. 5kB is still a tiny amount of data to send over the wire,
while the message store is designed to handle such messages better. As with everything else, this difference
may change in the future with further optimisations and perhaps a change to the default value of
<code>queue_index_embed_msgs_below</code> that we will consider.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="caveat">Caveat<a href="#caveat" class="hash-link" aria-label="Direct link to Caveat" title="Direct link to Caveat">​</a></h2>
<p>Both version 2 of the index and the new message store implementation should provide significant benefits for most users.
However, these implementations already focus on non-mirrored use cases and the new message store implementation was
designed with the v2 of the index in mind. While it is backwards compatible and can be used with classic queues v1,
there are some cases where using v1 of the index with the new message store may provide worse performance or a different
performance profile than in the past, as seen in the publish-only test. It is therefore highly recommended to:</p>
<ol>
<li>Test and benchmark your application with 3.13</li>
<li>Compare performance with v1 and v2</li>
<li>If v1 behaves better <strong>without mirroring</strong>, please report that, so we can take a look</li>
</ol>
<p>Remaining on v1 can be a workaround for the cases where it provides better performance. However, that old implementation
will be removed in the future, so you can&#x27;t rely on that workaround for long. Please report such cases so that you can
upgrade to v2 in the future.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="final-word">Final Word<a href="#final-word" class="hash-link" aria-label="Direct link to Final Word" title="Direct link to Final Word">​</a></h2>
<p>Redesigning and replacing such a core component of a widely used piece of software is a very hard task.
Special thanks to <a href="https://github.com/essen" target="_blank" rel="noopener noreferrer">Loïc Hoguin</a> for embarking on this project, scavenging through the code,
sometimes dating all the way back to the very first release of RabbitMQ, before the world heard about iPhones.
As always, we welcome testing and feedback and we hope the upgrade will provide you similar benefits as shown above.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/performance">Performance</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/rabbit-mq-3-13-x">RabbitMQ 3.13.x</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/blog/2024-01-11-3.13-release/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/2024/03/11/rabbitmq-3.13.0-announcement"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">RabbitMQ 3.13.0 Is Here!</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/2024/01/04/new-website"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">New website for RabbitMQ 3.13.0</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#classic-queues-storage-primer" class="table-of-contents__link toc-highlight">Classic Queues Storage Primer</a></li><li><a href="#classic-queues-version-2-cqv2" class="table-of-contents__link toc-highlight">Classic Queues Version 2 (CQv2)</a><ul><li><a href="#what-if-i-dont-feel-ready-for-cqv2" class="table-of-contents__link toc-highlight">What If I Don&#39;t Feel Ready for CQv2?</a></li></ul></li><li><a href="#cqv1---cqv2-conversion" class="table-of-contents__link toc-highlight">CQv1 -&gt; CQv2 Conversion</a></li><li><a href="#performance-comparison" class="table-of-contents__link toc-highlight">Performance Comparison</a><ul><li><a href="#publishing-and-consuming" class="table-of-contents__link toc-highlight">Publishing And Consuming</a></li><li><a href="#publish-only" class="table-of-contents__link toc-highlight">Publish Only</a></li><li><a href="#consume-only" class="table-of-contents__link toc-highlight">Consume Only</a></li><li><a href="#multiple-queues" class="table-of-contents__link toc-highlight">Multiple Queues</a></li><li><a href="#publisher-confirm-latency" class="table-of-contents__link toc-highlight">Publisher Confirm Latency</a></li></ul></li><li><a href="#caveat" class="table-of-contents__link toc-highlight">Caveat</a></li><li><a href="#final-word" class="table-of-contents__link toc-highlight">Final Word</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>