<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Performance of Queues: when less is more | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Performance of Queues: when less is more | RabbitMQ"><meta data-rh="true" name="description" content="Since the new persister arrived in RabbitMQ 2.0.0 (yes, it&#x27;s not so"><meta data-rh="true" property="og:description" content="Since the new persister arrived in RabbitMQ 2.0.0 (yes, it&#x27;s not so"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2011-10-27T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="New Features"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/10/27/performance-of-queues-when-less-is-more","headline":"Performance of Queues: when less is more","name":"Performance of Queues: when less is more","description":"Since the new persister arrived in RabbitMQ 2.0.0 (yes, it's not so","datePublished":"2011-10-27T00:00:00.000Z","author":{"@type":"Person","name":"Matthew Sackman"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">Performance of Queues: when less is more</h1><div class="container_mt6G margin-vert--md"><time datetime="2011-10-27T00:00:00.000Z">October 27, 2011</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Matthew Sackman</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Since the <em>new persister</em> arrived in RabbitMQ 2.0.0 (yes, it&#x27;s not so
<em>new</em> anymore), Rabbit has had a relatively good story to tell about
coping with queues that grow and grow and grow and reach sizes that
preclude them from being able to be held in RAM. Rabbit starts writing
out messages to disk fairly early on, and continues to do so at a
gentle rate so that by the time RAM gets really tight, we&#x27;ve done most
of the hard work already and thus avoid sudden bursts of
writes. Provided your message rates aren&#x27;t too high or too bursty,
this should all happen without any real impact on any connected
clients.</p>
<p>Some recent discussion with a client made us return to what we&#x27;d
thought was a fairly solved problem and has prompted us to make some
changes.</p>
<p>First, we
<a href="/rabbitmq-website/blog/2011/09/24/sizing-your-rabbits">took some time to understand better how CPU use per message varies as queues get longer and go to disk</a>,
and what the effect of that is. The conclusions are not necessarily
obvious. Then we started thinking about the justifications behind some
of the decisions queues take in the process of going from a
purely-in-RAM queue to a purely-on-disk queue.</p>
<p>An AMQP queue in Rabbit is not simple functional FIFO queue. There are
in fact at least four &quot;queues&quot; used internally by each AMQP queue,
each of which are allowed to hold messages in various different
states. These states are things like: Is the message held in RAM
(regardless of whether it has <em>additionally</em> been written to disk)?;
Is the message itself on disk, but its location within the queue still
only held in RAM? That sort of thing. Each message in the AMQP queue
will only appear at any one time in one of these internal queues, but
they can move from queue to queue if and when their state changes
(though the movement between these internal queues respects the
overall order of messages within the AMQP queue). There is then a
fifth &quot;queue&quot; which is not really a queue at all. It is more a couple
of numbers that indicate the range of messages that are held solely on
disk (if you like, these are pointers to the head and tail of the
&quot;queue&quot; which is solely on disk). Messages in this form have, in
theory, zero RAM-cost (depending on how you count (numbers cost RAM
too you know!), and elsewhere in Rabbit you can be fairly sure the
best you can get down to is a few bytes per message). The full gory
details can be gleaned from the essay at the top of the
<a href="http://hg.rabbitmq.com/rabbitmq-server/file/default/src/rabbit_variable_queue.erl" target="_blank" rel="noopener noreferrer">variable_queue</a>
module. It&#x27;s not really that terrifying, but it isn&#x27;t exactly noddy
stuff either. The tricky bits are working out how you decide which
messages should be in which states, and when, and I&#x27;m not going to
cover those decisions in this post.</p>
<p>A message that is captured by this fifth &quot;queue&quot; will potentially take
two reads to go from that purely-on-disk form right back to a
fully-in-RAM message. This is because every message has a message ID
(which is random, unordered, and allocated to each message before it
arrives at any queue, so is useless for determining relative position
within an AMQP queue), and within each AMQP queue each message is known by its
per-queue sequence ID, which enforces the relative order of messages
within an AMQP queue. This fifth &quot;queue&quot; can be thought of as a
mapping from sequence ID to message ID (plus some
per-message-per-queue state), and then you can use a different
subsystem to transform that message ID to the actual message.</p>
<p>As a result of these two reads (though the way we structure it, one of
the reads is shared between 16k messages, so it&#x27;s probably closer to
1+(1/16384) reads per message, at least by default), we&#x27;ve previously
tried to prevent the use of this fifth &quot;queue&quot;: in the past, even when
memory is running very low, we&#x27;ll write messages out to disk fully,
but then still hold onto a record in RAM (though by this point it&#x27;s a
fairly small record per message), assuming that this will give us an
advantage later on: yes, it costs more RAM, but if some other big AMQP
queue suddenly gets deleted and frees up lots of RAM then by holding
onto this smallish record per message, we avoid having to do the two
reads to go from the fifth &quot;queue&quot; back to a full message, and will
only have to do a single read instead. Only when RAM runs out
completely will we suddenly dump (almost) everything into this fifth
&quot;queue&quot; (though by this point, everything will be on disk by now
anyway so it&#x27;s more or less a no-op -- we&#x27;re just freeing up RAM in
this transition).</p>
<p>However, because of the effective amortisation of at least one of
these reads, using the fifth &quot;queue&quot; isn&#x27;t as expensive as we
feared. Plus, if you start to use it earlier then the queue grows in
RAM at a slower rate: messages have the lowest per-message RAM cost when
they&#x27;re in this fifth &quot;queue&quot;, and thus the greater your use of this
&quot;queue&quot;, the lower the rate at which your queue will consume RAM. This
on its own helps Rabbit smooth out the transition to purely on disk
operation (given the same growth rate in messages, a lower growth rate in RAM will result in a lower rate of disk ops).</p>
<p>So we&#x27;ve changed the behaviour of Rabbit&#x27;s AMQP queues to use this
fifth &quot;queue&quot; more eagerly. Benchmarks suggest that this seems to
result in an AMQP queue&#x27;s memory use flat-lining earlier on in its
growth, and actually seems to make Rabbit able to deliver messages
from large AMQP queues out to consumers faster (probably because by
limiting the size of the other four internal queues, some operations
which were found to be very inefficient (such as joining two
functional queues together (Erlang&#x27;s default queue module does a plain
append (<code>++</code>) here, which is expensive)) are avoided, thus more CPU is
available for driving consumers). The downside is that queues now
spend more time doing reads, but that seems to have been more than
offset by the lower user jiffies per message.</p>
<p>Below is a graph. This is very exciting -- not just because of the
fact that most of my blog posts are endless words. It shows three runs
of the same test program. This test program does the following:</p>
<ol>
<li>It creates 3 queues.</li>
<li>It binds those 3 queues to a fanout exchange.</li>
<li>It then starts publishing 200-byte messages to that exchange at 600
messages / second.</li>
<li>For the first 120 seconds, it has 20 consumers per queue consuming
without auto-ack, one ack per message, and a QoS pre-fetch of 1. This is known to be a very expensive way of consuming
messages. Further, the ack is deliberately delayed so that,
ignoring network latency, the maximum aggregate consuming rate will
be 1200 messages / second.</li>
<li>After 120 seconds, the consumers are stopped, and not started again
until there is a total backlog of 500,000 messages (i.e. each of
the 3 queues will have around 166,000 messages).</li>
<li>After that, the consumers resume as before, and you hope that the
queues can cope with the continuing publishes and drive their
backlog out to the consumers. Hopefully, all the queues will
eventually become empty again.</li>
</ol>
<p>Now depending on your CPU, RAM, network latency, and <em>high_watermark</em>
settings, this backlog can be purely in RAM only, and so no disk
operations ever take place; or it could be purely on disk; or anywhere
in between. Our desktops in the office here tend to be too powerful
for this test to cause any problems (the backlog always drains), but
on some EC2 hosts, with older versions of Erlang and older versions of
Rabbit, it was possible to reach a point where this backlog would
never drain, and instead grow.</p>
<p>In the following graph, we have three successful runs of this test,
both on <em>m1.large</em> EC2 instances, with the test being run on a
separate EC2 instance (i.e. we really were going across the
network). These are running Ubuntu images, but with a locally compiled
Erlang R14B04 installation. The three runs are: 1) what was on our
default branch prior to this work being merged; 2) our default branch
after this work was merged; 3) the 2.6.1 release.</p>
<p><img decoding="async" loading="lazy" src="/rabbitmq-website/assets/images/graph-c2bce54114145634671f1d00550eb140.svg" width="1600" height="1200" class="img_ev3q"></p>
<p>Since 2.6.1 was released, a fairly large number of performance tweaks
have been made, and this is shown by the faster rate at which the
backlog disappears. But the &quot;default prior to change&quot; and &quot;2.6.1&quot;
memory usages are fairly similar, whereas, on average, the &quot;default
post change&quot; has a lower memory usage. The memory measurements are not
especially compelling however as, owing to Erlang being an
auto-garbage-collected language, it is not always the case that
improving memory efficiency internally results in the VM requesting
less RAM or returning RAM to the OS faster. What is more compelling is
the faster rate at which the backlog is eliminated and the lower
cumulative jiffies: even though &quot;default post change&quot; is doing more
messages per second than either of the other runs, it still uses fewer
jiffies per second than the other runs.</p>
<p>Hopefully this change will make improvements to many users across many
scenarios. It&#x27;s possible there may be some use cases where it performs
worse -- we certainly can&#x27;t rule that out. No problem in software
engineering that&#x27;s worth solving has a single correct solution. This
case shows that sometimes, using less memory and doing apparently more disk ops
can actually make things go faster overall.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/blog/2011-10-27-performance-of-queues-when-less-is-more/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/2011/11/30/ponies-dragons-and-socks"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Ponies, Dragons and Socks</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/2011/10/25/high-availability-in-rabbitmq-solving-part-of-the-puzzle"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">High Availability in RabbitMQ: solving part of the puzzle</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>