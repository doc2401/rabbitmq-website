<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-list-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Blog | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/page/16"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" property="og:title" content="Blog | RabbitMQ"><meta data-rh="true" name="description" content="Blog"><meta data-rh="true" property="og:description" content="Blog"><meta data-rh="true" name="docusaurus_tag" content="blog_posts_list"><meta data-rh="true" name="docsearch:docusaurus_tag" content="blog_posts_list"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/page/16"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/page/16" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/page/16" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/page/16","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/page/16","headline":"Blog","description":"Blog","blogPost":[{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/05/17/can-you-hear-the-drums-erlando","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/05/17/can-you-hear-the-drums-erlando","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/05/17/can-you-hear-the-drums-erlando","headline":"Can you hear the drums, Erlando?","name":"Can you hear the drums, Erlando?","description":"Most of us at RabbitMQ HQ have spend time working in a number of functional languages in addition to Erlang, such as Haskell, Scheme, Lisp, OCaml or others. Whilst there is lots to like about Erlang, such as its VM/Emulator, there are inevitably features that we all miss from other languages. In my case, having spent a couple of years working in Haskell before returning to the RabbitMQ fold, all sorts of features are \"missing\", such as laziness, type classes, additional infix operators, the ability to specify precedence of functions, fewer parenthesis, partial application, more consistent standard libraries and do-notation. That's a fair list, and it'll take me a while to get around to implementing them all in Erlang, but here are two for starters.","datePublished":"2011-05-17T00:00:00.000Z","author":{"@type":"Person","name":"Matthew Sackman"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/28/very-fast-and-scalable-topic-routing-part-2","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/28/very-fast-and-scalable-topic-routing-part-2","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/28/very-fast-and-scalable-topic-routing-part-2","headline":"Very fast and scalable topic routing - part 2","name":"Very fast and scalable topic routing - part 2","description":"In our previous blog post we talked about a few approaches to topic routing optimization and described the two more important of these in brief. In this post, we will talk about a few things we tried when implementing the DFA, as well as some performance benchmarking we have done on the trie and the DFA.","datePublished":"2011-03-28T00:00:00.000Z","author":{"@type":"Person","name":"Vlad Alexandru Ionescu"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/23/sender-selected-distribution","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/23/sender-selected-distribution","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/23/sender-selected-distribution","headline":"Sender-selected distribution","name":"Sender-selected distribution","description":"RabbitMQ 2.4.0 introduced an extension that allows publishers to specify multiple routing keys in the CC and BCC message headers. The BCC header is removed from the message prior to delivery. Direct and topic exchanges are the only standard exchange types that make use of routing keys, therefore the routing logic of this feature only works with these exchange types.","datePublished":"2011-03-23T00:00:00.000Z","author":{"@type":"Person","name":"Emile Joubert"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/01/ruby-amqp-benchmarks","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/01/ruby-amqp-benchmarks","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/03/01/ruby-amqp-benchmarks","headline":"Ruby AMQP Benchmarks","name":"Ruby AMQP Benchmarks","description":"I decided to run some benchmarks of my AMQP encoder/decoder (AMQ Protocol gem) against the old one in the AMQP gem to see whether it performs better or not. So far I did only the most basic optimisations like storing reusable values in constants, nothing special (yet).","datePublished":"2011-03-01T00:00:00.000Z","author":{"@type":"Person","name":"Jakub Stastny"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/10/introducing-publisher-confirms","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/10/introducing-publisher-confirms","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/10/introducing-publisher-confirms","headline":"Introducing Publisher Confirms","name":"Introducing Publisher Confirms","description":"In many messaging scenarios, you must not lose messages.  Since AMQP gives few guarantees regarding message persistence/handling, the traditional way to do this is with transactions, which can be unacceptably slow.  To remedy this problem, we introduce an extension to AMQP in the form of Lightweight Publisher Confirms.","datePublished":"2011-02-10T00:00:00.000Z","author":{"@type":"Person","name":"Alexandru Scvortov"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/07/who-are-you-authentication-and-authorisation-in-rabbitmq-231","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/07/who-are-you-authentication-and-authorisation-in-rabbitmq-231","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/02/07/who-are-you-authentication-and-authorisation-in-rabbitmq-231","headline":"Who are you? Authentication and authorisation in RabbitMQ 2.3.1","name":"Who are you? Authentication and authorisation in RabbitMQ 2.3.1","description":"RabbitMQ 2.3.1 introduces a couple of new plugin mechanisms, allowing you much more control over how users authenticate themselves against Rabbit, and how we determine what they are authorised to do. There are three questions of concern here:","datePublished":"2011-02-07T00:00:00.000Z","author":{"@type":"Person","name":"Simon MacMullen"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks","headline":"RabbitMQ, backing stores, databases and disks","name":"RabbitMQ, backing stores, databases and disks","description":"From time to time, on","datePublished":"2011-01-20T00:00:00.000Z","author":{"@type":"Person","name":"Matthew Sackman"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/19/ruby-amqp-0-7-released","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/19/ruby-amqp-0-7-released","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/19/ruby-amqp-0-7-released","headline":"Ruby AMQP 0.7 released!","name":"Ruby AMQP 0.7 released!","description":"I'm happy to announce that the AMQP 0.7 is released, as I promised in the previous blog post. So what are the changes?","datePublished":"2011-01-19T00:00:00.000Z","author":{"@type":"Person","name":"Jakub Stastny"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro","headline":"What's Going on with the Ruby AMQP Gem?","name":"What's Going on with the Ruby AMQP Gem?","description":"In the past year development of the AMQP gem was practicaly stagnating, as its original author Aman Gupta (@tmm1) was busy. A lot of bugs stayed unresolved, the code was getting old and out-dated and no new features or documentation were made.","datePublished":"2011-01-12T00:00:00.000Z","author":{"@type":"Person","name":"Jakub Stastny"},"keywords":[]},{"@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2010/12/01/amqp-10-prototyping","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2010/12/01/amqp-10-prototyping","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2010/12/01/amqp-10-prototyping","headline":"AMQP 1.0 prototyping","name":"AMQP 1.0 prototyping","description":"We have been prototyping support for a new protocol, as is our wont.  This one is called \"AMQP 1.0 R0\", and it is the new issue from the AMQP working group (of which RabbitMQ, and latterly VMware, are a member). The \"R0\" indicates that it's the first revision of a recommendation. The specification is incomplete: there are many TODOs, and to a large extent it is unproven. Those two facts are part of what prompted this prototyping.","datePublished":"2010-12-01T00:00:00.000Z","author":{"@type":"Person","name":"Michael Bridgen"},"keywords":[]}]}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/05/17/can-you-hear-the-drums-erlando">Can you hear the drums, Erlando?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-05-17T00:00:00.000Z">May 17, 2011</time> · <!-- -->16 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Matthew Sackman</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>Most of us at RabbitMQ HQ have spend time working in a number of functional languages in addition to Erlang, such as Haskell, Scheme, Lisp, OCaml or others. Whilst there is lots to like about Erlang, such as its VM/Emulator, there are inevitably features that we all miss from other languages. In my case, having spent a couple of years working in Haskell before returning to the RabbitMQ fold, all sorts of features are &quot;missing&quot;, such as laziness, type classes, additional infix operators, the ability to specify precedence of functions, fewer parenthesis, partial application, more consistent standard libraries and do-notation. That&#x27;s a fair list, and it&#x27;ll take me a while to get around to implementing them all in Erlang, but here are two for starters.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/programming-languages">Programming Languages</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Can you hear the drums, Erlando?" href="/rabbitmq-website/blog/2011/05/17/can-you-hear-the-drums-erlando"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/03/28/very-fast-and-scalable-topic-routing-part-2">Very fast and scalable topic routing - part 2</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-03-28T00:00:00.000Z">March 28, 2011</time> · <!-- -->9 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Vlad Alexandru Ionescu</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In our <a href="/rabbitmq-website/blog/2010/09/14/very-fast-and-scalable-topic-routing-part-1">previous blog post</a> we talked about a few approaches to topic routing optimization and described the two more important of these in brief. In this post, we will talk about a few things we tried when implementing the DFA, as well as some performance benchmarking we have done on the trie and the DFA.</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Very fast and scalable topic routing - part 2" href="/rabbitmq-website/blog/2011/03/28/very-fast-and-scalable-topic-routing-part-2"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/03/23/sender-selected-distribution">Sender-selected distribution</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-03-23T00:00:00.000Z">March 23, 2011</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Emile Joubert</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>RabbitMQ 2.4.0 introduced an extension that allows publishers to specify multiple routing keys in the CC and BCC message headers. The BCC header is removed from the message prior to delivery. Direct and topic exchanges are the only standard exchange types that make use of routing keys, therefore the routing logic of this feature only works with these exchange types.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Sender-selected distribution" href="/rabbitmq-website/blog/2011/03/23/sender-selected-distribution"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/03/01/ruby-amqp-benchmarks">Ruby AMQP Benchmarks</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-03-01T00:00:00.000Z">March 1, 2011</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Jakub Stastny</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>I decided to run some <a href="https://github.com/ruby-amqp/amqp-benchmarks" target="_blank" rel="noopener noreferrer">benchmarks</a> of my AMQP encoder/decoder (<a href="https://github.com/ruby-amqp/amq-protocol" target="_blank" rel="noopener noreferrer">AMQ Protocol</a> gem) against the old one in the <a href="https://github.com/ruby-amqp/amqp" target="_blank" rel="noopener noreferrer">AMQP</a> gem to see whether it performs better or not. So far I did only the most basic optimisations like storing reusable values in constants, nothing special (yet).</p>
<p>I did two sets of benchmarks: CPU time benchmarking using <a href="https://github.com/botanicus/rbench" target="_blank" rel="noopener noreferrer">my fork of RBench</a> with support for custom formatters (like writing results into a YAML file) and memory benchmarking using <code>Object.count_objects</code> (Ruby 1.9).</p></div><footer class="row docusaurus-mt-lg"><div class="col text--right"><a aria-label="Read more about Ruby AMQP Benchmarks" href="/rabbitmq-website/blog/2011/03/01/ruby-amqp-benchmarks"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/02/10/introducing-publisher-confirms">Introducing Publisher Confirms</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-02-10T00:00:00.000Z">February 10, 2011</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Alexandru Scvortov</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In many messaging scenarios, you must not lose messages.  Since AMQP gives few guarantees regarding message persistence/handling, the traditional way to do this is with transactions, which can be unacceptably slow.  To remedy this problem, we introduce an extension to AMQP in the form of Lightweight Publisher Confirms.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Introducing Publisher Confirms" href="/rabbitmq-website/blog/2011/02/10/introducing-publisher-confirms"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/02/07/who-are-you-authentication-and-authorisation-in-rabbitmq-231">Who are you? Authentication and authorisation in RabbitMQ 2.3.1</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-02-07T00:00:00.000Z">February 7, 2011</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Simon MacMullen</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>RabbitMQ 2.3.1 introduces a couple of new plugin mechanisms, allowing you much more control over how users authenticate themselves against Rabbit, and how we determine what they are authorised to do. There are three questions of concern here:</p>
<ol>
<li>How does the client prove its identity over the wire?</li>
<li>Where do users and authentication information (e.g. password hashes) live?</li>
<li>Where does permission information live?</li>
</ol>
<p>Question 1 is answered in the case of AMQP by <a href="http://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer" target="_blank" rel="noopener noreferrer">SASL</a> - a simple protocol for pluggable authentication mechanisms that is embedded within AMQP (and various other protocols). SASL lets a client and a server negotiate and use an authentication mechanism, without the &quot;outer&quot; protocol having to know any of the details about how authentication works.</p>
<p>SASL offers a number of &quot;mechanisms&quot;. Since the beginning, RabbitMQ has supported the PLAIN mechanism, which basically consists of sending a username and password over the wire in plaintext (of course possibly the whole connection might be protected by SSL). It&#x27;s also supported the variant AMQPLAIN mechanism (which is conceptually identical to PLAIN but slightly easier to implement if you have an AMQP codec lying around). RabbitMQ 2.3.1 adds a plugin system allowing you to add or configure more mechanisms, and we&#x27;ve written an example plugin which implements the SASL EXTERNAL mechanism.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/how-to">HowTo</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Who are you? Authentication and authorisation in RabbitMQ 2.3.1" href="/rabbitmq-website/blog/2011/02/07/who-are-you-authentication-and-authorisation-in-rabbitmq-231"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks">RabbitMQ, backing stores, databases and disks</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-01-20T00:00:00.000Z">January 20, 2011</time> · <!-- -->8 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Matthew Sackman</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>From time to time, on
our <a href="https://lists.rabbitmq.com/cgi-bin/mailman/listinfo/rabbitmq-discuss" target="_blank" rel="noopener noreferrer">mailing
list</a> and elsewhere, the idea comes up of using a
different <em>backing store</em> within RabbitMQ. The backing store is
the bit that&#x27;s responsible for writing messages to disk (a message can
be written to disk for a number of reasons) and it&#x27;s a fairly frequent
suggestion to see what RabbitMQ would look like if its own backing
store was replaced with another storage system.</p>
<p>Such a change would permit functionality that is not currently
possible, for example out-of-band queue browsing, or distributed
storage, but there is a fundamental difference in the nature of data
storage and access patterns between a message broker such as RabbitMQ
and a generic database. Indeed RabbitMQ deliberately does not store
messages in such a database.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/introductory">Introductory</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about RabbitMQ, backing stores, databases and disks" href="/rabbitmq-website/blog/2011/01/20/rabbitmq-backing-stores-databases-and-disks"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/01/19/ruby-amqp-0-7-released">Ruby AMQP 0.7 released!</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-01-19T00:00:00.000Z">January 19, 2011</time> · <!-- -->4 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Jakub Stastny</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>I&#x27;m happy to announce that the AMQP 0.7 is released, as I promised in the <a href="/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro">previous blog post</a>. So what are the changes?</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about Ruby AMQP 0.7 released!" href="/rabbitmq-website/blog/2011/01/19/ruby-amqp-0-7-released"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro">What&#x27;s Going on with the Ruby AMQP Gem?</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2011-01-12T00:00:00.000Z">January 12, 2011</time> · <!-- -->5 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Jakub Stastny</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>In the past year development of the AMQP gem was practicaly stagnating, as its original author <a href="https://github.com/tmm1" target="_blank" rel="noopener noreferrer">Aman Gupta</a> (<a href="http://twitter.com/tmm1" target="_blank" rel="noopener noreferrer">@tmm1</a>) was busy. A lot of bugs stayed unresolved, the code was getting old and out-dated and no new features or documentation were made.</p>
<p>At this point I started to talk with the RabbitMQ guys about possible collaboration on this. Actually originally I contacted VMware when I saw <a href="http://twitter.com/ezmobius" target="_blank" rel="noopener noreferrer">Ezra Zygmuntowicz</a> looking for people to his cloud team, but when I found that VMware recently acquired the RabbitMQ project in London, I got interested. I signed the contract, switched from <code>script/console</code> to Wireshark and the RabbitMQ Tracer and since November I&#x27;ve been happily hacking on the AMQP and AMQ-Protocol gems.</p></div><footer class="row docusaurus-mt-lg"><div class="col col--9"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/introductory">Introductory</a></li></ul></div><div class="col text--right col--3"><a aria-label="Read more about What&#x27;s Going on with the Ruby AMQP Gem?" href="/rabbitmq-website/blog/2011/01/12/ruby-amqp-gem-intro"><b>Read more</b></a></div></footer></article><article class="margin-bottom--xl"><header><h2 class="title_f1Hy"><a href="/rabbitmq-website/blog/2010/12/01/amqp-10-prototyping">AMQP 1.0 prototyping</a></h2><div class="container_mt6G margin-vert--md"><time datetime="2010-12-01T00:00:00.000Z">December 1, 2010</time> · <!-- -->2 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Michael Bridgen</span></div><div class="authorSocials_rSDt"></div></div></div></div></div></header><div class="markdown"><p>We have been prototyping support for a new protocol, as is our wont.  This one is called &quot;AMQP 1.0 R0&quot;, and it is the new issue from the AMQP working group (of which RabbitMQ, and latterly VMware, are a member). The &quot;R0&quot; indicates that it&#x27;s the first revision of a recommendation. The specification is incomplete: there are many TODOs, and to a large extent it is unproven. Those two facts are part of what prompted this prototyping.</p>
<p>The prototype code is mirrored at github: <a href="http://github.com/rabbitmq/rabbitmq-amqp1.0" target="_blank" rel="noopener noreferrer">http://github.com/rabbitmq/rabbitmq-amqp1.0</a>. It is built <a href="/rabbitmq-website/plugin-development">just the same</a> as all our plugins.</p>
<p>The AMQP 1.0 R0 specification differs from the specification of previous versions of AMQP, in that it does not define a broker model; i.e., it doesn&#x27;t define exchanges queues and bindings, or their equivalents. The protocol is really only about transferring messages from one agent to another, and then agreeing on what the outcome was. That means it is amenable to bolting on to a message broker implementation, among other uses -- the idea is that one can adapt an  existing model to suit.</p>
<p>In our case, the incumbent model is that of AMQP 0-9-1, with some generalisations and extensions (for example, chained bindings). Our target with the prototype is therefore to be able to get something useful done with both 1.0 clients and 0-9-1 clients connected at the same time.</p>
<p>Well, the good news is, we&#x27;ve achieved that. In fact the plugin can be set up to replace Rabbit&#x27;s usual network listener, and will happily talk to AMQP 0-8, 0-9-1, and 1.0 clients. We did have to do some invention along the way, and there are some parts of the specification that we are conspicuously not implementing. These will be detailed in the README soon.</p>
<p>One large part of the invention is to fill in semantics where the specification is silent. Some of these are detailed in <a href="/rabbitmq-website/assets/files/amqp-broker-prototype-92af0498d30f0ea19731a1cc25dfd63b.pdf" target="_blank">this client-broker protocol</a> work we did for the AMQP working group. We&#x27;re hoping the prototyping will help fill this out some more.</p>
<p>Next week I&#x27;ll be taking our prototype to the <a href="http://www.amqp.org/confluence/display/AMQP/Connectathon+1+%28Dec+2010%29" target="_blank" rel="noopener noreferrer">AMQP 1.0 &quot;Connectathon&quot;</a>, where it&#x27;ll be tested against other implementations of the core protocol (not all of which are open source). Again, this will help to flush out barriers to interoperability in the specification.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/hasenwerkstatt">Hasenwerkstatt</a></li></ul></div></footer></article><nav class="pagination-nav" aria-label="Blog list page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/page/15"><div class="pagination-nav__label">Newer entries</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/page/17"><div class="pagination-nav__label">Older entries</div></a></nav></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>