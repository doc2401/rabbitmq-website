<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">RabbitMQ 3.10 Performance Improvements | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="RabbitMQ 3.10 Performance Improvements | RabbitMQ"><meta data-rh="true" name="description" content="RabbitMQ 3.10 was released on the 3rd of May 2022, with many new features and improvements."><meta data-rh="true" property="og:description" content="RabbitMQ 3.10 was released on the 3rd of May 2022, with many new features and improvements."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-05-16T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/mkuratczyk"><meta data-rh="true" property="article:tag" content="Performance"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/05/16/rabbitmq-3.10-performance-improvements","headline":"RabbitMQ 3.10 Performance Improvements","name":"RabbitMQ 3.10 Performance Improvements","description":"RabbitMQ 3.10 was released on the 3rd of May 2022, with many new features and improvements.","datePublished":"2022-05-16T00:00:00.000Z","author":{"@type":"Person","name":"Michał Kuratczyk","url":"https://github.com/mkuratczyk","image":"https://github.com/mkuratczyk.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">RabbitMQ 3.10 Performance Improvements</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-05-16T00:00:00.000Z">May 16, 2022</time> · <!-- -->12 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/mkuratczyk.png" alt="Michał Kuratczyk"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Michał Kuratczyk</span></a></div><div class="authorSocials_rSDt"><a href="https://github.com/mkuratczyk" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://www.linkedin.com/in/mkuratczyk/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a><a href="https://fosstodon.org/@kura" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Mastodon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 61 65" width="1em" height="1em" class="authorSocialLink_owbf"><path fill="url(#:Rfndbeh:)" d="M60.754 14.39C59.814 7.406 53.727 1.903 46.512.836 45.294.656 40.682 0 29.997 0h-.08C19.23 0 16.938.656 15.72.836 8.705 1.873 2.299 6.82.745 13.886c-.748 3.48-.828 7.338-.689 10.877.198 5.075.237 10.142.697 15.197a71.482 71.482 0 0 0 1.664 9.968c1.477 6.056 7.458 11.096 13.317 13.152a35.718 35.718 0 0 0 19.484 1.028 28.365 28.365 0 0 0 2.107-.576c1.572-.5 3.413-1.057 4.766-2.038a.154.154 0 0 0 .062-.118v-4.899a.146.146 0 0 0-.055-.111.145.145 0 0 0-.122-.028 54 54 0 0 1-12.644 1.478c-7.328 0-9.298-3.478-9.863-4.925a15.258 15.258 0 0 1-.857-3.882.142.142 0 0 1 .178-.145 52.976 52.976 0 0 0 12.437 1.477c1.007 0 2.012 0 3.02-.026 4.213-.119 8.654-.334 12.8-1.144.103-.02.206-.038.295-.065 6.539-1.255 12.762-5.196 13.394-15.176.024-.393.083-4.115.083-4.523.003-1.386.446-9.829-.065-15.017Z"></path><path fill="#fff" d="M50.394 22.237v17.35H43.52V22.749c0-3.545-1.478-5.353-4.483-5.353-3.303 0-4.958 2.139-4.958 6.364v9.217h-6.835V23.76c0-4.225-1.657-6.364-4.96-6.364-2.988 0-4.48 1.808-4.48 5.353v16.84H10.93V22.237c0-3.545.905-6.362 2.715-8.45 1.868-2.082 4.317-3.152 7.358-3.152 3.519 0 6.178 1.354 7.951 4.057l1.711 2.871 1.714-2.871c1.773-2.704 4.432-4.056 7.945-4.056 3.038 0 5.487 1.069 7.36 3.152 1.81 2.085 2.712 4.902 2.71 8.449Z"></path><defs><linearGradient id=":Rfndbeh:" x1="30.5" x2="30.5" y1="0" y2="65" gradientUnits="userSpaceOnUse"><stop stop-color="#6364FF"></stop><stop offset="1" stop-color="#563ACC"></stop></linearGradient></defs></svg></a><a href="https://bsky.app/profile/mkuratczyk.bsky.social" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 226" class="authorSocialLink_owbf"><path fill="#1185FE" d="M55.491 15.172c29.35 22.035 60.917 66.712 72.509 90.686 11.592-23.974 43.159-68.651 72.509-90.686C221.686-.727 256-13.028 256 26.116c0 7.818-4.482 65.674-7.111 75.068-9.138 32.654-42.436 40.983-72.057 35.942 51.775 8.812 64.946 38 36.501 67.187-54.021 55.433-77.644-13.908-83.696-31.676-1.11-3.257-1.63-4.78-1.637-3.485-.008-1.296-.527.228-1.637 3.485-6.052 17.768-29.675 87.11-83.696 31.676-28.445-29.187-15.274-58.375 36.5-67.187-29.62 5.041-62.918-3.288-72.056-35.942C4.482 91.79 0 33.934 0 26.116 0-13.028 34.314-.727 55.491 15.172Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>RabbitMQ 3.10 was released on the 3rd of May 2022, with <a href="/rabbitmq-website/blog/2022/05/05/rabbitmq-3.10-release-overview">many new features and improvements</a>.
This blog post gives an overview of the performance improvements
in that release. Long story short, you can expect higher throughput, lower latency and faster node startups,
especially with large definitions files imported on startup.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>First, have a look at <a href="/rabbitmq-website/blog/2022/05/05/rabbitmq-3.10-release-overview">3.10 release overview blog post</a> for a high-level overview of what&#x27;s new in that release.
Here, we&#x27;ll only focus on the performance improvements and features that have performance implications.
Some of the improvements covered here have been backported to 3.9.x,
so to demonstrate the difference, we will use 3.9.0 as a point of reference.</p>
<p>If you can&#x27;t upgrade to 3.10 just yet, make sure you are at least running a latest 3.9.x patch release
to take advantage of these optimizations.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-39-vs-310">RabbitMQ 3.9 vs 3.10<a href="#rabbitmq-39-vs-310" class="hash-link" aria-label="Direct link to RabbitMQ 3.9 vs 3.10" title="Direct link to RabbitMQ 3.9 vs 3.10">​</a></h2>
<p>Let&#x27;s compare RabbitMQ 3.9 and 3.10 in a few different scenarios. Please keep in mind that these are specific benchmarks
that may or may not reflect the nature and performance of your workload.</p>
<p>You can run these or similar tests on your own using RabbitMQ load testing tools, <a href="https://github.com/rabbitmq/rabbitmq-perf-test" target="_blank" rel="noopener noreferrer">perf-test</a>
and <a href="https://github.com/rabbitmq/rabbitmq-stream-java-client" target="_blank" rel="noopener noreferrer">stream-perf-test</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-environment">The Environment<a href="#the-environment" class="hash-link" aria-label="Direct link to The Environment" title="Direct link to The Environment">​</a></h3>
<p>These tests were executed using:</p>
<ul>
<li>A GKE cluster with e2-standard-16 nodes</li>
<li>RabbitMQ clusters deployed using <a href="/rabbitmq-website/kubernetes/operator/operator-overview">our Kubernetes Operator</a> with the following resources and configuration</li>
</ul>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rabbitmq.com/v1beta1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RabbitmqCluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">replicas</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># or 3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> rabbitmq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain">3.10.1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">management </span><span class="token comment" style="color:#999988;font-style:italic"># or rabbitmq:3.9.0-management</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 16Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 16Gi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">persistence</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storageClassName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> premium</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">rwo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">storage</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;3000Gi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">rabbitmq</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">advancedConfig</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      [</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      {rabbit, [</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          {credit_flow_default_credit,{0,0}}</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      ]}</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">      ].</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Some notes on the environment:</p>
<ol>
<li>For many tests (or even production workloads), these resource settings are excessive. This, however, is the standard configuration for RabbitMQ load tests on our team.</li>
<li>You should be able to reach higher values with better hardware, including in Google Cloud</li>
<li>The credit flow was disabled because otherwise a single fast publisher will be throttled (to prevent overload and to give a fair chance to other publishers),
which is the right thing to do in a production environment but doesn&#x27;t make sense in a server load test.</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-1-one-queue-fast-publishers-and-consumers">Scenario 1: One Queue, Fast Publishers and Consumers<a href="#scenario-1-one-queue-fast-publishers-and-consumers" class="hash-link" aria-label="Direct link to Scenario 1: One Queue, Fast Publishers and Consumers" title="Direct link to Scenario 1: One Queue, Fast Publishers and Consumers">​</a></h3>
<p>In the first scenario, we will use just 1 queue, with 2 publishers and 2 consumers.
We will test with message sizes of 10, 100, 1000 and 5000 bytes.</p>
<p>We are using 2 publishers, because a single publisher is unable to fully utilize the queue in some configurations, especially with very small messages.
Note that RabbitMQ 3.11 (currently in <code>master</code>) already has some <a href="https://github.com/rabbitmq/rabbitmq-server/pull/4606" target="_blank" rel="noopener noreferrer">routing efficiency improvements</a>,
so perhaps this will not be the case for future releases.</p>
<p>The following <a href="https://rabbitmq.github.io/rabbitmq-perf-test/stable/htmlsingle/" target="_blank" rel="noopener noreferrer"><code>perf-test</code> flags</a> were used in this workload:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># classic queues (with an exactly=3 mirroring policy where applicable)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --auto-delete </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--flag</span><span class="token plain"> persistent </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> cq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># quorum queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --quorum-queue </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> qq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 1: 1 queue, 2 publishers and 2 consumers; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)" src="/rabbitmq-website/assets/images/single-queue-throughput-5fb29b0844685b542963934ee1511e55.png" width="1938" height="1440" class="img_ev3q"><figcaption>Scenario 1: 1 queue, 2 publishers and 2 consumers; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)</figcaption></figure><p></p>
<p>Observations:</p>
<ul>
<li>quorum queues throughput is several times higher than that of classic mirrored queues (CMQs)</li>
<li>quorum queues in 3.10 can achieve even 50% higher throughput in some scenarios</li>
<li>classic queues v2 are already a bit better than v1 in some scenarios</li>
<li>CMQs do not get any new improvements and will be removed in RabbitMQ 4.0; please migrate to quorum queues, <a href="/rabbitmq-website/docs/stream">streams</a>
or non-mirrored classic queues where appropriate</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-2-one-queue-10000-msgs">Scenario 2: One Queue, 10000 msg/s<a href="#scenario-2-one-queue-10000-msgs" class="hash-link" aria-label="Direct link to Scenario 2: One Queue, 10000 msg/s" title="Direct link to Scenario 2: One Queue, 10000 msg/s">​</a></h3>
<p>In the previous scenario, some code paths in RabbitMQ were running at or close to its maximum speed at all times.
This time, we&#x27;ll set a fixed target throughput of 10000 msg/s
and compare whether different environments can sustain this workload, as the message size increases over time.</p>
<p>Since the expected throughput is known, we will focus on measuring latency and its variability.</p>
<p>The following perf-test flags were used in this scenario:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># classic queues (with an exactly=3 mirroring policy where applicable)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--rate</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --auto-delete </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--flag</span><span class="token plain"> persistent </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> cq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># quorum queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--rate</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --quorum-queue </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> qq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once again, quorum queues confidently beat classic mirrored queues (CMQs):</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)" src="/rabbitmq-website/assets/images/one-queue-10k-all-9d0f684d81a4b050a827ff748cc6cb90.png" width="790" height="1144" class="img_ev3q"><figcaption>Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)</figcaption></figure><p></p>
<p>Let&#x27;s zoom in on non-mirrored classic queues to compare the v1 and v2 message store and queue index implementations.
We can see that CQv2 offer lower and more consistent latency:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)" src="/rabbitmq-website/assets/images/one-queue-10k-cq-5be1e1c9ce1b768babd162ddb01964c4.png" width="790" height="916" class="img_ev3q"><figcaption>Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)</figcaption></figure><p></p>
<p>Single-node quorum queues 3.9 and 3.10 performed very similarly in this test (see the legend on the first graph).
Let&#x27;s focus on the 3-node clusters:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)" src="/rabbitmq-website/assets/images/one-queue-10k-qq-f8151b0fcc1c97759fde3ac79c00d120.png" width="790" height="913" class="img_ev3q"><figcaption>Scenario 2: 1 queue, 1 publisher and 1 consumer; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)</figcaption></figure><p></p>
<p>As you can see, quorum queues in version 3.10 offer a significantly lower and more consistent latency. There are still spikes, due to the batching or periodic
nature of some quorum queues operations. This is an area of improvement for future releases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-3-500-queues-5000-msgs-total">Scenario 3: 500 Queues, 5000 msg/s Total<a href="#scenario-3-500-queues-5000-msgs-total" class="hash-link" aria-label="Direct link to Scenario 3: 500 Queues, 5000 msg/s Total" title="Direct link to Scenario 3: 500 Queues, 5000 msg/s Total">​</a></h3>
<p>In this scenario, we will have 500 queues, each queue with 1 publisher publishing 10 messages per second and a consumer that consumes these messages. The total expected
throughput is therefore 5000 messages per second. Once again, we ran this scenario for one hour, changing message size every 15 minutes (10, 100, 1000 and 5000 bytes).</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># classic queues (with an exactly=3 mirroring policy where applicable)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> --publishing-interval </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --queue-pattern cq-%d --queue-pattern-from </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> --queue-pattern-to </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --auto-delete </span><span class="token boolean" style="color:#36acaa">false</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--flag</span><span class="token plain"> persistent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># quorum queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain"> --publishing-interval </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --variable-size </span><span class="token number" style="color:#36acaa">10</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">100</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain">:900 --variable-size </span><span class="token number" style="color:#36acaa">5000</span><span class="token plain">:900 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --quorum-queue --queue-pattern qq-%d --queue-pattern-from </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> --queue-pattern-to </span><span class="token number" style="color:#36acaa">500</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 3: 500 queues, 1 publisher, 1 consumer, 10 messages per queue; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)" src="/rabbitmq-website/assets/images/500-queues-2b1e43c841197eba80e00e66996cf913.png" width="1952" height="2184" class="img_ev3q"><figcaption>Scenario 3: 500 queues, 1 publisher, 1 consumer, 10 messages per queue; message size of 10, 100, 1000 and 5000 bytes (15 minutes each)</figcaption></figure><p></p>
<p>Observations:</p>
<ol>
<li>Only CMQs struggled to sustain the expected 5000 msg/s throughput</li>
<li>Classic queues v2 had the lowest and most consistent latency throughout the test</li>
<li>A 3.9.0 CMQ environment had a crazy high publishing latency; I did not investigate why, simply use quorum queues or streams!</li>
</ol>
<p>Since classic queues, especially the mirrored 3.9.0 environment, dominated the graph so much,
here is the same graph but focused on classic queues v2 and 3.10 quorum queues:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 3: 3.10 environments only" src="/rabbitmq-website/assets/images/500-queues-2-871c498325dbe2ad60f8efa17b55a6b8.png" width="1956" height="1718" class="img_ev3q"><figcaption>Scenario 3: 3.10 environments only</figcaption></figure><p></p>
<p>As explained above, quorum queues latency is not as consistent as we would like it to be, but most of the time they stay within 25ms.
That&#x27;s still with 500 queues, at 5000 msg/s total with 10/100/1000 byte messages, and not much higher with 5000-byte messages.</p>
<p>In the case of a 3-node quorum queue, this was a degenerate (edge case) cluster with all queue leaders
and all connections on a single node. This was done intentionally to make test results more comparable between runs and between single-node and 3-node clusters.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scenario-4-long-quorum-queues">Scenario 4: Long Quorum Queues<a href="#scenario-4-long-quorum-queues" class="hash-link" aria-label="Direct link to Scenario 4: Long Quorum Queues" title="Direct link to Scenario 4: Long Quorum Queues">​</a></h3>
<p>Prior to 3.10, quorum queues did not perform very well when they were long -- retrieving the oldest messages for the consumers was a costly operation.
In this scenario we&#x27;ll first publish 10 million messages using 2 publishers and then will consume all of them using two consumers.</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># publish 10 milion messages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--confirm</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--pmessages</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5000000</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --queue-args x-max-in-memory-length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> --quorum-queue </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> qq</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># consume 10 milion messages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perf-test </span><span class="token parameter variable" style="color:#36acaa">--producers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--consumers</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> --multi-ack-every </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--qos</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3000</span><span class="token plain"> --exit-when empty </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          --queue-args x-max-in-memory-length</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> --quorum-queue </span><span class="token parameter variable" style="color:#36acaa">--queue</span><span class="token plain"> qq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that starting with 3.10, quorum queues ignore the  <code>x-max-in-memory-length</code> property.
It can still be configured via a policy but will have no effect -- the queues will behave as if it was set to <code>0</code>.</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 4: 10 million messages published and then consumed" src="/rabbitmq-website/assets/images/long-queue-b22fbc467067a4fe5f77b00e7ad405f6.png" width="1676" height="1864" class="img_ev3q"><figcaption>Scenario 4: 10 million messages published and then consumed</figcaption></figure><p></p>
<p>Observations:</p>
<ol>
<li>In 3.10.1, it took roughly the same time to publish and consume the messages (about 3 minutes each)</li>
<li>3.9.0 needed twice as much time to publish the messages (about 6 minutes)</li>
<li>A singe node 3.9.1 needed almost 15 minutes to empty the queue and a 3-node cluster needed additional 2 minutes</li>
<li>Both 3.9 instances started consumption at about 10000 msg/s and slowly improved over time. The consumption rate for the 3-node 3.9.0 cluster
increased significantly at the end, when the queue was short</li>
</ol>
<p>Worth noting are the two dips in the 3.9 publisher&#x27;s graph (the orange line). The cluster hit a memory alarm, so the publishers were temporarily blocked.
This didn&#x27;t happen to the 3.10 environment, despite 3.10 performing more work at that time (publishing and consuming faster).</p>
<p>Quorum queues in 3.10 test used more memory on average than classic queues
because they keep metadata about messages in memory, but they use less memory than they used to in 3.9.</p>
<p>Here&#x27;s a direct comparison between the two nodes that did most of the work (hosted all queue leaders and all connections):</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Scenario 4: 10 million messages published and then consumed, memory usage" src="/rabbitmq-website/assets/images/long-queue-memory-1c1c8266a65fb63943a67f3a0fd61635.png" width="1916" height="486" class="img_ev3q"><figcaption>Scenario 4: 10 million messages published and then consumed, memory usage</figcaption></figure><p></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="faster-import-and-declarations">Faster Import and Declarations<a href="#faster-import-and-declarations" class="hash-link" aria-label="Direct link to Faster Import and Declarations" title="Direct link to Faster Import and Declarations">​</a></h2>
<p>For those who <a href="/rabbitmq-website/docs/definitions">import definitions on startup</a>, nodes should take less time to start after upgrading to 3.10.
There are multiple changes and features that lead to that and the expected behaviour depends on your definitions, and which features you use and will use/configure. Here&#x27;s a summary:</p>
<ol>
<li>
<p>If you use <code>load_definitions</code> configuration option, and have many definitions in the JSON file, nodes should be able to start faster without you doing anything.
This can save minutes on every node start for users with many thousands of queues. The main difference here is that in 3.10, re-declaring an already existing entity should
be much quicker. Nodes in the cluster usually share the same configuration file, so each would attempt the same import but all but the first node would effectively re-import
existing entities. On node restarts, assuming you do not delete those entities, all nodes can boot faster.</p>
</li>
<li>
<p>If you <a href="/rabbitmq-website/docs/definitions#import-on-boot-skip-if-unchanged">set a new property, <code>definitions.skip_if_unchanged = true</code></a>,
RabbitMQ will skip the import altogether if the checksum of the definitions file is the same as it was when previously imported. This can save minutes
per node for clusters with large definition files. This is similar to the previous point, except you need to opt-in (set the property) and the
speed-up is even higher because not attempting the import is obviously even faster than checking if the entities already exist.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-improvements">Other Improvements<a href="#other-improvements" class="hash-link" aria-label="Direct link to Other Improvements" title="Direct link to Other Improvements">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="erlang-25">Erlang 25<a href="#erlang-25" class="hash-link" aria-label="Direct link to Erlang 25" title="Direct link to Erlang 25">​</a></h3>
<p>This release supports <a href="https://www.erlang.org/blog/my-otp-25-highlights/" target="_blank" rel="noopener noreferrer">Erlang 25</a>, which introduces a number of compiler and runtime efficiency
improvements. This would be most visible on 64-bit ARM CPUs because the JIT in Erlang 25 now supports that architecture.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="definition-import-on-boot">Definition Import on Boot<a href="#definition-import-on-boot" class="hash-link" aria-label="Direct link to Definition Import on Boot" title="Direct link to Definition Import on Boot">​</a></h3>
<p>In clusters where nodes <a href="/rabbitmq-website/docs/definitions#import-on-boot">import definitions on boot</a>,
every node in a cluster will import the same definitions in practice because all nodes use identical or almost identical configuration files.</p>
<p>This usually leads to one of two problems, based on the exact timing of events:</p>
<ul>
<li>if nodes start one by one, all queues will generally end up on a single node, since there is only one node in the cluster at the time of import</li>
<li>if nodes start in parallel, there is a lot of contention with multiple nodes trying to declare the same definitions</li>
</ul>
<p>In RabbitMQ 3.10, a number of re-import optimizations generally helps with the second problem.</p>
<p>In addition, <code>cluster_formation.target_cluster_size_hint</code> is a new setting that can now be set to tell RabbitMQ how many nodes are expected
to be in the cluster once it is fully formed.</p>
<p>With this additional information, only the last node to join the cluster will import the definitions.
The main benefit is that quorum queues should be well balanced between the nodes (subject to leader placement settings).
In the past, if the import took place as soon as the first node started,
the other nodes would effectively start empty, since all the queues were already running when they started.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Many improvements have been shipped in RabbitMQ 3.10 and some of them were also backported to the recent patch released of 3.9.</p>
<p>We are always on the lookout to make things faster. However, RabbitMQ can be configured
and used in many different ways and many improvements are specific to the workload.
We would really appreciate your help -- if you wish RabbitMQ was faster in a certain scenario, please reach out and tell us about your workload.
Ideally, if you can reproduce the problem with <a href="https://github.com/rabbitmq/rabbitmq-perf-test" target="_blank" rel="noopener noreferrer">perf-test</a>,
we would be happy to see what we can do to increase the throughput, lower the latency or reduce the memory usage.</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/performance">Performance</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/blog/2022-05-16-rabbitmq-3.10-performance-improvements/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/2022/05/31/flame-graphs"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">Improving RabbitMQ Performance with Flame Graphs</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/2022/05/05/rabbitmq-3.10-release-overview"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Rabbitmq 3.10 Release Overview</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#rabbitmq-39-vs-310" class="table-of-contents__link toc-highlight">RabbitMQ 3.9 vs 3.10</a><ul><li><a href="#the-environment" class="table-of-contents__link toc-highlight">The Environment</a></li><li><a href="#scenario-1-one-queue-fast-publishers-and-consumers" class="table-of-contents__link toc-highlight">Scenario 1: One Queue, Fast Publishers and Consumers</a></li><li><a href="#scenario-2-one-queue-10000-msgs" class="table-of-contents__link toc-highlight">Scenario 2: One Queue, 10000 msg/s</a></li><li><a href="#scenario-3-500-queues-5000-msgs-total" class="table-of-contents__link toc-highlight">Scenario 3: 500 Queues, 5000 msg/s Total</a></li><li><a href="#scenario-4-long-quorum-queues" class="table-of-contents__link toc-highlight">Scenario 4: Long Quorum Queues</a></li></ul></li><li><a href="#faster-import-and-declarations" class="table-of-contents__link toc-highlight">Faster Import and Declarations</a></li><li><a href="#other-improvements" class="table-of-contents__link toc-highlight">Other Improvements</a><ul><li><a href="#erlang-25" class="table-of-contents__link toc-highlight">Erlang 25</a></li><li><a href="#definition-import-on-boot" class="table-of-contents__link toc-highlight">Definition Import on Boot</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>