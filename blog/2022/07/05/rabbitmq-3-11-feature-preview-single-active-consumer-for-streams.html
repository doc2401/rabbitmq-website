<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">RabbitMQ 3.11 Feature Preview: Single Active Consumer for Streams | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="RabbitMQ 3.11 Feature Preview: Single Active Consumer for Streams | RabbitMQ"><meta data-rh="true" name="description" content="RabbitMQ 3.11 will bring a noteworthy feature to streams: single active consumer."><meta data-rh="true" property="og:description" content="RabbitMQ 3.11 will bring a noteworthy feature to streams: single active consumer."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2022-07-05T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://github.com/acogoluegnes"><meta data-rh="true" property="article:tag" content="Streams,New Features"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams","mainEntityOfPage":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams","url":"https://www.rabbitmq.com/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams","headline":"RabbitMQ 3.11 Feature Preview: Single Active Consumer for Streams","name":"RabbitMQ 3.11 Feature Preview: Single Active Consumer for Streams","description":"RabbitMQ 3.11 will bring a noteworthy feature to streams: single active consumer.","datePublished":"2022-07-05T00:00:00.000Z","author":{"@type":"Person","name":"Arnaud Cogoluègnes","url":"https://github.com/acogoluegnes","image":"https://github.com/acogoluegnes.png"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://www.rabbitmq.com/rabbitmq-website/blog","name":"Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a class="navbar__item navbar__link" href="/rabbitmq-website/docs">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs">4.1</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><main class="col col--9 col--offset-1"><article class=""><header><h1 class="title_f1Hy">RabbitMQ 3.11 Feature Preview: Single Active Consumer for Streams</h1><div class="container_mt6G margin-vert--md"><time datetime="2022-07-05T00:00:00.000Z">July 5, 2022</time> · <!-- -->10 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><a href="https://github.com/acogoluegnes" target="_blank" rel="noopener noreferrer" class="avatar__photo-link"><img class="avatar__photo authorImage_XqGP" src="https://github.com/acogoluegnes.png" alt="Arnaud Cogoluègnes"></a><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><a href="https://github.com/acogoluegnes" target="_blank" rel="noopener noreferrer"><span class="authorName_yefp">Arnaud Cogoluègnes</span></a></div><div class="authorSocials_rSDt"><a href="https://github.com/acogoluegnes" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="GitHub"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" viewBox="0 0 256 250" preserveAspectRatio="xMidYMid" style="--dark:#000;--light:#fff" class="authorSocialLink_owbf githubSvg_Uu4N"><path d="M128.001 0C57.317 0 0 57.307 0 128.001c0 56.554 36.676 104.535 87.535 121.46 6.397 1.185 8.746-2.777 8.746-6.158 0-3.052-.12-13.135-.174-23.83-35.61 7.742-43.124-15.103-43.124-15.103-5.823-14.795-14.213-18.73-14.213-18.73-11.613-7.944.876-7.78.876-7.78 12.853.902 19.621 13.19 19.621 13.19 11.417 19.568 29.945 13.911 37.249 10.64 1.149-8.272 4.466-13.92 8.127-17.116-28.431-3.236-58.318-14.212-58.318-63.258 0-13.975 5-25.394 13.188-34.358-1.329-3.224-5.71-16.242 1.24-33.874 0 0 10.749-3.44 35.21 13.121 10.21-2.836 21.16-4.258 32.038-4.307 10.878.049 21.837 1.47 32.066 4.307 24.431-16.56 35.165-13.12 35.165-13.12 6.967 17.63 2.584 30.65 1.255 33.873 8.207 8.964 13.173 20.383 13.173 34.358 0 49.163-29.944 59.988-58.447 63.157 4.591 3.972 8.682 11.762 8.682 23.704 0 17.126-.148 30.91-.148 35.126 0 3.407 2.304 7.398 8.792 6.14C219.37 232.5 256 184.537 256 128.002 256 57.307 198.691 0 128.001 0Zm-80.06 182.34c-.282.636-1.283.827-2.194.39-.929-.417-1.45-1.284-1.15-1.922.276-.655 1.279-.838 2.205-.399.93.418 1.46 1.293 1.139 1.931Zm6.296 5.618c-.61.566-1.804.303-2.614-.591-.837-.892-.994-2.086-.375-2.66.63-.566 1.787-.301 2.626.591.838.903 1 2.088.363 2.66Zm4.32 7.188c-.785.545-2.067.034-2.86-1.104-.784-1.138-.784-2.503.017-3.05.795-.547 2.058-.055 2.861 1.075.782 1.157.782 2.522-.019 3.08Zm7.304 8.325c-.701.774-2.196.566-3.29-.49-1.119-1.032-1.43-2.496-.726-3.27.71-.776 2.213-.558 3.315.49 1.11 1.03 1.45 2.505.701 3.27Zm9.442 2.81c-.31 1.003-1.75 1.459-3.199 1.033-1.448-.439-2.395-1.613-2.103-2.626.301-1.01 1.747-1.484 3.207-1.028 1.446.436 2.396 1.602 2.095 2.622Zm10.744 1.193c.036 1.055-1.193 1.93-2.715 1.95-1.53.034-2.769-.82-2.786-1.86 0-1.065 1.202-1.932 2.733-1.958 1.522-.03 2.768.818 2.768 1.868Zm10.555-.405c.182 1.03-.875 2.088-2.387 2.37-1.485.271-2.861-.365-3.05-1.386-.184-1.056.893-2.114 2.376-2.387 1.514-.263 2.868.356 3.061 1.403Z"></path></svg></a><a href="https://www.linkedin.com/in/arnaudcogoluegnes/" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="LinkedIn"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 256" class="authorSocialLink_owbf"><path d="M218.123 218.127h-37.931v-59.403c0-14.165-.253-32.4-19.728-32.4-19.756 0-22.779 15.434-22.779 31.369v60.43h-37.93V95.967h36.413v16.694h.51a39.907 39.907 0 0 1 35.928-19.733c38.445 0 45.533 25.288 45.533 58.186l-.016 67.013ZM56.955 79.27c-12.157.002-22.014-9.852-22.016-22.009-.002-12.157 9.851-22.014 22.008-22.016 12.157-.003 22.014 9.851 22.016 22.008A22.013 22.013 0 0 1 56.955 79.27m18.966 138.858H37.95V95.967h37.97v122.16ZM237.033.018H18.89C8.58-.098.125 8.161-.001 18.471v219.053c.122 10.315 8.576 18.582 18.89 18.474h218.144c10.336.128 18.823-8.139 18.966-18.474V18.454c-.147-10.33-8.635-18.588-18.966-18.453" fill="#0A66C2"></path></svg></a><a href="https://bsky.app/profile/acogoluegnes.bsky.social" target="_blank" rel="noopener noreferrer" class="authorSocialLink_owbf" title="Bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="1em" height="1em" preserveAspectRatio="xMidYMid" viewBox="0 0 256 226" class="authorSocialLink_owbf"><path fill="#1185FE" d="M55.491 15.172c29.35 22.035 60.917 66.712 72.509 90.686 11.592-23.974 43.159-68.651 72.509-90.686C221.686-.727 256-13.028 256 26.116c0 7.818-4.482 65.674-7.111 75.068-9.138 32.654-42.436 40.983-72.057 35.942 51.775 8.812 64.946 38 36.501 67.187-54.021 55.433-77.644-13.908-83.696-31.676-1.11-3.257-1.63-4.78-1.637-3.485-.008-1.296-.527.228-1.637 3.485-6.052 17.768-29.675 87.11-83.696 31.676-28.445-29.187-15.274-58.375 36.5-67.187-29.62 5.041-62.918-3.288-72.056-35.942C4.482 91.79 0 33.934 0 26.116 0-13.028 34.314-.727 55.491 15.172Z"></path></svg></a></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>RabbitMQ 3.11 will bring a noteworthy feature to streams: single active consumer.
Single active consumer provides <em>exclusive consumption</em> and <em>consumption continuity</em> on a stream.
It is also critical to get the most out of <a href="/rabbitmq-website/blog/2022/07/13/rabbitmq-3-11-feature-preview-super-streams">super streams</a>, our solution for partitioning, that provide scalability for streams.</p>
<p>Read on to find out more about single active consumer for streams and don&#x27;t hesitate to experiment with what is already available: <a href="/rabbitmq-website/blog/2022/07/05/rabbitmq-3-11-feature-preview-single-active-consumer-for-streams#setting-up-the-sample-project">try it</a>, break it, <a href="/rabbitmq-website/contact">tell us</a> what you like and don&#x27;t like, what&#x27;s missing.
Your feedback is essential to make this feature the best it can be.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>So, <em>exclusive consumption</em>, <em>consumption continuity</em>, what does this mean?
Imagine you want to make sure your stream processing does not stop, even though the application instances handling this processing come and go.
You spin up several instances of the same processing application, with the single active consumer flag enabled on your stream consumer.
The broker will make sure only one instance gets messages at a time: the <em>active</em> one.</p>
<p></p><figure><img decoding="async" loading="lazy" alt="Only one instance receives messages in a group of consumers when single active consumer is enabled." src="data:image/png;base64,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" width="450" height="210" class="img_ev3q"><figcaption>Only one instance receives messages in a group of consumers when single active consumer is enabled.</figcaption></figure><p></p>
<p>The broker will automatically fall back to the instance next in line and starts dispatching messages to it when the active consumer goes away (closes or crashes).</p>
<p></p><figure><img decoding="async" loading="lazy" alt="The broker dispatches messages to the next consumer when the active one goes away." src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAcIAAADSCAIAAABW21c9AAAZIElEQVR4Xu3dW2wU1x0G8AFT20AMxRYXOTjIQFArZGEMKLJBgMASURNHLoEgSJADD8kjjxFSFCQgVGqSSimoFXkwIAHhkgYacUsJ0GAnxqaAuTlSKGAHE0O4xGBu5mL6yf9y9nAWDzt7xjve4fs9oHOZmZ09+59vZ9ap6jwkIiILjjlAREReMEaJiKxEYrSNiIhixhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGCUissIYJSKywhglIrLCGKWksWjRIkeDLmfjntW7ZIkxSkmDF79fEKzmEFlgjFLS4MXvF66kvxijlDR48fuFK+kvxiglDV78fuFK+osxSkmDF79f+CuzvxijlDR48VPXxBglIrLCGCUib2pqaubMmZOTk5Oamvrcc8/l5uaWlJTIlPxnqo9v3ukCeVEdY5SIPPjrX/+akpLyxz/+8fjx47dv3z516tTGjRunTJkis4EkWiAvqmOMEj1z4v6VuaKiolu3buPGjbt//7451y6QRAvkRXWMUUoa8V38x44dmzVr1qBBg9LS0saMGbNlyxY1tWvXrgkTJvTq1atnz57jx49HV03Jlbl58+aJEyf269cvMzMTz62nT5+W2XPnzpWVlQ0ePBjHxCMtnnC//fZbfUd1HGNE2mvXrh05ciT2zcvL27Zt25IlS7Kzs3EaOJkTJ06oHffv319cXJyRkdGnT5+ioiJsqabkOBs2bCgsLOzdu7fxik/ldXsFN6HY9x//+Ic58Yj+ZttcV9hlDdtc3zusWbNm2LBhOGxBQcHq1auNF008xigljTgulerqalzAOTk5u3fvvn79+qFDh3C5yhQu6e7duyOGzp49W19fjwa66jqXK3PUqFGHDx++du3a4sWL0Z00aZLMooHul19+efPmzR9//LG8vBw3aGpH3K9JW42oM5d2aWnppUuXEILSnT59+uXLl9evX482TkO23Lt3b48ePRDieGq+cuXK3LlzMYvI0I+DbwWc3r1792Qw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" width="450" height="210" class="img_ev3q"><figcaption>The broker dispatches messages to the next consumer when the active one goes away.</figcaption></figure><p></p>
<p>So with single active consumer on, you don&#x27;t have to worry about having multiple instances doing the same processing in parallel, the broker takes care of everything.</p>
<p>Note there can be as many single active consumer groups as you want on a given stream: applications must provide a name for a consumer and this name acts as the identifier for the group of consumers.
The single active consumer semantics will apply to the consumer instances sharing the same name.</p>
<p>Let&#x27;s go through a demo to see how single active consumer for streams works.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="single-active-consumer-for-stream-in-action">Single Active Consumer for Stream in Action<a href="#single-active-consumer-for-stream-in-action" class="hash-link" aria-label="Direct link to Single Active Consumer for Stream in Action" title="Direct link to Single Active Consumer for Stream in Action">​</a></h2>
<p>We are going to start 3 consumers simulating the instances of the same application.
We&#x27;ll see that only one consumer instance gets activated and receives messages, the 2 other instances will remain idle.
We&#x27;ll close the connection of the active consumer and see another instance takes over.</p>
<p>We&#x27;ll start the 3 consumers in the same process for simplicity&#x27;s sake.
Here is the definition of a consumer with the stream Java client:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">println</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Starting consumer instance &quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token class-name">Consumer</span><span class="token plain"> consumer </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> environment</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">consumerBuilder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">stream</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">stream</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">name</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">reference</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">singleActiveConsumer</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">autoTrackingStrategy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">messageCountBeforeStorage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">builder</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">messageHandler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">context</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> message</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token class-name">System</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">out</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">printf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string" style="color:#e3116c">&quot;Consumer instance %d received a message (%d).%n&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sequence</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">incrementAndGet</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">build</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The code to declare a single active consumer is almost the same as for a regular consumer: you must provide a name and use <code>ConsumerBuilder#singleActiveConsumer()</code>.
The <code>i</code> and <code>sequence</code> variables are just there to help understand what&#x27;s going on.</p>
<p>If you want to run the code as you are reading, you can move on to the next section.
Note you can follow the remaining of the post without running anything, so you can skip the next section if you don’t want to try out the code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-sample-project">Setting Up The Sample Project<a href="#setting-up-the-sample-project" class="hash-link" aria-label="Direct link to Setting Up The Sample Project" title="Direct link to Setting Up The Sample Project">​</a></h3>
<p>Running the samples requires Docker, Git, and Java 11 or higher installed.
Remove the Docker image if it&#x27;s already there locally, to make sure to pull the latest image later:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> rmi pivotalrabbitmq/rabbitmq-stream</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And then start the broker:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> run </span><span class="token parameter variable" style="color:#36acaa">-it</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--rm</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--name</span><span class="token plain"> rabbitmq </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5552</span><span class="token plain">:5552 </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5672</span><span class="token plain">:5672 </span><span class="token parameter variable" style="color:#36acaa">-p</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">15672</span><span class="token plain">:15672 </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token parameter variable" style="color:#36acaa">-e</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&#x27;-rabbitmq_stream advertised_host localhost&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pivotalrabbitmq/rabbitmq-stream</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The container starts listening on several ports: 5552 for the stream plugin, 5672 for AMQP, 15672 for the HTTP management plugin.</p>
<p>The sample project code is <a href="https://github.com/acogoluegnes/rabbitmq-stream-single-active-consumer" target="_blank" rel="noopener noreferrer">hosted on GitHub</a>.
Clone the project locally and start the application that simulates 3 consumer instances:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">git</span><span class="token plain"> clone https://github.com/acogoluegnes/rabbitmq-stream-single-active-consumer.git</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token builtin class-name">cd</span><span class="token plain"> rabbitmq-stream-single-active-consumer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The setup is done, let&#x27;s start our single active consumers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="starting-the-consumers">Starting The Consumers<a href="#starting-the-consumers" class="hash-link" aria-label="Direct link to Starting The Consumers" title="Direct link to Starting The Consumers">​</a></h3>
<p>Start the consumer instances with the following command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">./mvnw </span><span class="token parameter variable" style="color:#36acaa">-q</span><span class="token plain"> compile exec:java </span><span class="token parameter variable" style="color:#36acaa">-Dexec.mainClass</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">com.rabbitmq.stream.SingleActiveConsumer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The application confirms it registered 3 consumers:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Created stream single-active-consumer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer instance 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer instance 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer instance 2</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>These consumers would be running on separate hosts in a real system.
But running them in the same process is simpler for our demonstration and makes our point as well.</p>
<p>We are all set, let&#x27;s publish to the stream.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="publishing-messages">Publishing Messages<a href="#publishing-messages" class="hash-link" aria-label="Direct link to Publishing Messages" title="Direct link to Publishing Messages">​</a></h3>
<p>We have an application running, it registered 3 identical consumers instances, with single active consumer enabled.
We are using the <a href="https://rabbitmq.github.io/rabbitmq-stream-java-client/stable/htmlsingle/#the-performance-tool" target="_blank" rel="noopener noreferrer">stream performance tool</a> to publish a message every second:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">cd</span><span class="token plain"> /tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-O</span><span class="token plain"> stream-perf-test.jar </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https://github.com/rabbitmq/rabbitmq-java-tools-binaries-dev/releases/download/v-stream-perf-test-latest/stream-perf-test-latest.jar</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">java</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-jar</span><span class="token plain"> /tmp/stream-perf-test.jar </span><span class="token parameter variable" style="color:#36acaa">--rate</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-x</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-y</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--streams</span><span class="token plain"> single-active-consumer</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The performance tool starts publishing (it emits a warning about the stream creation, this is expected):</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Starting producer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1, published 0 msg/s, confirmed 0 msg/s, consumed 0 msg/s, latency min/median/75th/95th/99th 0/0/0/0/0 ms, chunk size 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2, published 1 msg/s, confirmed 1 msg/s, consumed 0 msg/s, latency min/median/75th/95th/99th 0/0/0/0/0 ms, chunk size 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3, published 1 msg/s, confirmed 1 msg/s, consumed 0 msg/s, latency min/median/75th/95th/99th 0/0/0/0/0 ms, chunk size 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">4, published 1 msg/s, confirmed 1 msg/s, consumed 0 msg/s, latency min/median/75th/95th/99th 0/0/0/0/0 ms, chunk size 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">5, published 1 msg/s, confirmed 1 msg/s, consumed 0 msg/s, latency min/median/75th/95th/99th 0/0/0/0/0 ms, chunk size 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The first consumer instance gets the messages from the stream:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Created stream single-active-consumer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer 0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Starting consumer 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (1).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (2).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (3).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (4).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Without single active consumer enabled, each consumer instance would get the messages in the stream and you would see 3 lines for each message.
So our application is working as expected, only one consumer is active.
Let&#x27;s see if we can learn more about our consumers...</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="inspecting-the-consumers">Inspecting the Consumers<a href="#inspecting-the-consumers" class="hash-link" aria-label="Direct link to Inspecting the Consumers" title="Direct link to Inspecting the Consumers">​</a></h3>
<p>The <code>list_stream_consumers</code> CLI command lists the consumers for all streams in a virtual host:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> rabbitmq rabbitmqctl list_stream_consumers </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  connection_pid,stream,messages_consumed,active,activity_status</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We see our consumers with their respective state:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Listing stream consumers ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌────────────────┬────────────────────────┬───────────────────┬────────┬─────────────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ connection_pid │ stream                 │ messages_consumed │ active │ activity_status │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────┼────────────────────────┼───────────────────┼────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ &lt;11771.870.0&gt;  │ single-active-consumer │ 259               │ true   │ single_active   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────┼────────────────────────┼───────────────────┼────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ &lt;11771.882.0&gt;  │ single-active-consumer │ 0                 │ false  │ waiting         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────┼────────────────────────┼───────────────────┼────────┼─────────────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ &lt;11771.894.0&gt;  │ single-active-consumer │ 0                 │ false  │ waiting         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────┴────────────────────────┴───────────────────┴────────┴─────────────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Let&#x27;s imagine we have many streams, with many groups of consumers for each of them.
A concise view of this would be welcome.
Let&#x27;s use the <code>list_stream_consumer_groups</code> command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> rabbitmq rabbitmqctl list_stream_consumer_groups stream,reference,consumers</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Our <code>my-app</code> group shows up, with the number of consumers registered:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Listing stream consumer groups ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌────────────────────────┬───────────┬───────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ stream                 │ reference │ consumers │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├────────────────────────┼───────────┼───────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ single-active-consumer │ my-app    │ 3         │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└────────────────────────┴───────────┴───────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We can drill down into our group with the <code>list_stream_group_consumers</code> command:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> rabbitmq rabbitmqctl list_stream_group_consumers </span><span class="token parameter variable" style="color:#36acaa">--stream</span><span class="token plain"> single-active-consumer </span><span class="token parameter variable" style="color:#36acaa">--reference</span><span class="token plain"> my-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>And the consumers of the group show up:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Listing group consumers ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────┬─────────────────────────────────────┬──────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ subscription_id │ connection_name                     │ state    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58370 -&gt; 172.17.0.2:5552 │ active   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58376 -&gt; 172.17.0.2:5552 │ inactive │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58380 -&gt; 172.17.0.2:5552 │ inactive │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────┴─────────────────────────────────────┴──────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Nice, we have CLI commands to get some insight about consumers that enabled the single active consumer flag.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="looking-at-the-management-ui">Looking at the Management UI<a href="#looking-at-the-management-ui" class="hash-link" aria-label="Direct link to Looking at the Management UI" title="Direct link to Looking at the Management UI">​</a></h3>
<p>We have also something more graphical than the CLI with the <a href="http://localhost:15672/#/queues/%2F/single-active-consumer" target="_blank" rel="noopener noreferrer">page of the stream in the management UI</a> (username/password: <code>guest</code>/<code>guest</code>):</p>
<p></p><figure><img decoding="async" loading="lazy" alt="The stream page in the management UI lists the consumers with their status." src="/rabbitmq-website/assets/images/stream-sac-stream-consumers-65bcb05dc1023ea465e77be79c88a734.png" width="814" height="299" class="img_ev3q"><figcaption>The stream page in the management UI lists the consumers with their status.</figcaption></figure><p></p>
<p>The consumers <code>channel</code> column does not exactly show AMQP channels: our sample uses the stream protocol, where the channel concept does not exist.
The management UI adapts and shows the <em>connections</em> of the consumers.
We can get even more details if we click on the link to the channel/connection of the active consumer:</p>
<p></p><figure><img decoding="async" loading="lazy" alt="The connection page shows details about the active consumer." src="/rabbitmq-website/assets/images/stream-sac-active-consumer-connection-7bdeb4348fc849c4bdead324b9d4cae8.png" width="962" height="607" class="img_ev3q"><figcaption>The connection page shows details about the active consumer.</figcaption></figure><p></p>
<p>It&#x27;s time to experiment with the single active consumer semantics.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="terminating-the-active-consumer">Terminating the Active Consumer<a href="#terminating-the-active-consumer" class="hash-link" aria-label="Direct link to Terminating the Active Consumer" title="Direct link to Terminating the Active Consumer">​</a></h3>
<p>Let&#x27;s close the connection of the active consumer with the <code>Force Close</code> button at the bottom of the connection page.</p>
<p>We see from our consuming application console output that the active consumer is gone and the next consumer took over:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (130).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (131).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 0 received a message (132).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 1 received a message (133).    &lt;---- Instance #1 got activated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 1 received a message (134).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Consumer instance 1 received a message (135).</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The failover worked as expected: the active consumer died and the next in line got activated.
In the real world, the active consumer instance could have restarted after an OS upgrade or its connection could have been closed after a network glitch.
We just closed the connection on purpose in this example.</p>
<p>Let&#x27;s list the consumers of the group to confirm our findings:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> rabbitmq rabbitmqctl list_stream_group_consumers </span><span class="token parameter variable" style="color:#36acaa">--stream</span><span class="token plain"> single-active-consumer </span><span class="token parameter variable" style="color:#36acaa">--reference</span><span class="token plain"> my-app</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>We still have 3 consumers, because the client library recovered the closed connection automatically:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Listing group consumers ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">┌─────────────────┬─────────────────────────────────────┬──────────┐</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ subscription_id │ connection_name                     │ state    │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────  ────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58376 -&gt; 172.17.0.2:5552 │ active   │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58380 -&gt; 172.17.0.2:5552 │ inactive │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├─────────────────┼─────────────────────────────────────┼──────────┤</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">│ 0               │ 172.17.0.1:58388 -&gt; 172.17.0.2:5552 │ inactive │</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─────────────────┴─────────────────────────────────────┴──────────┘</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The consumer from the <code>172.17.0.1:58376 -&gt; 172.17.0.2:5552</code> connection is now the active one.
It was the second in line before we closed the first active consumer and it got promoted.
The <code>172.17.0.1:58388 -&gt; 172.17.0.2:5552</code> connection is the connection the client library recovered, it sits now at the bottom of the list.</p>
<p>The demonstration is over, you can now close the running programs with <code>Ctrl-C</code>: <code>stream-perf-test</code>, the consumer, and the broker Docker container.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrapping-up">Wrapping Up<a href="#wrapping-up" class="hash-link" aria-label="Direct link to Wrapping Up" title="Direct link to Wrapping Up">​</a></h2>
<p>We covered <em>single active consumers for streams</em> in this blog post, a new feature in the upcoming RabbitMQ 3.11 release.
It allows attaching several consumer instances to a stream and having only one instance active at a time.
If the active consumer instance goes down, the next instance will automatically take over, this way the processing goes on with as little interruption as possible.</p>
<p>Don&#x27;t hesitate to <a href="#setting-up-the-sample-project">run the demonstration</a>, the <a href="https://github.com/acogoluegnes/rabbitmq-stream-single-active-consumer" target="_blank" rel="noopener noreferrer">source code is available</a>.
You can also experiment on your own, the support for single active consumer in the stream Java client is <a href="https://rabbitmq.github.io/rabbitmq-stream-java-client/snapshot/htmlsingle/#single-active-consumer" target="_blank" rel="noopener noreferrer">documented</a> and the continuously-built <a href="#setting-up-the-sample-project">Docker image is available</a>.
We are excited to share this new feature with the RabbitMQ community and we can&#x27;t wait to hear <a href="/rabbitmq-website/contact">some feedback</a> before RabbitMQ 3.11 goes GA later this year.</p>
<p>We will follow up shortly with a blog post on another RabbitMQ 3.11 feature: <a href="/rabbitmq-website/blog/2022/07/13/rabbitmq-3-11-feature-preview-super-streams">super streams</a>, our solution to scale out streams.
Stay tuned!</p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/streams">Streams</a></li><li class="tag_QGVx"><a class="tag_zVej tagRegular_sFm0" href="/rabbitmq-website/blog/tags/new-features">New Features</a></li></ul></div></div><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/blog/2022-07-05-rabbitmq-3-11-feature-preview-single-active-consumer-for-streams/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/blog/2022/07/13/rabbitmq-3-11-feature-preview-super-streams"><div class="pagination-nav__sublabel">Newer post</div><div class="pagination-nav__label">RabbitMQ 3.11 Feature Preview: Super Streams</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/blog/2022/05/31/flame-graphs"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">Improving RabbitMQ Performance with Flame Graphs</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#single-active-consumer-for-stream-in-action" class="table-of-contents__link toc-highlight">Single Active Consumer for Stream in Action</a><ul><li><a href="#setting-up-the-sample-project" class="table-of-contents__link toc-highlight">Setting Up The Sample Project</a></li><li><a href="#starting-the-consumers" class="table-of-contents__link toc-highlight">Starting The Consumers</a></li><li><a href="#publishing-messages" class="table-of-contents__link toc-highlight">Publishing Messages</a></li><li><a href="#inspecting-the-consumers" class="table-of-contents__link toc-highlight">Inspecting the Consumers</a></li><li><a href="#looking-at-the-management-ui" class="table-of-contents__link toc-highlight">Looking at the Management UI</a></li><li><a href="#terminating-the-active-consumer" class="table-of-contents__link toc-highlight">Terminating the Active Consumer</a></li></ul></li><li><a href="#wrapping-up" class="table-of-contents__link toc-highlight">Wrapping Up</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>