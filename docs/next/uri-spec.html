<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-uri-spec" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">RabbitMQ URI Specification | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/docs/next/uri-spec"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="RabbitMQ URI Specification | RabbitMQ"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/uri-spec"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/uri-spec" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/uri-spec" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/docs/next">Docs</a><a class="navbar__item navbar__link" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs/next/uri-spec">Next</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rabbitmq-website/docs/next/uri-spec">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/uri-spec">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0/uri-spec">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13/uri-spec">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/next">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/release-information">Release Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/download">Install and Upgrade</a><button aria-label="Expand sidebar category &#x27;Install and Upgrade&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/use-rabbitmq">How to Use RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Use RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/manage-rabbitmq">How to Manage RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Manage RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/monitoring">How to Monitor RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Monitor RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->RabbitMQ<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rabbitmq-website/docs/uri-spec">latest version</a></b> (<!-- -->4.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitmq-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>RabbitMQ URI Specification</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>This specification defines an &quot;amqp&quot; URI scheme. Conforming
URIs represent the information needed by AMQP 0-9-1 clients
as well as some RabbitMQ plugins to connect to RabbitMQ
nodes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>The scope of this
specification is limited to AMQP 0-9-1, the original protocol
implemented by RabbitMQ.  An AMQP 0-9-1 client connects
to a RabbitMQ node in order to publish and consume messages
according to the messaging model.</p>
<p>Several pieces of information are needed by a client to
establish and negotiate an AMQP 0-9-1 connection.
These connection parameters include:</p>
<ul><li><p>The parameters needed to establish the underlying TCP/IP
connection to the server (i.e. host address and port).</p></li><li><p>Information to authenticate the client. AMQP 0-9-1 uses
<a href="http://en.wikipedia.org/wiki/Simple_Authentication_and_Security_Layer">SASL</a>
for authentication.  Typically the <code>PLAIN</code> mechanism is
used, and so the authentication parameters consist of a
username and password.</p></li><li><p>The name of the &quot;virtual host&quot; (or <em>vhost</em>) that
specifies the namespace for entities (such as exchanges and queues)
referred to by the protocol. Note that this is not virtual
hosting in the HTTP sense.</p></li></ul>
<p>A RabbitMQ client will typically obtain all these parameters
from a configuration file or environment variables in order
for it to set up the connection. So it is convenient if the
connection parameters can be combined into a single
character string, rather than as distinct configuration
settings. That means that only one configuration setting is
needed, and only one value has to be passed to the client
library.</p>
<p>But combining the connection parameters into a single string
requires a convention, understood by the client
library, about exactly how the connection parameters are
represented and delimited. It is desirable to standardise
that convention, so that it may be implemented consistently
by many AMQP 0-9-1 client libraries. An obvious basis for such a
standard is the generic syntax for URIs defined in <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC3986</a>.</p>
<p>The purpose of this specification is to define the &quot;amqp&quot;
and &quot;amqps&quot; URI schemes which represent the AMQP 0-9-1
connection parameters within the generic URI syntax.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-amqp-uri-scheme">The &quot;amqp&quot; URI scheme<a href="#the-amqp-uri-scheme" class="hash-link" aria-label="Direct link to The &quot;amqp&quot; URI scheme" title="Direct link to The &quot;amqp&quot; URI scheme">​</a></h2>
<p>The syntax of an AMQP 0-9-1 URI is defined by the following ABNF
rules.  All names in these rules not defined here are taken
from <a href="http://www.ietf.org/rfc/rfc3986.txt">RFC3986</a>.</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">amqp_URI       = &quot;amqp://&quot; amqp_authority [ &quot;/&quot; vhost ] [ &quot;?&quot; query ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">amqp_authority = [ amqp_userinfo &quot;@&quot; ] host [ &quot;:&quot; port ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">amqp_userinfo  = username [ &quot;:&quot; password ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">username       = *( unreserved / pct-encoded / sub-delims )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">password       = *( unreserved / pct-encoded / sub-delims )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">vhost          = segment</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Once a URI has been successfully parsed according to this
syntax, the connection parameters are determined as
described in the following sections.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="host">Host<a href="#host" class="hash-link" aria-label="Direct link to Host" title="Direct link to Host">​</a></h3>
<p>The host to which the underlying TCP connection is made is
determined from the host component according to RFC3986,
section 3.2.2.  Note that according to the ABNF, the host
component may not be absent, but it may be zero-length.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="port">Port<a href="#port" class="hash-link" aria-label="Direct link to Port" title="Direct link to Port">​</a></h3>
<p>The port number to which the underlying TCP connection is
made is determined from the port component according to
RFC3986.  The port component may be absent, indicated by the
lack of the &quot;:&quot; character separating it from the host.  If
it is absent, then the IANA-assigned port number for AMQP 0-9-1,
5672, should be substituted instead.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="username-and-password">Username and password<a href="#username-and-password" class="hash-link" aria-label="Direct link to Username and password" title="Direct link to Username and password">​</a></h3>
<p>If present, the username and password components should be
used in the SASL exchange that occurs via the
<code>connection.secure</code> and <code>connection.secure-ok</code> AMQP 0-9-1 methods.
Any percent-encoded octets in the username and password
should be decoded before they are used in the SASL exchange,
and the resulting octet sequences should be regarded as
UTF-8 encoded.</p>
<p>Both the username and password may be absent; their absence
is indicated by the lack of the &quot;@&quot; character separating the
amqp_userinfo from the host.  If the username is present,
the password may be absent; this is indicated by the lack of
the &quot;:&quot; character separating it from the username.
Zero-length usernames and passwords are not equivalent to
absent usernames and passwords.</p>
<p>RFC3986 states that &quot;A password appearing within the
userinfo component is deprecated and should be considered an
error&quot; (section 7.5).  While this is sound advice in the
context of user-facing applications (e.g. web browsers) and
for URIs that might be stored and displayed insecurely, it
is not necessarily valid for backend applications.  Many of those
applications are &quot;headless&quot; services, and open RabbitMQ connections on
behalf of the application as a whole rather than for
specific users. So the username and password identify the
application rather than a human user, and are likely to be
included with connection parameters appearing in a secure
store of configuration settings. User-facing
applications, which make RabbitMQ connections on behalf of
specific users, are also possible. In such cases the
username and password may be provided by the user to
identify themselves.  But such applications are the
exception rather than the rule. Thus authors of
applications implementing this specification should not
consider themselves bound by section 7.5 of RFC3986. Please
also see the section on &quot;Security Considerations&quot; below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="virtual-host">Virtual Host<a href="#virtual-host" class="hash-link" aria-label="Direct link to Virtual Host" title="Direct link to Virtual Host">​</a></h3>
<p>The virtual host (vhost) component is used as the basis for the
virtual-host field of the <code>connection.open</code> AMQP 0-9-1 method.  Any
percent-encoded octets in the vhost should be decoded before
the it is passed to the server.</p>
<p>Note that:</p>
<ul><li>The vhost component of the URI does not include the
leading &quot;/&quot; character from the path.  This makes it possible
to refer to any vhost, not only those that begin with a &quot;/&quot;
character.</li><li>The vhost is a single segment.  Therefore, any &quot;/&quot;
characters that appear in the vhost name must be
percent-encoded. URIs with multi-segment paths do not obey
this specification.</li></ul>
<p>The vhost component may be absent; this is indicated by the
lack of a &quot;/&quot; character following the amqp_authority.  An
absent vhost component is not equivalent to an empty
(i.e. zero-length) vhost name.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-of-absent-components">Handling of absent components<a href="#handling-of-absent-components" class="hash-link" aria-label="Direct link to Handling of absent components" title="Direct link to Handling of absent components">​</a></h2>
<p>Certain URI components (the port, username, password,
vhost and query) may be absent from a URI.  The host may not be
absent, but may be zero-length; for the purposes of this
section, a zero-length host is treated as absent.</p>
<p>Apart from the port (which is covered in the section 2.2
above), this specification does not mandate how
implementations should handle absent components.  Possible
approaches include, but are not limited to, the following:</p>
<ul><li>An absent component may be substituted with a default
value.</li><li>A user-facing application may prompt the user to provide
the value for an absent component.</li><li>An absent component may cause an error.</li></ul>
<p>Furthermore, an application may follow different strategies
for different components.</p>
<p>For example, the URI &quot;amqp://&quot;, in which all components are
absent, might result in an client library using a set
of defaults which correspond to a connection to a local RabbitMQ
server, authenticating as a guest user.  This would be
convenient for development purposes.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-amqps-uri-scheme">The &quot;amqps&quot; URI scheme<a href="#the-amqps-uri-scheme" class="hash-link" aria-label="Direct link to The &quot;amqps&quot; URI scheme" title="Direct link to The &quot;amqps&quot; URI scheme">​</a></h2>
<p>The &quot;amqps&quot; URI scheme is used to instruct a client
to make an secured connection to the server.</p>
<p>The AMQP 0-9-1 specification assume that the
underlying transport layer provides reliable
byte stream-oriented virtual circuits.  When it is not
necessary to secure the traffic on the network, TCP/IP
connections are typically used.</p>
<p>In cases where the traffic must be secured, TLS (see <a href="http://tools.ietf.org/rfc/rfc5246.txt">RFC5246</a>)
can be used.  Current practice is simply to layer AMQP
0-9-1 on top of TLS to form &quot;AMQPS&quot; (analogously to the
way HTTPS layers HTTP on top of TLS).  AMQP 0-9-1 does
not provide a way for a non-secured connection to be
upgraded to a secured connection. So a server that supports
both secured and non-secured connections must listen on
distinct ports for the two types of connections.</p>
<p>Apart from the scheme identifier, the syntax of the &quot;amqps&quot;
URI scheme is identical to that of the &quot;amqp&quot; URI scheme:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">amqps_URI      = &quot;amqps://&quot; amqp_authority [ &quot;/&quot; vhost ]</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The interpretation of an amqps URI differs from the
corresponding &quot;plain&quot; URI in two ways. In all other respects,
the interpretation is the same.</p>
<ul><li>The client must act as a TLS client, and begin the
TLS handshake as soon as the underlying TCP/IP connection
has been established. All AMQP 0-9-1 protocol data is sent as TLS
&quot;application data&quot;.  Other than this, normal AMQP 0-9-1 behaviour
is followed.</li><li>If the port number is absent from the URI, the
IANA-assigned port number for &quot;amqps&quot;, 5671, should be
used.</li></ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="security-considerations">Security Considerations<a href="#security-considerations" class="hash-link" aria-label="Direct link to Security Considerations" title="Direct link to Security Considerations">​</a></h2>
<p>As discussed in the section 2.3 above, URIs will often
be supplied to applications as configuration settings.  In
such contexts, if the password cannot be incorporated into
the URI, then it will simply be supplied as a separate
configuration setting. This reduces the benefit of the use
of a URI without any increase in security. For this
reason, this specification overrides RFC3986&#x27;s deprecation
of passwords within the userinfo component.</p>
<p>Developers should feel free use the password component
whenever this does not impact security.  Nonetheless, they
should be aware that the contents of the password component
may be sensitive, and they should avoid leaking it (e.g. the
full URI should not appear in exception messages or log
records, which might be visible to less privileged
personnel).</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-a-examples">Appendix A: Examples<a href="#appendix-a-examples" class="hash-link" aria-label="Direct link to Appendix A: Examples" title="Direct link to Appendix A: Examples">​</a></h2>
<p>Below is a table of examples that show how URIs should be
parsed according to this specification.  Many of these
examples are intended to demonstrate edge cases in order to
elucidate the specification and provide test cases for code
that parses URIs. Each row shows a URI, and the resulting
octet sequences for each component.  Those octet sequences
are enclosed in double quotes. Empty cells indicate absent
components, as described in section 3.</p>
<table><tr><th>URI</th><th>Username</th><th>Password</th><th>Host</th><th>Port</th><th>Vhost</th></tr><tr><td>amqp://user<!-- -->:pass<!-- -->@host:10000/vhost</td><td>&quot;user&quot;</td><td>&quot;pass&quot;</td><td>&quot;host&quot;</td><td>10000</td><td>&quot;vhost&quot;</td></tr><tr><td>amqp://user<!-- -->:passw<!-- -->%23rd@host:10000/vhost</td><td>&quot;user&quot;</td><td>&quot;passw#rd&quot;</td><td>&quot;host&quot;</td><td>10000</td><td>&quot;vhost&quot;</td></tr><tr><td>amqp://user%61:%61pass@ho%61st:10000/v%2fhost</td><td>&quot;usera&quot;</td><td>&quot;apass&quot;</td><td>&quot;hoast&quot;</td><td>10000</td><td>&quot;v/host&quot;</td></tr><tr><td>amqp://</td><td></td><td></td><td></td><td></td><td></td></tr><tr><td>amqp://:@/</td><td>&quot;&quot;</td><td>&quot;&quot;</td><td></td><td></td><td>&quot;&quot;</td></tr><tr><td>amqp://user@</td><td>&quot;user&quot;</td><td></td><td></td><td></td><td></td></tr><tr><td>amqp://user<!-- -->:pass<!-- -->@</td><td>&quot;user&quot;</td><td>&quot;pass&quot;</td><td></td><td></td><td></td></tr><tr><td>amqp://host</td><td></td><td></td><td>&quot;host&quot;</td><td></td><td></td></tr><tr><td>amqp://:10000</td><td></td><td></td><td></td><td>10000</td><td></td></tr><tr><td>amqp:///vhost</td><td></td><td></td><td></td><td></td><td>&quot;vhost&quot;</td></tr><tr><td>amqp://host/</td><td></td><td></td><td>&quot;host&quot;</td><td></td><td>&quot;&quot;</td></tr><tr><td>amqp://host/%2f</td><td></td><td></td><td>&quot;host&quot;</td><td></td><td>&quot;/&quot;</td></tr><tr><td>amqp://[::1]</td><td></td><td></td><td>&quot;[::1]&quot; (i.e. the IPv6 address ::1)</td><td></td><td></td></tr></table>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="appendix-b-query-parameters">Appendix B: Query parameters<a href="#appendix-b-query-parameters" class="hash-link" aria-label="Direct link to Appendix B: Query parameters" title="Direct link to Appendix B: Query parameters">​</a></h2>
<p>Clients may require further parameterisation to define how
they should connect to servers. The standard URI query syntax
may be used to provide additional information to the client.</p>
<p>Query parameters may be more implementation-specific than other
URI parts; as such this document will not attempt to prescribe
how they should be used. However, we have documented how the
<a href="./uri-query-parameters">officially supported clients read URI query parameters</a>.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/docs/uri-spec.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#the-amqp-uri-scheme" class="table-of-contents__link toc-highlight">The &quot;amqp&quot; URI scheme</a><ul><li><a href="#host" class="table-of-contents__link toc-highlight">Host</a></li><li><a href="#port" class="table-of-contents__link toc-highlight">Port</a></li><li><a href="#username-and-password" class="table-of-contents__link toc-highlight">Username and password</a></li><li><a href="#virtual-host" class="table-of-contents__link toc-highlight">Virtual Host</a></li></ul></li><li><a href="#handling-of-absent-components" class="table-of-contents__link toc-highlight">Handling of absent components</a></li><li><a href="#the-amqps-uri-scheme" class="table-of-contents__link toc-highlight">The &quot;amqps&quot; URI scheme</a></li><li><a href="#security-considerations" class="table-of-contents__link toc-highlight">Security Considerations</a></li><li><a href="#appendix-a-examples" class="table-of-contents__link toc-highlight">Appendix A: Examples</a></li><li><a href="#appendix-b-query-parameters" class="table-of-contents__link toc-highlight">Appendix B: Query parameters</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>