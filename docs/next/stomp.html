<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-stomp" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">STOMP Plugin | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/docs/next/stomp"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="STOMP Plugin | RabbitMQ"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/stomp"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/stomp" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/stomp" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/docs/next">Docs</a><a class="navbar__item navbar__link" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs/next/stomp">Next</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rabbitmq-website/docs/next/stomp">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/stomp">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0/stomp">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13/stomp">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/next">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/release-information">Release Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/download">Install and Upgrade</a><button aria-label="Expand sidebar category &#x27;Install and Upgrade&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rabbitmq-website/docs/next/use-rabbitmq">How to Use RabbitMQ</a><button aria-label="Collapse sidebar category &#x27;How to Use RabbitMQ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/publishers">Publishing Messages</a><button aria-label="Expand sidebar category &#x27;Publishing Messages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/exchanges">Exchanges</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/consumers">Consuming Messages</a><button aria-label="Expand sidebar category &#x27;Consuming Messages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/queues">Queues</a><button aria-label="Expand sidebar category &#x27;Queues&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/streams">Streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/channels">Channels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/reliability">Reliability and Data Safety</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/confirms">Consumer Acknowledgements and Publisher Confirms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/distributed">Network Distribution</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rabbitmq-website/docs/next/plugins">Plugins</a><button aria-label="Collapse sidebar category &#x27;Plugins&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/management">Management Plugin</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/federation">Federation Plugin</a><button aria-label="Expand sidebar category &#x27;Federation Plugin&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/shovel">Shovel Plugin</a><button aria-label="Expand sidebar category &#x27;Shovel Plugin&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rabbitmq-website/docs/next/stomp">STOMP Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/web-stomp">Web STOMP Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/mqtt">MQTT Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/web-mqtt">Web MQTT Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/stream">Stream Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/installing-plugins">Installing 3rd-party Plugins</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/protocols">Protocols</a><button aria-label="Expand sidebar category &#x27;Protocols&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/message-interceptors">Intercepting Messages</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/client-libraries">Client Libraries</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/manage-rabbitmq">How to Manage RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Manage RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/monitoring">How to Monitor RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Monitor RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->RabbitMQ<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rabbitmq-website/docs/stomp">latest version</a></b> (<!-- -->4.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitmq-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rabbitmq-website/docs/next/use-rabbitmq"><span itemprop="name">How to Use RabbitMQ</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rabbitmq-website/docs/next/plugins"><span itemprop="name">Plugins</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">STOMP Plugin</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>STOMP Plugin</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>RabbitMQ supports <a href="http://stomp.github.io" target="_blank" rel="noopener noreferrer">STOMP</a> via a plugin that ships
in the core distribution. The plugin supports STOMP versions 1.0 through <a href="https://stomp.github.io/stomp-specification-1.2.html" target="_blank" rel="noopener noreferrer">1.2</a>
with some <a href="#extensions-and-restrictions">extensions and restrictions</a>.</p>
<p>STOMP clients can interoperate with other protocols. All the functionality in
the <a href="/rabbitmq-website/docs/next/management">management UI</a> and several other plugins can be
used with STOMP, although there may be some limitations or the need to
tweak the defaults.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-plugin">Enabling the Plugin<a href="#enabling-plugin" class="hash-link" aria-label="Direct link to Enabling the Plugin" title="Direct link to Enabling the Plugin">​</a></h2>
<p>The STOMP plugin is included in the RabbitMQ distribution. Before clients can successfully
connect, it must be enabled using <a href="/rabbitmq-website/docs/next/cli">rabbitmq-plugins</a>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-plugins </span><span class="token builtin class-name">enable</span><span class="token plain"> rabbitmq_stomp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Plugin Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Plugin Configuration" title="Direct link to Plugin Configuration">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-listeners">TCP Listeners<a href="#tcp-listeners" class="hash-link" aria-label="Direct link to TCP Listeners" title="Direct link to TCP Listeners">​</a></h3>
<p>When no configuration is specified the STOMP Adapter will listen on
all interfaces on port 61613 and have a default user login/passcode
of <code>guest</code>/<code>guest</code>.</p>
<p>To change the listener port, edit your
<a href="/rabbitmq-website/docs/next/configure#configuration-files">Configuration file</a>,
to contain a <code>tcp_listeners</code> variable for the <code>rabbitmq_stomp</code> application.</p>
<p>For example, a minimalistic configuration file which changes the listener
port to 12345 would look like:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.1 = 12345</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>while one which changes the listener to listen only on localhost (for
both IPv4 and IPv6) would look like:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.1 = 127.0.0.1:61613</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.2 = ::1:61613</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tcp-listener-options">TCP Listener Options<a href="#tcp-listener-options" class="hash-link" aria-label="Direct link to TCP Listener Options" title="Direct link to TCP Listener Options">​</a></h4>
<p>The plugin supports TCP listener option configuration.</p>
<p>The settings use a common prefix, <code>stomp.tcp_listen_options</code>, and control
things such as TCP buffer sizes, inbound TCP connection queue length, whether <a href="/rabbitmq-website/docs/next/heartbeats#tcp-keepalives">TCP keepalives</a>
are enabled and so on. See the <a href="/rabbitmq-website/docs/next/networking">Networking guide</a> for details.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.1 = 127.0.0.1:61613</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.2 = ::1:61613</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.backlog = 4096</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.recbuf  = 131072</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.sndbuf  = 131072</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.keepalive = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.nodelay   = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.exit_on_close = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.tcp_listen_options.send_timeout  = 120</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tls">TLS Support<a href="#tls" class="hash-link" aria-label="Direct link to TLS Support" title="Direct link to TLS Support">​</a></h3>
<p>To use TLS for STOMP connections, <a href="/rabbitmq-website/docs/next/ssl">TLS must be configured</a> in the broker. To enable
TLS-enabled STOMP connections, add a TLS listener for STOMP using the <code>stomp.listeners.ssl.*</code> configuration keys.</p>
<p>The plugin will use core RabbitMQ server
certificates and key (just like AMQP 0-9-1 and AMQP 1.0 listeners do):</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssl_options.cacertfile = /path/to/tls/ca_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssl_options.certfile   = /path/to/tls/server_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssl_options.keyfile    = /path/to/tls/server_key.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssl_options.verify     =  verify_peer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ssl_options.fail_if_no_peer_cert = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp.1 = 61613</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># default TLS-enabled port for STOMP connections</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.ssl.1 = 61614</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This configuration creates a standard TCP listener on port 61613 and
a TLS listener on port 61614.</p>
<p>When a TLS listener is set up, you may want to deactivate all non-TLS ones.
This can be configured like so:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.tcp   = none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.listeners.ssl.1 = 61614</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="default-credentials">Default User<a href="#default-credentials" class="hash-link" aria-label="Direct link to Default User" title="Direct link to Default User">​</a></h3>
<p>The RabbitMQ STOMP adapter allows <code>CONNECT</code> frames to omit the <code>login</code>
and <code>passcode</code> headers if a default is configured.</p>
<p>To configure a default login and passcode, add a <code>default_user</code>
section to the <code>rabbitmq_stomp</code> application configuration. For example:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_user = guest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_pass = guest</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The configuration example above makes <code>guest</code>/<code>guest</code> the default
login/passcode pair.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tls-certificate-authentication">Authentication with TLS/x509 client certificates<a href="#tls-certificate-authentication" class="hash-link" aria-label="Direct link to Authentication with TLS/x509 client certificates" title="Direct link to Authentication with TLS/x509 client certificates">​</a></h3>
<p>The plugin can authenticate TLS-enabled connections by extracting
a name from the client&#x27;s TLS (x509) certificate, without using a password.</p>
<p>For safety the server must be <a href="#tls">configured with the TLS options</a>
<code>fail_if_no_peer_cert</code> set to <code>true</code> and <code>verify</code> set to <code>verify_peer</code>, to
force all TLS clients to have a verifiable client certificate.</p>
<p>To switch this feature on, set <code>ssl_cert_login</code> to <code>true</code> for the
<code>rabbitmq_stomp</code> application. For example:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.ssl_cert_login = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>By default this will set the username to an RFC4514-ish string form of
the certificate&#x27;s subject&#x27;s Distinguished Name, similar to that
produced by OpenSSL&#x27;s &quot;-nameopt RFC2253&quot; option.</p>
<p>To use the Common Name instead, add:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ssl_cert_login_from = common_name</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>to your configuration.</p>
<p>Note that:</p>
<ul>
<li>The authenticated user must exist in the configured authentication / authorisation backend(s).</li>
<li>Clients must <strong>not</strong> supply <code>login</code> and <code>passcode</code> headers.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cta.ic">Implicit Connect<a href="#cta.ic" class="hash-link" aria-label="Direct link to Implicit Connect" title="Direct link to Implicit Connect">​</a></h3>
<p>If you configure a default user or use SSL client certificate
authentication, you can also choose to allow clients to omit the
<code>CONNECT</code> frame entirely. In this mode, if the first frame sent on a
session is not a <code>CONNECT</code>, the client is automatically connected as
the default user or the user supplied in the SSL certificate.</p>
<p>To enable implicit connect, set <code>implicit_connect</code> to <code>true</code> for the
<code>rabbit_stomp</code> application. For example:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_user = guest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_pass = guest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">stomp.implicit_connect = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Implicit connect is <em>not</em> enabled by default.</p>
<p><strong>Note:</strong> A client causing an implicit connect will <em>not</em> receive a
<code>CONNECTED</code> frame from the server.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="proxy-protocol">Proxy Protocol<a href="#proxy-protocol" class="hash-link" aria-label="Direct link to Proxy Protocol" title="Direct link to Proxy Protocol">​</a></h3>
<p>The STOMP plugin supports the <a href="http://www.haproxy.org/download/3.1/doc/proxy-protocol.txt" target="_blank" rel="noopener noreferrer">proxy protocol</a>.
This feature is turned off by default. To turn it on for STOMP clients:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.proxy_protocol = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the <a href="/rabbitmq-website/docs/next/networking#proxy-protocol">Networking Guide</a> for more information
about the proxy protocol.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="frame-size-limit">Frame Size Limit<a href="#frame-size-limit" class="hash-link" aria-label="Direct link to Frame Size Limit" title="Direct link to Frame Size Limit">​</a></h3>
<p>By default frame size limit is 4Mb. When a frame exceeds the limit it&#x27;s an error and connection closed.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.max_frame_size = 4 * 1024 * 1024</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="d">Destinations<a href="#d" class="hash-link" aria-label="Direct link to Destinations" title="Direct link to Destinations">​</a></h2>
<p>The STOMP specification does not prescribe what kinds of destinations
a broker must support, instead the value of the <code>destination</code> header
in <code>SEND</code> and <code>MESSAGE</code> frames is broker-specific. The RabbitMQ STOMP
adapter supports a number of different destination types:</p>
<ul>
<li><code>/exchange</code> -- <code>SEND</code> to arbitrary routing keys and <code>SUBSCRIBE</code> to
arbitrary binding patterns;</li>
<li><code>/queue</code> -- <code>SEND</code> and <code>SUBSCRIBE</code> to queues managed by the STOMP
gateway;</li>
<li><code>/amq/queue</code> -- <code>SEND</code> and <code>SUBSCRIBE</code> to queues created outside the
STOMP gateway;</li>
<li><code>/topic</code> -- <code>SEND</code> and <code>SUBSCRIBE</code> to transient and durable topics;</li>
<li><code>/temp-queue/</code> -- create temporary queues (in <code>reply-to</code> headers only).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h3>
<p>The <code>destination</code> header on a <code>MESSAGE</code> frame is set as though the
message originated from a <code>SEND</code> frame:</p>
<ul>
<li>messages published to the default exchange are given the destination
<code>/queue/</code><em>queuename</em>;</li>
<li>messages published to <code>amq.topic</code> are given the destination
<code>/topic/</code><em>routing_key</em>;</li>
<li>all other messages are given the destination
<code>/exchange/</code><em>exchange_name</em>[<code>/</code><em>routing_key</em>].</li>
</ul>
<p>If <code>/</code>, <code>%</code> or non-ascii bytes are in the <em>queuename</em>, <em>exchange_name</em>
or <em>routing_key</em>, they are each replaced with the sequence <code>%</code><em>dd</em>,
where <em>dd</em> is the hexadecimal code for the byte.</p>
<p>Because of these rules the destination on a <code>MESSAGE</code> frame may not
exactly match that on a <code>SEND</code> that published it.</p>
<p>Different destinations have different queue parameter defaults.
They can be controlled explicitly via headers, as explained further
in this guide.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.ed">Exchange Destinations<a href="#d.ed" class="hash-link" aria-label="Direct link to Exchange Destinations" title="Direct link to Exchange Destinations">​</a></h3>
<p>Any exchange/queue or exchange/routing-key combination can be accessed
using destinations prefixed with <code>/exchange</code>.</p>
<p>For <code>SUBSCRIBE</code> frames, a destination of the form
<code>/exchange/&lt;name&gt;[/&lt;pattern&gt;]</code> can be used. This destination:</p>
<ul>
<li>creates an exclusive, auto-delete queue on <code>&lt;name&gt;</code> exchange;</li>
<li>if <code>&lt;pattern&gt;</code> is supplied, binds the queue to <code>&lt;name&gt;</code> exchange
using <code>&lt;pattern&gt;</code>; and</li>
<li>registers a subscription against the queue, for the current STOMP session.</li>
</ul>
<p>For <code>SEND</code> frames, a destination of the form
<code>/exchange/&lt;name&gt;[/&lt;routing-key&gt;]</code> can be used. This destination:</p>
<ul>
<li>sends to exchange <code>&lt;name&gt;</code> with the routing key <code>&lt;routing-key&gt;</code>.</li>
</ul>
<p><strong>Note:</strong> Exchange destinations are <em>not</em> suitable for
consuming messages from an existing queue. A new queue is created for
each subscriber and is bound to the specified exchange using the
supplied routing key. To work with existing queues, use
<a href="#d.aqd"><code>/amq/queue</code></a> destinations.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.qd">Queue Destinations<a href="#d.qd" class="hash-link" aria-label="Direct link to Queue Destinations" title="Direct link to Queue Destinations">​</a></h3>
<p>For simple queues, destinations of the form <code>/queue/&lt;name&gt;</code> can be
used.</p>
<p>Queue destinations deliver each message to at most one
subscriber. Messages sent when no subscriber exists will be queued
until a subscriber connects to the queue.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics-1">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics-1" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h4>
<p>For <code>SUBSCRIBE</code> frames, these destinations create a shared queue <code>&lt;name&gt;</code>. A
subscription against the queue <code>&lt;name&gt;</code> is created for the current STOMP
session.</p>
<p>For <code>SEND</code> frames, a shared queue <code>&lt;name&gt;</code> is created on the <em>first</em> <code>SEND</code> to
this destination in this session, but not subsequently. The message is sent to
the default exchange with the routing key <code>&lt;name&gt;</code>.</p>
<p>If no queue parameters are specified, queue will be assumed to be
durable, non-exclusive, non-autodeleted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.aqd">AMQ Queue Destinations<a href="#d.aqd" class="hash-link" aria-label="Direct link to AMQ Queue Destinations" title="Direct link to AMQ Queue Destinations">​</a></h3>
<p>To address existing queues created outside the STOMP adapter,
destinations of the form <code>/amq/queue/&lt;name&gt;</code> can be used.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics-2">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics-2" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h4>
<p>For both <code>SEND</code> and <code>SUBSCRIBE</code> frames no queue is created.
For <code>SUBSCRIBE</code> frames, it is an error if the queue does not exist.</p>
<p>For <code>SEND</code> frames, the message is sent directly to the existing queue named
<code>&lt;name&gt;</code> via the default exchange.</p>
<p>For <code>SUBSCRIBE</code> frames, a subscription against the existing queue <code>&lt;name&gt;</code> is
created for the current STOMP session.</p>
<p>If no queue parameters are specified, queue will be assumed to be
durable, non-exclusive, non-autodeleted.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.td">Topic Destinations<a href="#d.td" class="hash-link" aria-label="Direct link to Topic Destinations" title="Direct link to Topic Destinations">​</a></h3>
<p>Perhaps the most common destination type used by STOMP clients is <code>/topic/&lt;name&gt;</code>.
They perform topic matching on publishing messages against subscriber patterns
and can route a message to multiple subscribers (each gets its own copy).
Topic destinations support all the routing patterns of <a href="/rabbitmq-website/tutorials/amqp-concepts">AMQP 0-9-1
topic exchanges</a>.</p>
<p>Messages sent to a topic destination that has no active subscribers
are simply discarded.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics-3">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics-3" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h4>
<p>For <code>SEND</code> frames, the message is sent to the <code>amq.topic</code> exchange
with the routing key <code>&lt;name&gt;</code>.</p>
<p>For <code>SUBSCRIBE</code> frames, an autodeleted, non-durable queue is created and bound to the
<code>amq.topic</code> exchange with routing key <code>&lt;name&gt;</code>. A subscription is
created against the queue.</p>
<p>A different default exchange than <code>amq.topic</code> can be specified
using the <code>stomp.default_topic_exchange</code> configuration setting:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_topic_exchange = some.exchange</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.dts">Durable Topic Subscriptions<a href="#d.dts" class="hash-link" aria-label="Direct link to Durable Topic Subscriptions" title="Direct link to Durable Topic Subscriptions">​</a></h3>
<p>The STOMP adapter supports durable topic subscriptions. Durable
subscriptions allow clients to disconnect from and reconnect to the
STOMP broker as needed, without missing messages that are sent to the
topic.</p>
<p>Topics are neither durable nor transient, instead <em><strong>subscriptions</strong></em>
are durable or transient. Durable and transient can be mixed against a
given topic.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-durable-subscription">Creating a Durable Subscription<a href="#creating-a-durable-subscription" class="hash-link" aria-label="Direct link to Creating a Durable Subscription" title="Direct link to Creating a Durable Subscription">​</a></h4>
<p>To create a durable subscription, set the <code>durable</code> header to
<code>true</code> in the <code>SUBSCRIBE</code> frame. <code>persistent</code> is also supported as an alias for
<code>durable</code> for backwards compatibility with earlier plugin versions.</p>
<p>When creating a durable subscription to a topic destination,
set <code>auto-delete</code> to <code>false</code> to make sure the queue that backs your
subscription is not deleted when last subscriber disconnects.</p>
<p>When creating a durable subscription,
the <code>id</code> header must be specified. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SUBSCRIBE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destination:/topic/my-durable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id:1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">durable:true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto-delete:false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics-4">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics-4" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h4>
<p>For <code>SEND</code> frames, the message is sent to the <code>amq.topic</code> exchange
with the routing key <code>&lt;name&gt;</code>.</p>
<p>For <code>SUBSCRIBE</code> frames, a <em>shared</em> queue is created for each distinct
subscription ID x destination pair, and bound to the <code>amq.topic</code>
exchange with routing key <code>&lt;name&gt;</code>. A subscription is created against
the queue.</p>
<p><em>Note:</em> a different default exchange than <code>amq.topic</code> can be specified
using the <code>stomp.default_topic_exchange</code> configuration setting.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="deleting-a-durable-subscription">Deleting a Durable Subscription<a href="#deleting-a-durable-subscription" class="hash-link" aria-label="Direct link to Deleting a Durable Subscription" title="Direct link to Deleting a Durable Subscription">​</a></h4>
<p>To permanently delete a durable subscription, send an <code>UNSUBSCRIBE</code> frame for
the subscription ID with the same <code>durable</code> and <code>auto-delete</code> header values as when
subscribing.</p>
<p>For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">UNSUBSCRIBE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">id:1234</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">durable:true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auto-delete:false</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.tqd">Temp Queue Destinations<a href="#d.tqd" class="hash-link" aria-label="Direct link to Temp Queue Destinations" title="Direct link to Temp Queue Destinations">​</a></h3>
<p>Temp queue destinations allow you to define temporary destinations
in the <code>reply-to</code> header of a <code>SEND</code> frame.</p>
<p>Temp queues are managed by the broker and their identities are private to
each session -- there is no need to choose distinct names for
temporary queues in distinct sessions.</p>
<p>To use a temp queue, put the <code>reply-to</code> header on a <code>SEND</code> frame and
use a header value starting with <code>/temp-queue/</code>. For example:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SEND</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destination:/queue/reply-test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reply-to:/temp-queue/foo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Hello World!</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This frame creates a temporary queue (with a generated name) that is private
to the session and automatically subscribes to that queue.
A different session that uses <code>reply-to:/temp-queue/foo</code> will have a new,
distinct queue created.</p>
<p>The internal subscription id is a concatenation of the string
<code>/temp-queue/</code> and the temporary queue (so <code>/temp-queue/foo</code>
in this example). The subscription id can be used to identify reply
messages. Reply messages cannot be identified from the <code>destination</code>
header, which will be different from the value in the <code>reply-to</code>
header. The internal subscription uses auto-ack mode and it cannot be
cancelled.</p>
<p>The <code>/temp-queue/</code> destination is <em><strong>not</strong></em> the name of the destination
that the receiving client uses when sending the reply. Instead, the
receiving client can obtain the (real) reply destination queue name
from the <code>reply-to</code> header of the <code>MESSAGE</code> frame.  This reply
destination name can then be used as the value of the <code>destination</code>
header in the <code>SEND</code> frame sent in reply to the received
<code>MESSAGE</code>.</p>
<p>Reply destination queue names are opaque and cannot be inferred from
the <code>/temp-queue/</code> name.</p>
<p><code>SEND</code> and <code>SUBSCRIBE</code> frames <em><strong>must not</strong></em> contain <code>/temp-queue</code>
destinations in the <code>destination</code> header. Messages cannot be sent to
<code>/temp-queue</code> destinations, and subscriptions to reply queues are
created automatically.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="amqp-0-9-1-semantics-5">AMQP 0-9-1 Semantics<a href="#amqp-0-9-1-semantics-5" class="hash-link" aria-label="Direct link to AMQP 0-9-1 Semantics" title="Direct link to AMQP 0-9-1 Semantics">​</a></h4>
<p>Each <code>/temp-queue/</code> corresponds to a distinct anonymous, exclusive,
auto delete queue. As such, there is no need for explicit clean up of
reply queues.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="d.ugqn">User generated queue names for Topic and Exchange destinations<a href="#d.ugqn" class="hash-link" aria-label="Direct link to User generated queue names for Topic and Exchange destinations" title="Direct link to User generated queue names for Topic and Exchange destinations">​</a></h3>
<p>When subscribing to an <code>exchange</code> or <code>topic</code> destination, RabbitMQ would generate
a queue name by default. It is possible to provide
a custom name using the <code>x-queue-name</code> header:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SUBSCRIBE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destination:/topic/alarms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x-queue-name:my-alarms-queue</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="queue-parameters">Controlling RabbitMQ Queue Parameters with STOMP<a href="#queue-parameters" class="hash-link" aria-label="Direct link to Controlling RabbitMQ Queue Parameters with STOMP" title="Direct link to Controlling RabbitMQ Queue Parameters with STOMP">​</a></h2>
<p><a href="/rabbitmq-website/docs/next/queues">Queue properties</a> can be controlled via STOMP headers:</p>
<ul>
<li><code>durable</code> (aliased as <code>persistent</code>)</li>
<li><code>auto-delete</code></li>
<li><code>exclusive</code></li>
</ul>
<p>plus optional arguments (&quot;x-arguments&quot;) for controlling dead lettering,
queue and message TTL, queue limits, etc:</p>
<ul>
<li><code>x-dead-letter-exchange</code></li>
<li><code>x-dead-letter-routing-key</code></li>
<li><code>x-expires</code></li>
<li><code>x-message-ttl</code></li>
<li><code>x-max-length</code></li>
<li><code>x-max-length-bytes</code></li>
<li><code>x-max-age</code> (available only for <a href="/rabbitmq-website/docs/next/streams">streams</a>)</li>
<li><code>x-stream-max-segment-size-bytes</code> (available only for <a href="/rabbitmq-website/docs/next/streams">streams</a>)</li>
<li><code>x-overflow</code></li>
<li><code>x-max-priority</code></li>
<li><code>x-queue-type</code> (to be able to <a href="/rabbitmq-website/docs/next/quorum-queues#declaring">declare</a> <a href="/rabbitmq-website/docs/next/quorum-queues">quorum queues</a> and <a href="/rabbitmq-website/docs/next/streams">streams</a>)</li>
</ul>
<p>The meaning of every header is the same as when a queue is declared over AMQP 0-9-1.
Please consult the rest of the documentation for details.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="policies">Using Policies with STOMP<a href="#policies" class="hash-link" aria-label="Direct link to Using Policies with STOMP" title="Direct link to Using Policies with STOMP">​</a></h2>
<p>RabbitMQ <a href="/rabbitmq-website/docs/next/policies">policies</a> allow for flexible,
centralised attribute configuration of queues and exchanges. Policies can
be used with queues used by the STOMP plugin.</p>
<p>Policies make it possible to use more RabbitMQ features with STOMP:</p>
<ul>
<li><a href="/rabbitmq-website/docs/next/dlx">Dead lettering</a></li>
<li><a href="/rabbitmq-website/docs/next/ttl">Queue leases and per-queue message TTL</a></li>
<li><a href="/rabbitmq-website/docs/next/maxlength">Queue length limits</a></li>
</ul>
<p>All server-named queues created by the STOMP plugin are prefixed with <code>stomp-</code>
which makes it easy to match the queues in a policy. For example, to limit
STOMP queue length to 1000 messages, create the following policy:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl set_policy stomp-queues </span><span class="token string" style="color:#e3116c">&quot;^stomp-&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;{&quot;max-length&quot;:1000}&#x27;</span><span class="token plain"> --apply-to queues</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>with <code>rabbitmqctl.bat</code> on Windows:</p>
<div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat set_policy stomp-queues </span><span class="token string" style="color:#e3116c">&quot;^stomp-&quot;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;{&quot;</span><span class="token string" style="color:#e3116c">&quot;max-length&quot;</span><span class="token string" style="color:#e3116c">&quot;:1000}&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">apply-to queues</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note that only one policy is applied to a queue at a time, so to specify
multiple arguments (e.g. queue length limit and dead lettering) one
needs to put them into a single policy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="extensions-and-restrictions">Protocol Extensions and Restrictions<a href="#extensions-and-restrictions" class="hash-link" aria-label="Direct link to Protocol Extensions and Restrictions" title="Direct link to Protocol Extensions and Restrictions">​</a></h2>
<p>The RabbitMQ STOMP adapter relaxes the protocol on <code>CONNECT</code>
and supports a number of non-standard headers on certain
frames. These extra headers provide access to features that are not
described in the STOMP specs. In addition, we prohibit some headers which
are reserved for server use. The details are given below.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pear.c">Connection and Virtual Hosts<a href="#pear.c" class="hash-link" aria-label="Direct link to Connection and Virtual Hosts" title="Direct link to Connection and Virtual Hosts">​</a></h3>
<p>The <code>CONNECT</code> (or <code>STOMP</code>) frame in
<a href="http://stomp.github.io/stomp-specification-1.1.html" target="_blank" rel="noopener noreferrer">STOMP 1.1</a> has a
mandatory <code>host</code> header (to select the virtual host to use for the
connection). The RabbitMQ adapter allows this to be optional.</p>
<p>When omitted, the default virtual host (<code>/</code>) is presumed.
To configure a different default virtual host, add a <code>default_vhost</code>
section to the <code>rabbitmq_stomp</code> application configuration, e.g.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">stomp.default_vhost = /</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If a <code>host</code> header is specified it must be one of the
virtual hosts known to the RabbitMQ server, otherwise the connection is
rejected. The <code>host</code> header is respected even if the STOMP 1.0 version is
negotiated at the time of the connect.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pear.mp">Message Persistence<a href="#pear.mp" class="hash-link" aria-label="Direct link to Message Persistence" title="Direct link to Message Persistence">​</a></h3>
<p>On the <code>SEND</code> frame, the STOMP adapter supports the inclusion of a <code>persistent</code> header.</p>
<p>Setting the <code>persistent</code> header to <code>true</code> has the effect of making the message persistent.</p>
<p>Receipts for <code>SEND</code> frames with <code>persistent:true</code> are not sent until a
confirm is received from the broker. The exact semantics for confirms
on persistent messages can be found <a href="/rabbitmq-website/docs/next/confirms">here</a>.</p>
<p><code>MESSAGE</code> frames for persistent messages will contain a <code>persistent:true</code>
header.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="ack-nack">ACK and NACK<a href="#ack-nack" class="hash-link" aria-label="Direct link to ACK and NACK" title="Direct link to ACK and NACK">​</a></h3>
<p>RabbitMQ STOMP plugin supports <code>auto</code>, <code>client</code>, and <code>client-individual</code>
subscription headers that affect how <code>ACK</code> on <code>NACK</code> operations work.</p>
<p>The <code>auto</code> mode uses automatic acknowledgements. The <code>client</code> mode is manual
(client-driven) acknowledgements of multiple messages at once. The <code>client-individual</code>
is for message-by-message manual acknowledgement.</p>
<p><code>NACK</code> frames can optionally carry the <code>requeue</code> header which controls whether
the message will be requeued or discarded/dead lettered. Default value is <code>true</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pear.p">Prefetch<a href="#pear.p" class="hash-link" aria-label="Direct link to Prefetch" title="Direct link to Prefetch">​</a></h3>
<p>The prefetch count for all subscriptions is set to unlimited by
default. This can be controlled by setting the <code>prefetch-count</code> header
on <code>SUBSCRIBE</code> frames to the desired integer count.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="stream-support">Stream Support<a href="#stream-support" class="hash-link" aria-label="Direct link to Stream Support" title="Direct link to Stream Support">​</a></h3>
<p>The <code>SUBSCRIBE</code> frame supports a <code>x-stream-offset</code> header to specify the offset
to start consuming from in a <a href="/rabbitmq-website/docs/next/streams">stream</a>. A typical subscription frame
for a stream will look like the following:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SUBSCRIBE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destination:/amq/queue/my-stream</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ack:client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">prefetch-count:10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x-stream-offset:next</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Note the <code>ack</code> and <code>prefetch-count</code> headers are also necessary. The <code>x-stream-offset</code> header
has the same semantics as in <a href="/rabbitmq-website/docs/next/streams#consuming">AMQP 0.9.1</a>, the possible values are:</p>
<ul>
<li><code>first</code> to start consuming from the first available message in the stream</li>
<li><code>last</code> to start consuming from the last written chunk of messages</li>
<li><code>next</code> to start consuming from the end of the stream (note the consumer will not receive
messages until someone is publishing to the stream)</li>
<li><code>offset=&lt;offset-value&gt;</code> to start from a specific offset, e.g. <code>offset=40000</code></li>
<li><code>timestamp=&lt;unix-time&gt;</code> to start from a given time, e.g. <code>timestamp=1619432061</code> for
<code>2021-04-26T10:14:21+00:00</code></li>
</ul>
<p>The default value is <code>next</code>.</p>
<p>When delivering messages from a stream, the message offset (that is the position of the
message in the stream) is included in the <code>x-stream-offset</code> header of the <code>MESSAGE</code> frame.</p>
<p><a href="/rabbitmq-website/blog/2023/10/16/stream-filtering">Stream filtering</a> is also supported.
The <a href="/rabbitmq-website/docs/next/stream">stream protocol</a> is the preferred way to interact with streams, but most features are also available with other protocols.
Stream filtering is no exception, it works the same way with STOMP as with <a href="/rabbitmq-website/blog/2023/10/24/stream-filtering-internals#bonus-stream-filtering-on-amqp">AMQP</a>:</p>
<ul>
<li>Declaration: a stream can be created on subscription.
Set the <code>x-queue-type</code> header to <code>stream</code> and use the <code>x-stream-filter-size-bytes</code> header to set the filter size (optional).</li>
<li>Publishing: use the <code>x-stream-filter-value</code> header to set the filter value for outbound messages.</li>
<li>Consuming: use the <code>x-stream-filter</code> header to set the expected filter value(s) (use a comma to separate values) and optionally the <code>x-stream-match-unfiltered</code> header (<code>true</code> or <code>false</code>) to receive messages without any filter value as well (default is <code>false</code>).
Applications must also implement client-side filtering, as it is still possible to receive messages that do not meet the filter value(s) criteria.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pear.hpos">Header prohibited on <code>SEND</code><a href="#pear.hpos" class="hash-link" aria-label="Direct link to pear.hpos" title="Direct link to pear.hpos">​</a></h3>
<p>It is not permitted to set a <code>message-id</code> header on a <code>SEND</code> frame.
The header and its value is set by the server on a <code>MESSAGE</code> frame sent
to a client.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pear.ap">Queue Properties<a href="#pear.ap" class="hash-link" aria-label="Direct link to Queue Properties" title="Direct link to Queue Properties">​</a></h3>
<p><code>SEND</code> frames also allow headers corresponding to the <em>AMQP properties</em>
available when publishing messages. These headers are also set on
<code>MESSAGE</code> frames sent to clients.</p>
<p>All non-deprecated AMQP 0-9-1 properties (<code>content-type</code>,
<code>content-encoding</code>, <code>headers</code>, <code>delivery-mode</code>, <code>priority</code>,
<code>correlation-id</code>, <code>reply-to</code>, <code>expiration</code>, <code>message-id</code>, <code>timestamp</code>,
<code>type</code>, <code>user-id</code> and <code>app-id</code>) are supported. The following special
rules apply:</p>
<ul>
<li><code>amqp-message-id</code> in STOMP is converted to <code>message-id</code> in AMQP, and
vice-versa.</li>
<li>The <code>reply-to</code> header causes temporary queues to be created (see
<a href="#d.tqd">Temp Queue Destinations</a> above).</li>
<li>Some x-prefixed STOMP headers are translated into optional queue arguments
(see below).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="optional-queue-properties">Optional Queue Properties<a href="#optional-queue-properties" class="hash-link" aria-label="Direct link to Optional Queue Properties" title="Direct link to Optional Queue Properties">​</a></h3>
<p>With RabbitMQ, <code>SEND</code> and <code>SUBSCRIBE</code> frames can include a set of headers to configure the queue behaviour,
for example, use <a href="/rabbitmq-website/docs/next/ttl">TTL</a> or similar extensions.</p>
<p>The list of supported headers is</p>
<ul>
<li><a href="/rabbitmq-website/docs/next/ttl#per-message-ttl-in-publishers">x-message-ttl</a></li>
<li><a href="/rabbitmq-website/docs/next/ttl#queue-ttl">x-expires</a></li>
<li><a href="/rabbitmq-website/docs/next/maxlength">x-max-length</a></li>
<li><a href="/rabbitmq-website/docs/next/maxlength">x-max-length-bytes</a></li>
<li><a href="/rabbitmq-website/docs/next/dlx">x-dead-letter-exchange</a></li>
<li><a href="/rabbitmq-website/docs/next/dlx">x-dead-letter-routing-key</a></li>
<li><a href="/rabbitmq-website/docs/next/priority">x-max-priority</a></li>
</ul>
<p>For example, if you want to use priority queues with STOMP, you
can SUBSCRIBE (or SEND) with the following header:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">SUBSCRIBE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">destination:/queue/my-priority-queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">x-max-priority:5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="queue-immutability">Queue Immutability<a href="#queue-immutability" class="hash-link" aria-label="Direct link to Queue Immutability" title="Direct link to Queue Immutability">​</a></h3>
<p>Once a queue is declared, its properties cannot be changed. Optional arguments
can be modified with <a href="/rabbitmq-website/docs/next/parameters">policies</a>. Otherwise the queue has to be deleted
and re-declared. This is true for STOMP clients as well as AMQP 0-9-1.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/docs/stomp.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/docs/next/shovel-dynamic"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dynamic Shovels</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/docs/next/web-stomp"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Web STOMP Plugin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#enabling-plugin" class="table-of-contents__link toc-highlight">Enabling the Plugin</a></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Plugin Configuration</a><ul><li><a href="#tcp-listeners" class="table-of-contents__link toc-highlight">TCP Listeners</a></li><li><a href="#tls" class="table-of-contents__link toc-highlight">TLS Support</a></li><li><a href="#default-credentials" class="table-of-contents__link toc-highlight">Default User</a></li><li><a href="#tls-certificate-authentication" class="table-of-contents__link toc-highlight">Authentication with TLS/x509 client certificates</a></li><li><a href="#cta.ic" class="table-of-contents__link toc-highlight">Implicit Connect</a></li><li><a href="#proxy-protocol" class="table-of-contents__link toc-highlight">Proxy Protocol</a></li><li><a href="#frame-size-limit" class="table-of-contents__link toc-highlight">Frame Size Limit</a></li></ul></li><li><a href="#d" class="table-of-contents__link toc-highlight">Destinations</a><ul><li><a href="#amqp-0-9-1-semantics" class="table-of-contents__link toc-highlight">AMQP 0-9-1 Semantics</a></li><li><a href="#d.ed" class="table-of-contents__link toc-highlight">Exchange Destinations</a></li><li><a href="#d.qd" class="table-of-contents__link toc-highlight">Queue Destinations</a></li><li><a href="#d.aqd" class="table-of-contents__link toc-highlight">AMQ Queue Destinations</a></li><li><a href="#d.td" class="table-of-contents__link toc-highlight">Topic Destinations</a></li><li><a href="#d.dts" class="table-of-contents__link toc-highlight">Durable Topic Subscriptions</a></li><li><a href="#d.tqd" class="table-of-contents__link toc-highlight">Temp Queue Destinations</a></li><li><a href="#d.ugqn" class="table-of-contents__link toc-highlight">User generated queue names for Topic and Exchange destinations</a></li></ul></li><li><a href="#queue-parameters" class="table-of-contents__link toc-highlight">Controlling RabbitMQ Queue Parameters with STOMP</a></li><li><a href="#policies" class="table-of-contents__link toc-highlight">Using Policies with STOMP</a></li><li><a href="#extensions-and-restrictions" class="table-of-contents__link toc-highlight">Protocol Extensions and Restrictions</a><ul><li><a href="#pear.c" class="table-of-contents__link toc-highlight">Connection and Virtual Hosts</a></li><li><a href="#pear.mp" class="table-of-contents__link toc-highlight">Message Persistence</a></li><li><a href="#ack-nack" class="table-of-contents__link toc-highlight">ACK and NACK</a></li><li><a href="#pear.p" class="table-of-contents__link toc-highlight">Prefetch</a></li><li><a href="#stream-support" class="table-of-contents__link toc-highlight">Stream Support</a></li><li><a href="#pear.hpos" class="table-of-contents__link toc-highlight">Header prohibited on <code>SEND</code></a></li><li><a href="#pear.ap" class="table-of-contents__link toc-highlight">Queue Properties</a></li><li><a href="#optional-queue-properties" class="table-of-contents__link toc-highlight">Optional Queue Properties</a></li><li><a href="#queue-immutability" class="table-of-contents__link toc-highlight">Queue Immutability</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>