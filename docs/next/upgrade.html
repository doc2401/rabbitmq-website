<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-upgrade" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Upgrading RabbitMQ | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/docs/next/upgrade"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Upgrading RabbitMQ | RabbitMQ"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/upgrade"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/upgrade" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/next/upgrade" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/docs/next">Docs</a><a class="navbar__item navbar__link" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs/next/upgrade">Next</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rabbitmq-website/docs/next/upgrade">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/upgrade">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0/upgrade">4.0</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/3.13/upgrade">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/next">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/release-information">Release Information</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rabbitmq-website/docs/next/download">Install and Upgrade</a><button aria-label="Collapse sidebar category &#x27;Install and Upgrade&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/which-erlang">Erlang Version Requirements</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/signatures">Package Signatures</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/next/platforms">Supported Operating Systems</a><button aria-label="Expand sidebar category &#x27;Supported Operating Systems&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/kubernetes/operator/install-operator">Kubernetes Operator</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" tabindex="0" href="/rabbitmq-website/docs/next/upgrade">Upgrade</a><button aria-label="Collapse sidebar category &#x27;Upgrade&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/rolling-upgrade">Rolling Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/blue-green-upgrade">Blue-Green Deployment</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/grow-then-shrink-upgrade">Grow-Then-Shrink Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/feature-flags">Feature Flags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/deprecated-features">Deprecated Features</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/next/snapshots">Snapshots</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/use-rabbitmq">How to Use RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Use RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/manage-rabbitmq">How to Manage RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Manage RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/next/monitoring">How to Monitor RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Monitor RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->RabbitMQ<!-- --> <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rabbitmq-website/docs/upgrade">latest version</a></b> (<!-- -->4.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitmq-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rabbitmq-website/docs/next/download"><span itemprop="name">Install and Upgrade</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Upgrade</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: Next</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Upgrading RabbitMQ</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="strategies">Upgrade Strategies<a href="#strategies" class="hash-link" aria-label="Direct link to Upgrade Strategies" title="Direct link to Upgrade Strategies">​</a></h2>
<p>There are three major upgrade strategies that can be used with RabbitMQ. Below you&#x27;ll find a brief overview
of all of them. Each strategy has a dedicated page with more detailed information.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rolling-upgrade">Rolling (in-place) Upgrade<a href="#rolling-upgrade" class="hash-link" aria-label="Direct link to Rolling (in-place) Upgrade" title="Direct link to Rolling (in-place) Upgrade">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This upgrade strategy is recommended</p></div></div>
<p>A rolling upgrade (also referred to as in-place upgrade) is an upgrade process where nodes are upgraded one by one.
Refer to the <a href="/rabbitmq-website/docs/next/rolling-upgrade">rolling upgrade guide</a> page for more details, but here are the main steps:</p>
<ul>
<li>Investigate if the current and target versions have a rolling upgrade path<!-- -->
<ul>
<li>check <a href="#rabbitmq-version-upgradability">version upgradability</a></li>
<li>check <a href="#rabbitmq-erlang-version-requirement">Erlang version requirements</a></li>
<li>check <a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">the release notes</a></li>
<li>verify that all <a href="/rabbitmq-website/docs/next/feature-flags#how-to-enable-feature-flags">stable feature flags are enabled</a></li>
</ul>
</li>
<li>Check that the node or cluster is in a good state in order to be upgraded<!-- -->
<ul>
<li>no <a href="/rabbitmq-website/docs/next/alarms">alarms</a> are in effect</li>
<li>no ongoing queue or stream replica sync operations</li>
<li>the system is otherwise under a reasonable load</li>
</ul>
</li>
<li>For each node<!-- -->
<ul>
<li>stop the node</li>
<li>upgrade RabbitMQ and, if applicable, Erlang</li>
<li>start the node</li>
<li>watch <a href="/rabbitmq-website/docs/next/monitoring">monitoring and health check</a> data to assess the health and recovery of the upgraded node and cluster</li>
</ul>
</li>
<li>Once all nodes are upgraded, <a href="/rabbitmq-website/docs/next/feature-flags#how-to-enable-feature-flags">enable stable feature flags</a> introduced in the new version</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="blue-green-deployment">Blue-Green Deployment<a href="#blue-green-deployment" class="hash-link" aria-label="Direct link to Blue-Green Deployment" title="Direct link to Blue-Green Deployment">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>This upgrade strategy is the safest option. It is recommended
for environments where a rolling upgrade is not an option
for any reason, or extra safety is particularly important</p></div></div>
<p><a href="/rabbitmq-website/docs/next/blue-green-upgrade">The Blue/Green deployment</a> strategy offers the benefit of making the upgrade process safer at the cost of
temporary increasing infrastructure footprint. The safety aspect comes from the fact that the operator
can abort an upgrade by switching applications back to the old cluster.</p>
<p>A blue-green upgrade usually involves the following steps performed by a deployment tool or manually
by an operator. Refer to the <a href="/rabbitmq-website/docs/next/blue-green-upgrade">blue-green deployment guide</a> for more details about these steps:</p>
<ul>
<li>Deploy a new cluster with the desired version</li>
<li>Synchronize metadata between the old and the new cluster (unless applications can declare their own metadata)</li>
<li>Set up federation</li>
<li>Switch consumers to the new cluster</li>
<li>Drain messages</li>
<li>Switch publishers to the new cluster</li>
<li>Decommission the old cluster</li>
</ul>
<p>There&#x27;s also a simplfied version of the blue-green strategy, if some downtime is acceptable:</p>
<ul>
<li>Deploy a new cluster with the target version</li>
<li>Stop the applications</li>
<li>Synchronize metadata between the old and new clusters</li>
<li>Move all messages from the old cluster to the new one (e.g. using <a href="/rabbitmq-website/docs/next/shovel">Shovel</a>)</li>
<li>Reconfigure applications to use the new cluster</li>
<li>Start publishers and consumers</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="grow-then-shrink-upgrade">Grow-then-Shrink Upgrade<a href="#grow-then-shrink-upgrade" class="hash-link" aria-label="Direct link to Grow-then-Shrink Upgrade" title="Direct link to Grow-then-Shrink Upgrade">​</a></h3>
<div class="theme-admonition theme-admonition-danger admonition_xJq3 alert alert--danger"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>danger</div><div class="admonitionContent_BuS1"><p>This upgrade strategy changes replica identities, can result in massive
unnecessary data transfers between nodes, and is only safe with important
precautions. Therefore, it is <a href="/rabbitmq-website/docs/next/grow-then-shrink-upgrade">highly recommended
against</a>.</p></div></div>
<p>A <a href="/rabbitmq-website/docs/next/grow-then-shrink-upgrade">grow-and-shrink upgrade</a> usually involves the
following steps. Consider a three node cluster with nodes A, B, and C:</p>
<ul>
<li>Investigate if the current and target versions can be clustered together<!-- -->
<ul>
<li>check <a href="#rabbitmq-version-upgradability">version upgradability</a>; if a rolling upgrade between the old and new version is not supported,
that also means that these two versions cannot coexist in a single cluster</li>
<li>check <a href="#rabbitmq-erlang-version-requirement">Erlang version requirements</a></li>
<li>check <a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.0.0" target="_blank" rel="noopener noreferrer">the release notes</a></li>
</ul>
</li>
<li>Add a new node, node D, to the cluster
for node D to be able to join the cluster)</li>
<li>Place a new replica of every quorum queue and every stream on the new node</li>
<li>Check that the node or cluster is in a good state<!-- -->
<ul>
<li>no <a href="/rabbitmq-website/docs/next/alarms">alarms</a> are in effect</li>
<li>no ongoing queue or stream replica sync operations</li>
<li>the system is otherwise under a reasonable load</li>
</ul>
</li>
<li>Remove node A from the cluster using <code>rabbitmqctl forget_cluster_node</code></li>
<li>Repeat the steps above for the other nodes; in a 3-node cluster example, the cluster should now consist of nodes D, E and F</li>
<li><a href="/rabbitmq-website/docs/next/feature-flags#how-to-enable-feature-flags">Enable stable feature flags</a> introduced in the new version</li>
</ul>
<p>Multiple nodes can be added and removed at a time.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-version-upgradability">RabbitMQ Version Upgradability<a href="#rabbitmq-version-upgradability" class="hash-link" aria-label="Direct link to RabbitMQ Version Upgradability" title="Direct link to RabbitMQ Version Upgradability">​</a></h2>
<p>You can only upgrade to RabbitMQ 4.0 from RabbitMQ 3.13.x.</p>
<p>Don&#x27;t forget to <a href="/rabbitmq-website/docs/next/feature-flags#how-to-enable-feature-flags">enable all stable feature flags</a> while still on 3.13,
<strong>before</strong> attempting an upgrade to RabbitMQ 4.0, or the upgrade will fail.</p>
<p>If you are not on RabbitMQ 3.13 yet, refer to the table below to understand your upgrade path.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Release Series Upgradeability</summary><div><div class="collapsibleContent_i85q"><p>The following shows the supported upgrade paths.</p><table><thead><tr><th>From</th><th>To</th><th>Notes</th></tr></thead><tbody><tr><td>3.13.x</td><td>4.0.x</td><td>All stable feature flags <strong>must</strong> be enabled <strong>before</strong> the upgrade</td></tr><tr><td>3.12.x</td><td>3.13.x</td><td></td></tr><tr><td>3.11.18</td><td>3.12.x</td><td>All feature flags <strong>must</strong> be enabled <strong>before</strong> the upgrade</td></tr><tr><td>3.10.x</td><td>3.11.x</td><td>All feature flags <strong>must</strong> be enabled <strong>before</strong> the upgrade</td></tr><tr><td>3.9.x</td><td>3.10.x</td><td></td></tr><tr><td>3.8.x</td><td>3.9.x</td><td></td></tr><tr><td>3.7.18</td><td>3.8.x</td><td></td></tr></tbody></table></div></div></details>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>RabbitMQ 3.13 included experimental support for Khepri. However, major changes
had to be introduced since then, leading to incompatibilities between Khepri support
in 3.13 and 4.0. Therefore, RabbitMQ 3.13 with Khepri enabled <strong>cannot</strong> be upgraded
to 4.0. <a href="/rabbitmq-website/docs/next/blue-green-upgrade">Blue-Green Deployment</a> can still be used in this situation,
since technically it is not an upgrade, but rather a migration to a fresh cluster.</p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-erlang-version-requirement">Erlang Version Requirements<a href="#rabbitmq-erlang-version-requirement" class="hash-link" aria-label="Direct link to Erlang Version Requirements" title="Direct link to Erlang Version Requirements">​</a></h2>
<p>Please refer to the <a href="/rabbitmq-website/docs/next/which-erlang">Erlang Version Requirements</a> guide
to learn the minimum required and maximum supported version of Erlang for a given RabbitMQ version.</p>
<p>It&#x27;s generally recommended to use the latest Erlang version supported by the target RabbitMQ version.</p>
<p>We recommend that you upgrade Erlang together with RabbitMQ.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-plugins-compatibility">Plugin Compatibility Between Versions<a href="#rabbitmq-plugins-compatibility" class="hash-link" aria-label="Direct link to Plugin Compatibility Between Versions" title="Direct link to Plugin Compatibility Between Versions">​</a></h2>
<p>Plugins included in the RabbitMQ distribution are guaranteed to be compatible with the
version they are distributed with. If <a href="/rabbitmq-website/community-plugins">community plugins</a> are used,
they need to be verified separately.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="management-ui">Management Plugin Upgrades<a href="#management-ui" class="hash-link" aria-label="Direct link to Management Plugin Upgrades" title="Direct link to Management Plugin Upgrades">​</a></h3>
<p>RabbitMQ management plugin comes with a Web application that runs in the browser.</p>
<p>After upgrading a cluster, it is highly recommended to clear browser cache,
local storage, session storage and cookies for the domain(s) used to access the management UI.
Otherwise, you may experience JavaScript errors.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="upgrade-considerations">Upgrade Considerations<a href="#upgrade-considerations" class="hash-link" aria-label="Direct link to Upgrade Considerations" title="Direct link to Upgrade Considerations">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="system-resource-usage">Changes in System Resource Usage<a href="#system-resource-usage" class="hash-link" aria-label="Direct link to Changes in System Resource Usage" title="Direct link to Changes in System Resource Usage">​</a></h3>
<p>During and after the upgrade, connections and queues will be balanced
differently between the nodes: as nodes go down, connections
will be reestablished on the remaining nodes and queue leaders will be reelected.
It is important to make sure your cluster can sustain the workload while some,
usually one, node is down for the upgrade. Performing the upgrade during low
traffic hours is recommended.</p>
<p>Additionally, different versions of RabbitMQ can have different resource usage. That
should be taken into account before upgrading: make sure there&#x27;s enough
capacity to run the workload with the new version. Always consult with
the release notes of all versions between the one currently deployed and the
target one in order to find out about changes which could impact
your workload and resource usage.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-node-upgrade">Upgrading a Single Node Installation<a href="#single-node-upgrade" class="hash-link" aria-label="Direct link to Upgrading a Single Node Installation" title="Direct link to Upgrading a Single Node Installation">​</a></h3>
<p>There are no fundamental differences between upgrading a single node installation compared
to upgrading a multi-node cluster.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="upgrading-dev-environments">Upgrading Development Environments<a href="#upgrading-dev-environments" class="hash-link" aria-label="Direct link to Upgrading Development Environments" title="Direct link to Upgrading Development Environments">​</a></h4>
<p>Single node deployments are often local development or test environments. In such cases, if
the messages stored in RabbitMQ are not important, it may be easier to simply
delete everything in the data directory and start a fresh node of the new version. Effectively,
it&#x27;s no longer an upgrade but a fresh installation of the new version.</p>
<p>Please note that this process will <strong>delete all data</strong> in your RabbitMQ (definitions and messages), but this is usually
not a problem in a development/test environment. The definitions can be preserved using <a href="/rabbitmq-website/docs/next/definitions">export/import</a>.
The benefit of this approach is that you can easily jump from any version to any other version without worrying
about compatibility and feature flags.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="downgrades">Downgrades<a href="#downgrades" class="hash-link" aria-label="Direct link to Downgrades" title="Direct link to Downgrades">​</a></h3>
<p>RabbitMQ does not officially support downgrades - they are not tested and should not be relied upon.
Users who want extra safety can use <a href="/rabbitmq-website/docs/next/blue-green-upgrade">blue-green deployment</a> approach,
which allows switching back to the old environment.</p>
<p>Having said that, downgrades technically work between some versions, especially if they only differ by a patch release.
It is not guaranteed however: there have been patch releases that could not be downgraded even to the immediately
preceding patch release.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="backup">Backup<a href="#backup" class="hash-link" aria-label="Direct link to Backup" title="Direct link to Backup">​</a></h3>
<p>It&#x27;s strongly advised to back node&#x27;s data directory up before upgrading.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="maintaining-quorum">When to Restart Nodes<a href="#maintaining-quorum" class="hash-link" aria-label="Direct link to When to Restart Nodes" title="Direct link to When to Restart Nodes">​</a></h3>
<p>Multiple components and features depend on the availability of a quorum of nodes. In the most common
case of a 3-node cluster, this means that 2 nodes should always be available during the upgrade.</p>
<p>RabbitMQ provides a <a href="/rabbitmq-website/docs/next/monitoring#health-checks">health check</a> command that would fail
should any quorum queues, stream queues or other internal components on the target node lose their quorum, if that node was to be shut down:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># exits with a non-zero code if any of the internal components, quorum queues or stream queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># will lose online quorum should the target node be shut down;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># additionally, it will print which components and/or queues are affected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-diagnostics check_if_node_is_quorum_critical</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># exits with a non-zero code if any of the internal components, quorum queues or stream queues</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># will lose online quorum should the target node be shut down;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># additionally, it will print which components and/or queues are affected</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-diagnostics</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat check_if_node_is_quorum_critical</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>For example, consider a three node cluster with nodes A, B, and C and some quorum queues. If node B is currently down,
this check will fail if executed against node A or C, because if A or C went down, there would only be one node running
(and therefore, there would be no quorum). When node B comes back online, the same check would succeed.</p>
<p>When automating the upgrade process, you can use <code>rabbitmq-upgrade await_online_quorum_plus_one</code> command
to block the node shutdown process until there is enough nodes running to maintain quorum. Note that
some deployment options already incorporate this check - for example, when running RabbitMQ on Kubernetes
using the <a href="/rabbitmq-website/kubernetes/operator/operator-overview">Cluster Operator</a>, this is already a part of the <code>preStop</code> hook.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rebalance">Rebalancing Queue Leaders<a href="#rebalance" class="hash-link" aria-label="Direct link to Rebalancing Queue Leaders" title="Direct link to Rebalancing Queue Leaders">​</a></h3>
<p>If either the rolling or grown-then-shrink upgrade strategy is used, queue leaders will not be evenly distributed
between the nodes after the upgrade. Rebalancing of queue and stream leaders helps spread the load across all cluster nodes.</p>
<p>To rebalance all queue and stream leader replicas, run:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-queues rebalance all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-queues</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat rebalance all</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="full-stop-upgrades">Full-Stop Upgrades<a href="#full-stop-upgrades" class="hash-link" aria-label="Direct link to Full-Stop Upgrades" title="Direct link to Full-Stop Upgrades">​</a></h3>
<p>There is no need to stop all nodes in a cluster to perform an upgrade.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="maintenance-mode">Maintenance Mode<a href="#maintenance-mode" class="hash-link" aria-label="Direct link to Maintenance Mode" title="Direct link to Maintenance Mode">​</a></h2>
<p>Maintenance mode is a special node operation mode that can be useful during upgrades.
The mode is explicitly turned on and off by the operator using a bunch of new CLI commands covered below.</p>
<p>When a node is in maintenance mode, it <strong>will not be available for serving client traffic</strong>
and will try to transfer as many of its responsibilities as practically possible and safe.</p>
<p>Currently this involves the following steps:</p>
<ul>
<li>Suspend all client connection listeners (no new client connections will be accepted)</li>
<li>Close all existing client connections: applications are expected to reconnect to other nodes and recover</li>
<li>Transfer primary replicas of all quorum queues hosted on the target node, and prevent them from participating
in the subsequently triggered Raft elections</li>
<li>Mark the node as down for maintenance</li>
<li>At this point, a node shutdown will be least disruptive as the node has already transferred most of its
responsibilities</li>
</ul>
<p>A node in maintenance mode will not be considered for new primary queue replica placement, regardless
of queue type and whether the queue type supports replication.</p>
<p>This feature is expected to evolve based on the feedback from RabbitMQ operators, users,
and RabbitMQ core team&#x27;s own experience with it.</p>
<p>A node in maintenance mode is expected to be shut down, upgraded or reconfigured, and restarted in a short
time window (say, 5-30 minutes). Nodes are not expected to be running in this mode permanently or
for long periods of time.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enabling-maintenance-mode">Enabling Maintenance Mode<a href="#enabling-maintenance-mode" class="hash-link" aria-label="Direct link to Enabling Maintenance Mode" title="Direct link to Enabling Maintenance Mode">​</a></h3>
<p>To put a node into maintenance, use <code>rabbitmq-upgrade drain</code>:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-upgrade drain</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-upgrade</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat drain</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disabling-maintenance-mode">Disabling Maintenance Mode<a href="#disabling-maintenance-mode" class="hash-link" aria-label="Direct link to Disabling Maintenance Mode" title="Direct link to Disabling Maintenance Mode">​</a></h3>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>A restart takes the node out of maintenance mode automatically.</p></div></div>
<p>A node in maintenance mode can be <em>revived</em>, that is, <strong>brought back into its regular operational state</strong>,
using <code>rabbitmq-upgrade revive</code>:</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-upgrade revive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-upgrade</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat revive</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>The command exists to roll back (to the extent possible) the effects of the <code>drain</code> command.
It is only necessary to run this command if you decided you can&#x27;t restart the node as planned.</p>
<p>It is <strong>not</strong> necessary to revive a node after it was restarted/upgraded, because the restart
automatically takes the node out of maintenance mode.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="checking-maintenance-status">Checking Maintenance Status<a href="#checking-maintenance-status" class="hash-link" aria-label="Direct link to Checking Maintenance Status" title="Direct link to Checking Maintenance Status">​</a></h3>
<p>You can check whether any of the nodes in the cluster is in the maintenance mode
by running <code>rabbitmqctl cluster_status</code>. You can also check the status of a specific
node by running <code>rabbitmqctl status</code>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="rabbitmq-restart-handling">Handling Node Restarts in Applications<a href="#rabbitmq-restart-handling" class="hash-link" aria-label="Direct link to Handling Node Restarts in Applications" title="Direct link to Handling Node Restarts in Applications">​</a></h2>
<p>In order to reduce or eliminate the downtime, applications (both producers
and consumers) should be able to cope with a server-initiated connection
close. Some client libraries offer automatic connection recovery
to help with this:</p>
<ul>
<li><a href="/rabbitmq-website/client-libraries/java-api-guide#recovery">Java client</a></li>
<li><a href="/rabbitmq-website/client-libraries/dotnet-api-guide#connection-recovery">.NET client</a></li>
<li><a href="http://rubybunny.info/articles/error_handling.html#network_connection_failures" target="_blank" rel="noopener noreferrer">Bunny</a> (Ruby)</li>
</ul>
<p>In most client libraries there is a way to react to a connection closure, for example:</p>
<ul>
<li><a href="https://pika.readthedocs.io/en/stable/modules/connection.html#pika.connection.Connection.add_on_close_callback" target="_blank" rel="noopener noreferrer">Pika</a> (Python)</li>
<li><a href="https://pkg.go.dev/github.com/rabbitmq/amqp091-go#Connection.NotifyClose" target="_blank" rel="noopener noreferrer">Go</a></li>
</ul>
<p>The recovery procedure for many applications follows the same steps:</p>
<ol>
<li>Reconnect</li>
<li>Re-open channels</li>
<li>Restore channel settings (e.g. the <a href="/rabbitmq-website/docs/next/confirms"><code>basic.qos</code> setting</a>, publisher confirms)</li>
<li>Recover topology</li>
</ol>
<p>Topology recovery includes the following actions, performed for every channel:</p>
<ol>
<li>Re-declare exchanges declared by the application</li>
<li>Re-declare queues</li>
<li>Recover bindings (both queue and <a href="/rabbitmq-website/docs/next/e2e">exchange-to-exchange</a> ones)</li>
<li>Recover consumers</li>
</ol>
<p>This algorithm covers the majority of use cases and is what the
aforementioned automatic recovery feature implements.</p>
<p>During a rolling upgrade when a node is stopped, clients connected to this node
will be disconnected using a server-sent <code>connection.close</code> method and should reconnect to a different node.
This can be achieved by using a load balancer or proxy in front of the cluster
or by specifying multiple server hosts if client library supports this feature.</p>
<p>Many client libraries libraries support host lists, for example:</p>
<ul>
<li><a href="https://rabbitmq.github.io/rabbitmq-java-client/api/current/com/rabbitmq/client/ConnectionFactory.html#newConnection%28com.rabbitmq.client.Address%5B%5D%29" target="_blank" rel="noopener noreferrer">Java client</a></li>
<li><a href="https://github.com/rabbitmq/rabbitmq-dotnet-client/blob/main/projects/RabbitMQ.Client/client/api/ConnectionFactory.cs#L392" target="_blank" rel="noopener noreferrer">.NET client</a></li>
<li><a href="http://api.rubybunny.info/Bunny/Session.html#constructor_details" target="_blank" rel="noopener noreferrer">Bunny</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/docs/upgrade.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/docs/next/install-homebrew"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">MacOs using Homebrew</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/docs/next/rolling-upgrade"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Rolling Upgrade</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#strategies" class="table-of-contents__link toc-highlight">Upgrade Strategies</a><ul><li><a href="#rolling-upgrade" class="table-of-contents__link toc-highlight">Rolling (in-place) Upgrade</a></li><li><a href="#blue-green-deployment" class="table-of-contents__link toc-highlight">Blue-Green Deployment</a></li><li><a href="#grow-then-shrink-upgrade" class="table-of-contents__link toc-highlight">Grow-then-Shrink Upgrade</a></li></ul></li><li><a href="#rabbitmq-version-upgradability" class="table-of-contents__link toc-highlight">RabbitMQ Version Upgradability</a></li><li><a href="#rabbitmq-erlang-version-requirement" class="table-of-contents__link toc-highlight">Erlang Version Requirements</a></li><li><a href="#rabbitmq-plugins-compatibility" class="table-of-contents__link toc-highlight">Plugin Compatibility Between Versions</a><ul><li><a href="#management-ui" class="table-of-contents__link toc-highlight">Management Plugin Upgrades</a></li></ul></li><li><a href="#upgrade-considerations" class="table-of-contents__link toc-highlight">Upgrade Considerations</a><ul><li><a href="#system-resource-usage" class="table-of-contents__link toc-highlight">Changes in System Resource Usage</a></li><li><a href="#single-node-upgrade" class="table-of-contents__link toc-highlight">Upgrading a Single Node Installation</a></li><li><a href="#downgrades" class="table-of-contents__link toc-highlight">Downgrades</a></li><li><a href="#backup" class="table-of-contents__link toc-highlight">Backup</a></li><li><a href="#maintaining-quorum" class="table-of-contents__link toc-highlight">When to Restart Nodes</a></li><li><a href="#rebalance" class="table-of-contents__link toc-highlight">Rebalancing Queue Leaders</a></li><li><a href="#full-stop-upgrades" class="table-of-contents__link toc-highlight">Full-Stop Upgrades</a></li></ul></li><li><a href="#maintenance-mode" class="table-of-contents__link toc-highlight">Maintenance Mode</a><ul><li><a href="#enabling-maintenance-mode" class="table-of-contents__link toc-highlight">Enabling Maintenance Mode</a></li><li><a href="#disabling-maintenance-mode" class="table-of-contents__link toc-highlight">Disabling Maintenance Mode</a></li><li><a href="#checking-maintenance-status" class="table-of-contents__link toc-highlight">Checking Maintenance Status</a></li></ul></li><li><a href="#rabbitmq-restart-handling" class="table-of-contents__link toc-highlight">Handling Node Restarts in Applications</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>