<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-3.13 docs-doc-page docs-doc-id-oauth2-examples-okta" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Use Okta as OAuth 2.0 server | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/oauth2-examples-okta"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.13"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.13"><meta data-rh="true" name="docsearch:version" content="3.13"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.13"><meta data-rh="true" property="og:title" content="Use Okta as OAuth 2.0 server | RabbitMQ"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/oauth2-examples-okta"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/oauth2-examples-okta" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/oauth2-examples-okta" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/docs/3.13">Docs</a><a class="navbar__item navbar__link" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs/3.13/oauth2-examples-okta">3.13</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next/oauth2-examples-okta">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/oauth2-examples-okta">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0/oauth2-examples-okta">4.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rabbitmq-website/docs/3.13/oauth2-examples-okta">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/3.13">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/3.13/whats-new">What&#x27;s New</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/download">Install and Upgrade</a><button aria-label="Expand sidebar category &#x27;Install and Upgrade&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/use-rabbitmq">How to Use RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Use RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/manage-rabbitmq">How to Manage RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Manage RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/monitoring">How to Monitor RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Monitor RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->RabbitMQ<!-- --> <b>3.13</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rabbitmq-website/docs/oauth2-examples-okta">latest version</a></b> (<!-- -->4.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitmq-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.13</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Use Okta as OAuth 2.0 server</h1></header>
<p>Demonstrate how to authenticate using OAuth 2.0 protocol
and Okta as Authorization Server using the following flows:</p>
<ol>
<li>Access <a href="/rabbitmq-website/docs/3.13/management">management UI</a> via a browser</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites-to-follow-this-guide">Prerequisites to follow this guide<a href="#prerequisites-to-follow-this-guide" class="hash-link" aria-label="Direct link to Prerequisites to follow this guide" title="Direct link to Prerequisites to follow this guide">​</a></h2>
<ul>
<li>Have an <a href="https://www.okta.com" target="_blank" rel="noopener noreferrer">Okta account</a></li>
<li>Docker</li>
<li><code>git clone https://github.com/rabbitmq/rabbitmq-oauth2-tutorial</code>. This github repository
contains all the configuration files and scripts used on this example</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-your-app-integration-in-okta-ui">Create your app integration in Okta UI<a href="#create-your-app-integration-in-okta-ui" class="hash-link" aria-label="Direct link to Create your app integration in Okta UI" title="Direct link to Create your app integration in Okta UI">​</a></h2>
<p>When using <strong>Okta as OAuth 2.0 server</strong>, your client app (in our case RabbitMQ) needs a way to trust the security tokens issued to it by the <strong>Okta OIDC Sign-In Widget</strong>.</p>
<p>The first step in establishing that trust is by <strong>creating your app</strong> with the identity platform in Okta. To learn more about App registration in Okta,
please refer to <a href="https://help.okta.com/en-us/Content/Topics/Apps/Apps_App_Integration_Wizard_OIDC.htm" target="_blank" rel="noopener noreferrer">Okta documentation</a>.</p>
<p>Once you have logged onto your account in <a href="https://www.okta.com" target="_blank" rel="noopener noreferrer">Okta</a>, follow below steps:</p>
<ol>
<li>In the Admin Console, go to Applications.</li>
<li>Click Create App Integration.</li>
<li>To create an OIDC app integration, select OIDC - OpenID Connect as the Sign-in method.</li>
<li>Choose the type of application to integrate with Okta. Select Web Application, Single-Page Application, or Native Application. In our use case it is Single-Page Application(SPA).</li>
<li>Click Next.</li>
</ol>
<p>The App Integration Wizard for OIDC has three sections:</p>
<p>In General Settings, provide the following information:</p>
<ul>
<li><strong>Name</strong>: App integration name: Specify a name for your app integrationn (ex: <em>rabbitmq-oauth2</em>)</li>
<li><strong>Grant type</strong>: Select <strong>Authorization Code</strong> and <strong>Refresh Token</strong></li>
<li><strong>Redirect URI</strong>:<!-- -->
<ul>
<li>On the <strong>Sign-in redirect URIs</strong> type <a href="http://localhost:15672/js/oidc-oauth/login-callback.html" target="_blank" rel="noopener noreferrer">http://localhost:15672/js/oidc-oauth/login-callback.html</a></li>
<li>Configure the <strong>Sign-out redirect URIs</strong> to <a href="https://localhost:15672" target="_blank" rel="noopener noreferrer">https://localhost:15672</a></li>
</ul>
</li>
</ul>
<p>In Trusted Origins (for Web and Native app integrations), choose <strong>keep the default values</strong>.</p>
<p>In Assignments, choose <strong>Allow everyone in your organization to access</strong>.</p>
<p>Finally, click on <strong>Save</strong> and write down the following values, as you will need them later to configure RabbitMQ:</p>
<ul>
<li><strong>ClientID</strong></li>
<li><strong>Okta domain name</strong></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-okta-oauth-20-authorization-server-scopes-and-claims">Create Okta OAuth 2.0 Authorization Server, Scopes and Claims<a href="#create-okta-oauth-20-authorization-server-scopes-and-claims" class="hash-link" aria-label="Direct link to Create Okta OAuth 2.0 Authorization Server, Scopes and Claims" title="Direct link to Create Okta OAuth 2.0 Authorization Server, Scopes and Claims">​</a></h2>
<p>An authorization server is used to authenticate users and issue access tokens that can be used to access protected resources. In Okta, an authorization server can be used to define scopes, which are essentially permissions that determine what resources a user can access. By defining scopes, you can control the level of access that different users have to your resources.</p>
<p>Here are the steps to create scopes for <code>admin</code> and <code>dev</code> groups using the default authorization server in Okta:</p>
<ol>
<li>
<p>Log in to your Okta account and navigate to the <strong>Authorization Servers</strong> tab in the Okta Console under <strong>Security-&gt; API</strong>.</p>
</li>
<li>
<p>Click on the default authorization server that is provided.</p>
</li>
<li>
<p>Click on the <strong>Scopes</strong> tab and then click the <strong>Add Scope</strong> button.</p>
</li>
<li>
<p>Enter <code>admin</code> as the name of the scope and a description if desired.</p>
</li>
<li>
<p>Repeat step 4 to create a scope for <code>dev</code>.</p>
</li>
<li>
<p>Save your changes.</p>
</li>
</ol>
<p>And below are the steps to create a claim for <strong>role</strong> to distinguish <code>admin</code> and <code>dev</code> groups when authenticating using the default authorization server in Okta:</p>
<ol>
<li>
<p>Log in to your Okta account and navigate to the <strong>Authorization Servers</strong> tab in the Okta Console under <strong>Security-&gt; API</strong>.</p>
</li>
<li>
<p>Click on the default authorization server that is provided.</p>
</li>
<li>
<p>Click on the <strong>Claims</strong> tab and then click the <strong>Add Claim</strong> button.</p>
</li>
<li>
<p>Enter <code>role</code> as the name of the claim.</p>
</li>
<li>
<p>Choose <strong>Access Token</strong> as Include in token type.</p>
</li>
<li>
<p>Choose <strong>Expression</strong> as Value type</p>
</li>
<li>
<p>In <strong>Value</strong> field enter the following expression:
<code>isMemberOfGroupName(&quot;admin&quot;) ? &quot;admin&quot; : isMemberOfGroupName(&quot;monitoring&quot;) ? &quot;monitoring&quot; : &quot;&quot;</code></p>
</li>
<li>
<p>Click on create.</p>
</li>
</ol>
<p><strong>Note</strong>: the expression above returns a claim named <code>role</code> with value <code>admin</code> if the user is a member of the <code>admin</code> group, and <code>monitoring</code> if the user is a member of the <code>monitoring</code> group:</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="create-groups-to-allow-access-to-management-ui">Create Groups to Allow Access to Management UI<a href="#create-groups-to-allow-access-to-management-ui" class="hash-link" aria-label="Direct link to Create Groups to Allow Access to Management UI" title="Direct link to Create Groups to Allow Access to Management UI">​</a></h3>
<ol>
<li>
<p>Log in to your Okta Admin Dashboard and navigate to the <strong>Groups</strong> page by clicking on the <strong>Groups</strong> tab in the top menu.</p>
</li>
<li>
<p>Click the <strong>Add Group</strong> button in the top right corner of the page.</p>
</li>
<li>
<p>In the <strong>Add Group</strong> dialog box, enter a name for the group in the <strong>Group Name</strong> field. You can also enter a description for the group in the <strong>Description</strong> field, although this is optional.</p>
</li>
<li>
<p>If you want to add members to the group right away, you can do so by clicking the <strong>Add People</strong> button in the <strong>Members</strong> section of the dialog box. You can search for users by name or email address, and add them to the group by selecting their name and clicking the <strong>Add</strong> button.</p>
</li>
<li>
<p>If you want to set group rules, you can do so by clicking the <strong>Rules</strong> tab in the dialog box. Group rules allow you to automatically add or remove users from the group based on criteria such as their email domain, job title, or department.</p>
</li>
<li>
<p>Once you&#x27;ve finished configuring the group, click the <strong>Create Group</strong> button to create the group.</p>
</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="assign-app-and-users-to-groups">Assign App and Users to Groups<a href="#assign-app-and-users-to-groups" class="hash-link" aria-label="Direct link to Assign App and Users to Groups" title="Direct link to Assign App and Users to Groups">​</a></h2>
<p>Next step is to assign a user to a group in Okta, and grant them access to an app associated with that group. For our use case we want to assign some users
to <code>dev</code> and <code>admin</code> group and assign the <code>rabbitmq-oauth2</code> app to both groups.</p>
<ol>
<li>
<p>Log in to your Okta Admin Dashboard and navigate to the <strong>Users</strong> page by clicking on the <strong>Directory</strong> tab in the top menu, and then selecting <strong>People</strong>.</p>
</li>
<li>
<p>Find the user you want to assign to the groups, and click on their name to open their user profile.</p>
</li>
<li>
<p>In the user profile, click on the <strong>Groups</strong> tab to view the groups that the user is currently a member of.</p>
</li>
<li>
<p>To add the user to a group, click the <strong>Add Group</strong> button in the top right corner of the page. Select the group you want to add the user to from the list of available groups, and click the <strong>Add</strong> button to add the user to the group.</p>
</li>
<li>
<p>To grant the user access to an app associated with the group, navigate to the <strong>Applications</strong> tab in the user profile. Find the app you want to grant access to, and click on the app name to open its settings.</p>
</li>
<li>
<p>In the app settings, click on the <strong>Assignments</strong> tab to view the users and groups that are currently assigned to the app.</p>
</li>
<li>
<p>To add the user to the app, click the <strong>Assign</strong> button in the top right corner of the page. Select the group you want to assign the user to from the list of available groups, and click the <strong>Assign</strong> button to assign the user to the app for that group.</p>
</li>
<li>
<p>Repeat steps 4-7 to add the user to any additional groups and apps.</p>
</li>
</ol>
<p>Once you&#x27;ve added the user to the appropriate groups and apps, they should have access to the app and any resources associated with those groups.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-rabbitmq-to-use-okta-as-oauth-20-authentication-backend">Configure RabbitMQ to use Okta as OAuth 2.0 Authentication Backend<a href="#configure-rabbitmq-to-use-okta-as-oauth-20-authentication-backend" class="hash-link" aria-label="Direct link to Configure RabbitMQ to use Okta as OAuth 2.0 Authentication Backend" title="Direct link to Configure RabbitMQ to use Okta as OAuth 2.0 Authentication Backend">​</a></h2>
<p>The configuration on the Okta side is now done. The next step is to configure RabbitMQ
to use the resources created earlier.</p>
<p><a href="https://github.com/rabbitmq/rabbitmq-oauth2-tutorial/tree/main/conf/okta/rabbitmq.conf.tmpl" target="_blank" rel="noopener noreferrer">rabbitmq.conf</a> is an example RabbitMQ configuration that uses Okta for OAuth 2-based authentication and authorization. And <a href="https://github.com/rabbitmq/rabbitmq-oauth2-tutorial/tree/main/conf/okta/advanced.config" target="_blank" rel="noopener noreferrer">advanced.config</a> is the RabbitMQ advanced configuration that maps RabbitMQ scopes to the permissions previously configured in Okta.</p>
<p>Update it with the following values from the earlier steps:</p>
<ul>
<li><strong>okta-domain-name</strong>: the Okta domain name</li>
<li><strong>okta_client_app_ID</strong>: the Okta app registered above to be used with RabbitMQ</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="start-rabbitmq">Start RabbitMQ<a href="#start-rabbitmq" class="hash-link" aria-label="Direct link to Start RabbitMQ" title="Direct link to Start RabbitMQ">​</a></h2>
<p>Run the following commands to run RabbitMQ docker image:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">export MODE=okta</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">make start-rabbitmq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="verify-rabbitmq-management-ui-access">Verify RabbitMQ Management UI Access<a href="#verify-rabbitmq-management-ui-access" class="hash-link" aria-label="Direct link to Verify RabbitMQ Management UI Access" title="Direct link to Verify RabbitMQ Management UI Access">​</a></h2>
<p>Go to RabbitMQ Management UI <code>https://localhost:15671</code>. Depending on your browser, ignore the security warnings (raised by the fact that a <a href="/rabbitmq-website/docs/3.13/ssl#peer-verification">self-signed certificate</a> is used)
to proceed.</p>
<p>Once on the RabbitMQ Management UI page, click on the <strong>Click here to log in</strong> button,
authenticate with your <strong>okta user</strong>.</p>
<p>When login succeeds, you will be redirected back to the RabbitMQ Management UI.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/versioned_docs/version-3.13/oauth2-examples-okta.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites-to-follow-this-guide" class="table-of-contents__link toc-highlight">Prerequisites to follow this guide</a></li><li><a href="#create-your-app-integration-in-okta-ui" class="table-of-contents__link toc-highlight">Create your app integration in Okta UI</a></li><li><a href="#create-okta-oauth-20-authorization-server-scopes-and-claims" class="table-of-contents__link toc-highlight">Create Okta OAuth 2.0 Authorization Server, Scopes and Claims</a><ul><li><a href="#create-groups-to-allow-access-to-management-ui" class="table-of-contents__link toc-highlight">Create Groups to Allow Access to Management UI</a></li></ul></li><li><a href="#assign-app-and-users-to-groups" class="table-of-contents__link toc-highlight">Assign App and Users to Groups</a></li><li><a href="#configure-rabbitmq-to-use-okta-as-oauth-20-authentication-backend" class="table-of-contents__link toc-highlight">Configure RabbitMQ to use Okta as OAuth 2.0 Authentication Backend</a></li><li><a href="#start-rabbitmq" class="table-of-contents__link toc-highlight">Start RabbitMQ</a></li><li><a href="#verify-rabbitmq-management-ui-access" class="table-of-contents__link toc-highlight">Verify RabbitMQ Management UI Access</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>