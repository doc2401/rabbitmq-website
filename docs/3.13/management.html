<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-3.13 docs-doc-page docs-doc-id-management/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Management Plugin | RabbitMQ</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" name="twitter:image" content="https://www.rabbitmq.com/rabbitmq-website/img/rabbitmq-social-media-card.svg"><meta data-rh="true" property="og:url" content="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/management"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.13"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.13"><meta data-rh="true" name="docsearch:version" content="3.13"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.13"><meta data-rh="true" property="og:title" content="Management Plugin | RabbitMQ"><meta data-rh="true" name="description" content="&lt;!--"><meta data-rh="true" property="og:description" content="&lt;!--"><link data-rh="true" rel="icon" href="/rabbitmq-website/img/rabbitmq-logo.svg"><link data-rh="true" rel="canonical" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/management"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/management" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.rabbitmq.com/rabbitmq-website/docs/3.13/management" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://H10VQIW16Y-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/rabbitmq-website/blog/rss.xml" title="RabbitMQ RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/rabbitmq-website/blog/atom.xml" title="RabbitMQ Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="RabbitMQ" href="/rabbitmq-website/opensearch.xml">







<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway:400,700">
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" data-domain-script="018ee308-473e-754f-b0c2-cbe82d25512f"></script>
<script>function OptanonWrapper(){}</script>
<script>function setGTM(e,t,o,n,r){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=t.getElementsByTagName(o)[0],a=t.createElement(o),s="dataLayer"!=n?"&l="+n:"";a.async=!0,a.src="https://www.googletagmanager.com/gtm.js?id="+r+s,i.parentNode.insertBefore(a,i)}var timer;function waitForOnetrustActiveGroups(){document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?(clearTimeout(timer),setGTM(window,document,"script","dataLayer","GTM-TT84L8K")):timer=setTimeout(waitForOnetrustActiveGroups,250)}document.cookie.indexOf("OptanonConsent")>-1&&document.cookie.indexOf("groups=")>-1?setGTM(window,document,"script","dataLayer","GTM-TT84L8K"):waitForOnetrustActiveGroups()</script><link rel="stylesheet" href="/rabbitmq-website/styles.css">
<script src="/rabbitmq-website/runtime~main.js" defer="defer"></script>
<script src="/rabbitmq-website/main.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:var(--ifm-color-primary-contrast-background);color:var(--ifm-font-color-base)" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY"><strong style="font-size: var(--ifm-h4-font-size);"><a href="https://github.com/rabbitmq/rabbitmq-server/releases/tag/v4.1.0">RabbitMQ 4.1.0 is out</a></strong></div><button type="button" aria-label="Close" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/rabbitmq-website/"><div class="navbar__logo"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/rabbitmq-website/img/rabbitmq-logo-with-name.svg" alt="RabbitMQ" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a class="navbar__item navbar__link" href="/rabbitmq-website/tutorials">Getting Started</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/rabbitmq-website/docs/3.13">Docs</a><a class="navbar__item navbar__link" href="/rabbitmq-website/blog">Blog</a><a class="navbar__item navbar__link" href="/rabbitmq-website/contact">Support</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a aria-current="page" class="navbar__link active" aria-haspopup="true" aria-expanded="false" role="button" href="/rabbitmq-website/docs/3.13/management">3.13</a><ul class="dropdown__menu"><li class=""><strong>Release series</strong></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/next/management">Next</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/management">4.1</a></li><li><a class="dropdown__link" href="/rabbitmq-website/docs/4.0/management">4.0</a></li><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/rabbitmq-website/docs/3.13/management">3.13</a></li><li><a href="https://v3-12.rabbitmq.com/documentation.html" target="_blank" rel="noopener noreferrer" class="dropdown__link">3.12<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a class="dropdown__link" href="/rabbitmq-website/release-information">Release Information</a></li></ul></div><a href="https://github.com/rabbitmq/rabbitmq-website" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/3.13">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/docs/3.13/whats-new">What&#x27;s New</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/download">Install and Upgrade</a><button aria-label="Expand sidebar category &#x27;Install and Upgrade&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/rabbitmq-website/docs/3.13/use-rabbitmq">How to Use RabbitMQ</a><button aria-label="Collapse sidebar category &#x27;How to Use RabbitMQ&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/publishers">Publishing Messages</a><button aria-label="Expand sidebar category &#x27;Publishing Messages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/consumers">Consuming Messages</a><button aria-label="Expand sidebar category &#x27;Consuming Messages&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/queues">Queues</a><button aria-label="Expand sidebar category &#x27;Queues&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/streams">Streams</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/channels">Channels</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/reliability">Reliability and Data Safety</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/confirms">Consumer Acknowledgements and Publisher Confirms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/distributed">Network Distribution</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/rabbitmq-website/docs/3.13/plugins">Plugins</a><button aria-label="Collapse sidebar category &#x27;Plugins&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/rabbitmq-website/docs/3.13/management">Management Plugin</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/federation">Federation Plugin</a><button aria-label="Expand sidebar category &#x27;Federation Plugin&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/shovel">Shovel Plugin</a><button aria-label="Expand sidebar category &#x27;Shovel Plugin&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/stomp">STOMP Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/web-stomp">Web STOMP Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/mqtt">MQTT Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/web-mqtt">Web MQTT Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/stream">Stream Plugin</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/docs/3.13/installing-plugins">Installing 3rd-party Plugins</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/rabbitmq-website/docs/3.13/protocols">Protocols</a><button aria-label="Expand sidebar category &#x27;Protocols&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/rabbitmq-website/client-libraries">Client Libraries</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/manage-rabbitmq">How to Manage RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Manage RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/rabbitmq-website/docs/3.13/monitoring">How to Monitor RabbitMQ</a><button aria-label="Expand sidebar category &#x27;How to Monitor RabbitMQ&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for <!-- -->RabbitMQ<!-- --> <b>3.13</b>, which is no longer actively maintained.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rabbitmq-website/docs/management">latest version</a></b> (<!-- -->4.1<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/rabbitmq-website/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rabbitmq-website/docs/3.13/use-rabbitmq"><span itemprop="name">How to Use RabbitMQ</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/rabbitmq-website/docs/3.13/plugins"><span itemprop="name">Plugins</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Management Plugin</span><meta itemprop="position" content="3"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.13</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Management Plugin</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>The RabbitMQ management plugin provides an HTTP-based API
for management and <a href="/rabbitmq-website/docs/3.13/monitoring">monitoring</a> of RabbitMQ nodes and clusters, along
with a browser-based UI and a command line tool, <a href="/rabbitmq-website/docs/3.13/management-cli">rabbitmqadmin</a>.</p>
<p>It periodically collects and aggregates data about many aspects of the system. Those metrics
are exposed to human operators in the UI. The API it provides can be used by <a href="/rabbitmq-website/docs/3.13/monitoring">monitoring systems</a>,
however, <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus</a> is the <strong>recommended option</strong> for long term storage,
alerting, visualisation, chart analysis and so on.</p>
<p>The plugin also provides tools for <a href="#memory">analysing memory usage</a> of the node,
and other features related to monitoring, metrics, user, permission, and topology management.
Previously it also provided <a href="/rabbitmq-website/docs/3.13/definitions">definition export and import functionality</a>. Those are now
core RabbitMQ features and do not require or rely on this plugin.</p>
<p>This guide covers:</p>
<ul>
<li><a href="#usage">Basic usage</a> of management UI</li>
<li>The <a href="#http-api">HTTP API</a> provided by the management plugin</li>
<li>General plugin <a href="#configuration">configuration</a></li>
<li><a href="#http-api-proxy">Reverse proxy (Nginx or Apache)</a> in front of the HTTP API</li>
<li>How to <a href="#single-listener-https">enable HTTPS for management UI</a> and its underlying API</li>
<li>How this plugin <a href="#clustering">operates in multi-node clusters</a></li>
<li>How to <a href="#disable-stats">disable metric collection</a> to use <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus</a> exclusively for monitoring</li>
<li>How to create <a href="#monitoring-permissions">a user with limited permissions for monitoring purposes</a> only</li>
<li><a href="#oauth2-authentication">Authenticating with OAuth 2</a></li>
<li><a href="#hsts">Strict transport security</a>, <a href="#csp">Content security policy</a>, <a href="#cors">cross-origin resource sharing</a>, and <a href="#other-security-headers">other security-related header</a> control</li>
<li><a href="#statistics-interval">Statistics collection interval</a></li>
<li><a href="#rates-mode">Message rate mode</a> (rate fidelity) and <a href="#sample-retention">data retention intervals</a></li>
<li><a href="#http-logging">HTTP API request logging</a></li>
<li>How to set a <a href="#login-session-timeout">management UI login session timeout</a></li>
<li>How to <a href="#reset-stats">reset statistics database</a> used by this plugin</li>
</ul>
<p>The plugin also provides extension points that other plugins, such as
<a href="https://github.com/rabbitmq/rabbitmq-server/tree/main/deps/rabbitmq_top" target="_blank" rel="noopener noreferrer">rabbitmq-top</a> or
<a href="https://github.com/rabbitmq/rabbitmq-shovel-management" target="_blank" rel="noopener noreferrer">rabbitmq-shovel-management</a>,
use to extend the UI.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="external-monitoring">Management UI and External Monitoring Systems<a href="#external-monitoring" class="hash-link" aria-label="Direct link to Management UI and External Monitoring Systems" title="Direct link to Management UI and External Monitoring Systems">​</a></h2>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>Prefer external monitoring options where possible.
<a href="/rabbitmq-website/docs/3.13/monitoring">Infrastructure and kernel-level monitoring</a> is also crucially important to have
in any production system.</p></div></div>
<p>The management UI and its <a href="#http-api">HTTP API</a> is a built-in <a href="/rabbitmq-website/docs/3.13/monitoring">monitoring option</a> for RabbitMQ.
This is a convenient option for development and in environments where
external monitoring is difficult or impossible to introduce.</p>
<p>However, the management UI has a number of limitations:</p>
<ul>
<li>The monitoring system is intertwined with the system being monitored</li>
<li>A certain amount of overhead</li>
<li>It only stores recent data (think hours, not days or months)</li>
<li>It has a basic user interface</li>
<li>Its design <a href="/rabbitmq-website/docs/3.13/management#clustering">emphasizes ease of use over best possible availability</a>.</li>
<li>Management UI access is controlled via the <a href="/rabbitmq-website/docs/3.13/access-control">RabbitMQ permission tags system</a>
(or a convention on JWT token scopes)</li>
</ul>
<p>Long term metric storage and visualisation services such as <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus and Grafana</a>
or the <a href="https://www.elastic.co/elastic-stack/" target="_blank" rel="noopener noreferrer">ELK stack</a> are more suitable options for production systems. They offer:</p>
<ul>
<li>Decoupling of the monitoring system from the system being monitored</li>
<li>Lower overhead</li>
<li>Long term metric storage</li>
<li>Access to additional related metrics such as those of the <a href="/rabbitmq-website/docs/3.13/runtime">Erlang runtime</a> ones</li>
<li>More powerful and customizable user interface</li>
<li>Ease of metric data sharing: both metric state and dashboards</li>
<li>Metric access permissions are not specific to RabbitMQ</li>
<li>Collection and aggregation of node-specific metrics which is more resilient to individual node failures</li>
</ul>
<p>RabbitMQ provides first class support for <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus and Grafana</a> as of 3.8.
It is recommended for production environments.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="getting-started">Getting Started<a href="#getting-started" class="hash-link" aria-label="Direct link to Getting Started" title="Direct link to Getting Started">​</a></h2>
<p>The management plugin is included in the RabbitMQ
distribution. Like any other <a href="/rabbitmq-website/docs/3.13/plugins">plugin</a>, it must
be enabled before it can be used. That&#x27;s done using <a href="/rabbitmq-website/docs/3.13/man/rabbitmq-plugins.8">rabbitmq-plugins</a>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-plugins </span><span class="token builtin class-name">enable</span><span class="token plain"> rabbitmq_management</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Node restart is not required after plugin activation.</p>
<p>During automated deployments, the plugin can be enabled via
<a href="/rabbitmq-website/docs/3.13/plugins#enabled-plugins-file">enabled plugin file</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-ui">Management UI Access<a href="#usage-ui" class="hash-link" aria-label="Direct link to Management UI Access" title="Direct link to Management UI Access">​</a></h3>
<p>The management UI can be accessed using a Web browser at <code>http://<i>node-hostname</i>:15672/</code>.</p>
<p>For example, for a node running on a machine with the hostname of <code>warp10.local</code>,
it can be accessed by users with <a href="#permissions">sufficient privileges</a> at either <code>http://warp10.local:15672/</code>
or <code>http://localhost:15672/</code> (provided that <code>localhost</code> resolves correctly).</p>
<p>Note that the UI and HTTP API port — typically 15672 — does not support AMQP 0-9-1, AMQP 1.0, STOMP or MQTT connections.
<a href="/rabbitmq-website/docs/3.13/networking#ports">Separate ports</a> should be used by those clients.</p>
<p>Users must be <a href="#permissions">granted permissions</a> for management UI access.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-highlights">Notable Features<a href="#usage-highlights" class="hash-link" aria-label="Direct link to Notable Features" title="Direct link to Notable Features">​</a></h3>
<p>The management UI is implemented as a single page application which relies on the <a href="#http-api">HTTP API</a>.
Some of the features include:</p>
<ul><li><p>Declare, list and delete exchanges, <a href="./queues">queues</a>, bindings,
users, <a href="./vhosts">virtual hosts</a> and <a href="./access-control">user permissions</a>.</p></li><li><p>Monitor queue length, message rates (globally and per queue, exchange or channel), resource usage of queue,
node GC activity, data rates of client connections, and more.</p></li><li><p>Monitor node resource use: <a href="./networking#open-file-handle-limit">sockets and file descriptors</a>,
<a href="./memory-use">memory usage breakdown</a>, available disk space and bandwidth usage on inter-node communication
links.</p></li><li><p>Manage users (provided administrative permissions of the current user).</p></li><li><p>Manage <a href="./parameters">policies and runtime parameters</a> (provided sufficient permissions of the current user).</p></li><li><p><a href="./backup">Export schema</a> (vhosts, users, permissions, queues, exchanges, bindings, parameters,
policies) and <a href="./definitions">import it on node start</a>. This can be used for <a href="./backup">recovery purposes</a>
or setup automation of new nodes and clusters.</p></li><li><p>Force close client connections, purge queues.</p></li><li><p>Send and receive messages (useful in development environments
and for troubleshooting).</p></li></ul>
<p>The UI application supports recent versions of Google Chrome, Safari, Firefox, and Microsoft Edge browsers.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="usage-ui-clusters">Management UI Access in Clusters<a href="#usage-ui-clusters" class="hash-link" aria-label="Direct link to Management UI Access in Clusters" title="Direct link to Management UI Access in Clusters">​</a></h3>
<p>Any cluster node with <code>rabbitmq_management</code> plugin enabled can be
used for management UI access or data collection by monitoring tools.
It will reach out to other nodes and collect their stats, then aggregate and return a response
to the client.</p>
<p>To access management UI the user has to authenticate and have certain permissions (be authorised).
This is covered in the <a href="#permissions">following section</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="permissions">Access and Permissions<a href="#permissions" class="hash-link" aria-label="Direct link to Access and Permissions" title="Direct link to Access and Permissions">​</a></h2>
<p>The management UI requires <a href="/rabbitmq-website/docs/3.13/access-control">authentication and authorisation</a>, much like RabbitMQ requires
it from connecting clients. In addition to successful authentication, management UI access is controlled by user tags.
The tags are managed using <a href="/rabbitmq-website/docs/3.13/man/rabbitmqctl.8#set_user_tags">rabbitmqctl</a>.
Newly created users do not have any tags set on them by default.</p>
<p>See <a href="/rabbitmq-website/docs/3.13/production-checklist">Deployment Guidelines</a> for general recommendations on user and credential
management.</p>
<table><tr><th>Tag</th><th>Capabilities</th></tr><tr><td>(None)</td><td>No access to the management plugin</td></tr><tr><td>management</td><td><p>Anything the user could do via messaging protocols plus:</p><ul><li>List virtual hosts to which they can log in via AMQP</li><li><p>View all queues, exchanges and bindings in &quot;their&quot;
virtual hosts</p></li><li>View and close their own channels and connections</li><li><p>View &quot;global&quot; statistics covering all their
virtual hosts, including activity by other users
within them</p></li></ul></td></tr><tr><td>policymaker</td><td><p>Everything &quot;management&quot; can plus:</p><ul><li><p>View, create and delete policies and parameters for virtual
hosts to which they can log in via AMQP</p></li></ul></td></tr><tr><td>monitoring</td><td><p>Everything &quot;management&quot; can plus:</p><ul><li><p>List all virtual hosts, including ones they could
not access using messaging protocols</p></li><li>View other users&#x27;s connections and channels</li><li>View node-level data such as memory use and clustering</li><li>View truly global statistics for all virtual hosts</li></ul></td></tr><tr><td>administrator</td><td><p>Everything &quot;policymaker&quot; and &quot;monitoring&quot; can plus:</p><ul><li>Create and delete virtual hosts</li><li>View, create and delete users</li><li>View, create and delete permissions</li><li>Close other users&#x27;s connections</li></ul></td></tr></table>
<p>Note that since &quot;administrator&quot; does everything &quot;monitoring&quot;
does, and &quot;monitoring&quot; does everything &quot;management&quot; does,
each user often needs a maximum of one tag.</p>
<p>Normal RabbitMQ <a href="/rabbitmq-website/docs/3.13/access-control">permissions to resources</a> still apply to monitors and
administrators; just because a user is a monitor or
administrator does not grant them full access to exchanges,
queues and bindings through the management
plugin or other means.</p>
<p>All users can only list objects within the virtual
hosts they have any permissions for.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="monitoring-permissions">Monitoring-Only (Read-Only) Access<a href="#monitoring-permissions" class="hash-link" aria-label="Direct link to Monitoring-Only (Read-Only) Access" title="Direct link to Monitoring-Only (Read-Only) Access">​</a></h3>
<p>Some users are created exclusively for <a href="/rabbitmq-website/docs/3.13/monitoring">observability purposes</a>. More specifically,
such users need to list all objects and inspect their metrics but not have the <a href="/rabbitmq-website/docs/3.13/access-control">permissions</a>
to add or delete entities (<a href="/rabbitmq-website/docs/3.13/queues">queues</a>, <a href="/rabbitmq-website/docs/3.13/streams">streams</a>, exchanges, bindings, and so on).
Such users also do not need to publish or consume messages.</p>
<p>This can be accomplished by</p>
<ol>
<li>Creating a user tagged as <code>monitoring</code></li>
<li>Granting it permissions (<code>configure</code>, <code>read</code>, <code>write</code>) that are empty (will match no objects)</li>
</ol>
<p>Both steps can be accomplished using the management UI or the <a href="#http-api">HTTP API</a>, or, if
those options are not available or optimal, using <a href="/rabbitmq-website/docs/3.13/cli">CLI tools</a>:</p>
<ul>
<li><a href="/rabbitmq-website/docs/3.13/man/rabbitmqctl.8#add_user"><code>rabbitmqctl add_user</code></a> can be used to create the user</li>
<li><a href="/rabbitmq-website/docs/3.13/man/rabbitmqctl.8#set_permissions"><code>rabbitmqctl set_permissions</code></a> to grant the
user the desired permissions and finally,</li>
<li><a href="/rabbitmq-website/docs/3.13/man/rabbitmqctl.8#set_user_tags"><code>rabbitmqctl set_user_tags</code></a>
to tag it with <code>monitoring</code>, which will grant them management UI access</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="command-line-examples-create-a-user-with-monitoring-only-access">Command Line Examples: Create a User with Monitoring-Only Access<a href="#command-line-examples-create-a-user-with-monitoring-only-access" class="hash-link" aria-label="Direct link to Command Line Examples: Create a User with Monitoring-Only Access" title="Direct link to Command Line Examples: Create a User with Monitoring-Only Access">​</a></h3>
<p>The following example creates a user with complete access to the management UI/HTTP API (as in,
all virtual hosts and management features):</p>
<div class="tabs-container tabList__CuJ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_LNqP tabs__item--active">bash</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">PowerShell</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_LNqP">cmd</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_Ymn6"><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># See the Access Control guide to learn about user management.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Password is provided as a command line argument.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Note that certain characters such as !, &amp;, $, #, and so on must be escaped to avoid</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># special interpretation by the shell.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl add_user </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;2a55f70a841f18b97c3a7db939b7adc9e34a0f1b&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># tag user &#x27;monitoring&#x27; with a tag of the same name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl set_user_tags </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># grant the user empty permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl set_permissions </span><span class="token parameter variable" style="color:#36acaa">--vhost</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;vhost-name&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-PowerShell language-powershell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-powershell codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># See the Access Control guide to learn about user management.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># password is provided as a command line argument</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat add_user </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;9a55f70a841f18b97c3a7db939b7adc9e34a0f1d&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># passwords with special characters must be quoted correctly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat add_user </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&quot;w63pnZ&amp;LnYMO(t&quot;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># grant the user empty permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bat set_permissions </span><span class="token operator" style="color:#393A34">--</span><span class="token plain">vhost </span><span class="token string" style="color:#e3116c">&#x27;vhost-name&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;monitoring&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;^$&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_Ymn6" hidden=""><div class="language-batch codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-batch codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">rem See the Access Control guide to learn about user management.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">rem password is provided as a command line argument</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token command keyword" style="color:#00009f">rabbitmqctl</span><span class="token command">.bat add_user </span><span class="token command string" style="color:#e3116c">&quot;monitoring&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;9a55f70a841f18b97c3a7db939b7adc9e34a0f1d&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">rem passwords with special characters must be quoted correctly</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token command keyword" style="color:#00009f">rabbitmqctl</span><span class="token command">.bat add_user </span><span class="token command string" style="color:#e3116c">&quot;monitoring&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;w63pnZ&amp;LnYMO(t&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">rem grant the user empty permissions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token command keyword" style="color:#00009f">rabbitmqctl</span><span class="token command"> set_permissions </span><span class="token command parameter attr-name" style="color:#00a4db">--vhost</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;vhost-name&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;monitoring&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;^$&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;^$&quot;</span><span class="token command"> </span><span class="token command string" style="color:#e3116c">&quot;^$&quot;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="oauth2-authentication">Authenticating with OAuth 2<a href="#oauth2-authentication" class="hash-link" aria-label="Direct link to Authenticating with OAuth 2" title="Direct link to Authenticating with OAuth 2">​</a></h2>
<p>You can configure RabbitMQ to use <a href="https://github.com/rabbitmq/rabbitmq-server/tree/main/deps/rabbitmq_auth_backend_oauth2" target="_blank" rel="noopener noreferrer">JWT-encoded OAuth 2.0 access tokens</a> to authenticate client applications, however, to use OAuth 2.0 authentication in the management UI, you have to configure it separately.</p>
<p>There are two ways to initiate OAuth 2.0 authentication in the management UI:</p>
<ul>
<li>
<p><em>Service-Provided Initiated login</em>. The is the OAuth method and the default way to initiate authentication in the management UI. It uses the <a href="https://datatracker.ietf.org/doc/html/rfc7636" target="_blank" rel="noopener noreferrer">OAuth 2.0 Authorization Code Flow with PKCE</a> to redirect users to the configured OAuth 2.0 provider to authenticate. When they are authenticated, users get an access token, and are then returned back to the management UI where they are automatically logged in. The management UI is tested against these OAuth 2.0 providers:</p>
<ul>
<li><a href="https://github.com/cloudfoundry/uaa" target="_blank" rel="noopener noreferrer">UAA</a></li>
<li><a href="https://www.keycloak.org/" target="_blank" rel="noopener noreferrer">Keycloak</a></li>
<li><a href="https://auth0.com/" target="_blank" rel="noopener noreferrer">Auth0</a></li>
<li><a href="https://docs.microsoft.com/en-us/azure/active-directory/fundamentals/auth-oauth2" target="_blank" rel="noopener noreferrer">Azure</a></li>
<li><a href="https://oauth2-proxy.github.io/oauth2-proxy/" target="_blank" rel="noopener noreferrer">OAuth2 Proxy</a></li>
<li><a href="https://www.okta.com" target="_blank" rel="noopener noreferrer">Okta</a></li>
</ul>
</li>
<li>
<p><em>Identity-Provider Initiated login</em>. For this type of login, users must come to RabbitMQ with an access token.This type of authentication is typical in portals which offers access to various applications/services to authenticated users. One of those services could be one or many RabbitMQ clusters. When a user requests access to a RabbitMQ cluster, the portal forwards the user to RabbitMQ&#x27;s management UI with an access token issued for the user and RabbitMQ cluster. This type of authentication is covered in the sub-section <a href="#idp-initiated-logon">Identity-Provider initiated logon</a>.</p>
</li>
</ul>
<p>To configure OAuth 2.0 in the management UI you need a <a href="#minimum-configuration">minimum configuration</a>. However, you may require additional configuration depending on your use case:</p>
<ul>
<li><a href="#configure-client-secret">Client secret</a></li>
<li><a href="#allow-basic-auth-for-http-api">Allow Basic and OAuth 2 authentication for management HTTP API</a></li>
<li><a href="#allow-basic-auth-for-mgt-ui">Allow Basic and OAuth 2 authentication for management UI</a></li>
<li><a href="#about-logout-workflow">Logging out of the management UI</a></li>
<li><a href="#csp-header">Special attention to CSP header <code>connect-src</code></a></li>
<li><a href="#idp-initiated-logon">Identity-Provider initiated logon</a></li>
<li><a href="#support-multiple-resources">Support multiple OAuth 2.0 resources</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimum-configuration">Minimum configuration<a href="#minimum-configuration" class="hash-link" aria-label="Direct link to Minimum configuration" title="Direct link to Minimum configuration">​</a></h3>
<p>The first section is the minimum configuration required to use OAuth 2.0 authentication in the management UI. The following sections explain how to further configure OAuth 2.0 depending of the use cases.</p>
<p>Given the following configuration of the <a href="/rabbitmq-website/docs/3.13/oauth2">OAuth 2.0 plugin</a>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.resource_server_id = new_resource_server_id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.issuer = https://my-oauth2-provider.com/realm/rabbitmq</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To use OAuth 2.0 authentication, apply the following configuration in the management UI:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_client_id = rabbit_user_client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_scopes = &lt;SPACE-SEPARATED LIST OF SCOPES. See below&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><code>oauth_enabled</code> is a mandatory field</li>
<li><code>oauth_client_id</code> is a mandatory field. It is the OAuth Client Id associated with this RabbitMQ cluster in the OAuth Provider, and it is used to request a token on behalf of the user.</li>
<li><code>oauth_scopes</code> is a mandatory field which must be set at all times except in the case when OAuth providers automatically grant scopes associated to the <code>oauth_client_id</code>. <code>oauth_scopes</code> is a list of space-separated strings that indicate which permissions the application is requesting. Most OAuth providers only issue tokens with the scopes requested during the user authentication. RabbitMQ sends this field along with its <code>oauth_client_id</code> during the user authentication. If this field is not set, RabbitMQ defaults to <code>openid profile</code>.</li>
</ul>
<p>Given above configuration, when a user visits the management UI, the following two events take place:</p>
<ol>
<li>
<p>RabbitMQ uses the URL found in <code>auth_oauth2.issuer</code> followed by the path <code>/.well-known/openid-configuration</code> to download the OpenID Provider configuration. It contains information about other endpoints such as the <code>jwks_uri</code> (used to download the keys to validate the token&#x27;s signature) or the <code>token_endpoint</code>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>If RabbitMQ cannot download the OpenID provider configuration, it shows an error message and the OAuth 2.0 authentication option will be disabled in the management UI</p></div></div>
</li>
<li>
<p>RabbitMQ displays a button with the label &quot;Click here to login&quot;. When the user clicks on the button, the management UI initiates the OAuth 2.0 Authorization Code Flow, which redirects the user to the identity provider to authenticate and get a token.</p>
</li>
</ol>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="configure-client-secret">Configure client secret<a href="#configure-client-secret" class="hash-link" aria-label="Direct link to Configure client secret" title="Direct link to Configure client secret">​</a></h3>
<p><strong>Important</strong>: From the OAuth 2.0 point of view, the management UI is a <strong>public app</strong> which
means it cannot securely store credentials such as the <em>client_secret</em>. This means that RabbitMQ should not need to present a client_secret when authenticating users.</p>
<p>However, there could be OAuth Providers which requires a <em>client_secret</em> either for the initial user authentication request or for the token refresh request. For instance, UAA server requires <code>client_secret</code> to refresh the token. For these cases, it is possible to configure <code>oauth_client_secret</code> like shown below:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_client_id = rabbit_user_client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_client_secret = rabbit_user_client</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_scopes = openid profile rabbitmq.*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allow-basic-auth-for-http-api">Allow Basic and OAuth 2 authentication for Management HTTP API<a href="#allow-basic-auth-for-http-api" class="hash-link" aria-label="Direct link to Allow Basic and OAuth 2 authentication for Management HTTP API" title="Direct link to Allow Basic and OAuth 2 authentication for Management HTTP API">​</a></h3>
<p>When using <code>management.oauth_enabled = true</code>, it is still possible to authenticate
with <a href="https://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="noopener noreferrer">HTTP basic authentication</a>
against the HTTP API. This means both of the following examples will work:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># swap &lt;token&gt; for an actual token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-u</span><span class="token plain"> ignored:</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">token</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> http://localhost:15672/api/vhosts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>as well as</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--header</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;authorization: Basic &lt;encoded credentials&gt;&quot;</span><span class="token plain"> http://localhost:15672/api/vhosts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To switch to authenticate using OAuth 2 exclusively for management HTTP access, set the
<code>management.disable_basic_auth</code> configuration key to <code>true</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.disable_basic_auth = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When setting <code>management.disable_basic_auth</code> to <code>true</code>, only the <code>Bearer</code> (token-based) authorization method will
work, for example:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># swap &lt;token&gt; for an actual token</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">-i</span><span class="token plain"> </span><span class="token parameter variable" style="color:#36acaa">--header</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;authorization: Bearer &lt;token&gt;&quot;</span><span class="token plain"> http://localhost:15672/api/vhosts</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This is true for all endpoints except <code>GET /definitions</code> and <code>POST /definitions</code>. Those
endpoints require the token to be passed in the <code>token</code> query string parameter.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="allow-basic-auth-for-mgt-ui">Allow Basic and OAuth 2 authentication for management UI<a href="#allow-basic-auth-for-mgt-ui" class="hash-link" aria-label="Direct link to Allow Basic and OAuth 2 authentication for management UI" title="Direct link to Allow Basic and OAuth 2 authentication for management UI">​</a></h3>
<p>When using <code>management.oauth_enabled = true</code>, it is still possible to authenticate
with <a href="https://en.wikipedia.org/wiki/Basic_access_authentication" target="_blank" rel="noopener noreferrer">HTTP basic authentication</a>
in the management UI.</p>
<p>By default, <code>management.oauth_disable_basic_auth</code> has the value <code>true</code>, meaning that when OAuth 2 is
enabled, the management UI only accepts OAuth 2 authentication. The management UI shows a button with the label <strong>Click here to login</strong> like shown in the screenshot below:
<img decoding="async" loading="lazy" alt="Single OAuth 2.0 resource, with oauth_disable_basic_auth = true" src="/rabbitmq-website/assets/images/management-oauth-7a67c725e6f1331772904ddf6f21bc75.png" width="1616" height="264" class="img_ev3q"></p>
<p>To support OAuth 2.0 and Basic Authentication, set the
<code>management.oauth_disable_basic_auth</code> configuration key to <code>false</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_disable_basic_auth = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The management UI shows now a username/password login form for Basic Authentication in addition to the <strong>Click here to login</strong> button for OAuth 2 authentication:</p>
<p><img decoding="async" loading="lazy" alt="Single OAuth 2.0 resource, with oauth_disable_basic_auth = false" src="/rabbitmq-website/assets/images/management-oauth-with-basic-auth-3711e59ce457ceb2900716d53e5cd731.png" width="1636" height="618" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="about-logout-workflow">Logging out of the management UI<a href="#about-logout-workflow" class="hash-link" aria-label="Direct link to Logging out of the management UI" title="Direct link to Logging out of the management UI">​</a></h3>
<p>RabbitMQ implements the <a href="https://openid.net/specs/openid-connect-rpinitiated-1_0.html" target="_blank" rel="noopener noreferrer">OpenID Connect RP-Initiated Logout 1.0</a>
specification to logout users from the management UI and from the OAuth Provider. It works as follows:</p>
<ol>
<li>The user clicks <strong>Logout</strong>.</li>
<li>If the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationRequest" target="_blank" rel="noopener noreferrer">OpenId Connect Discovery endpoint</a> returns an <code>end_session_endpoint</code>, the management UI sends a logout request to that endpoint to close the user&#x27;s session in the OAuth Provider. When the request completes, the user is also logged out from the management ui.</li>
<li>If there is no <code>end_session_endpoint</code> returned, then the user is only logged out from the management UI.</li>
</ol>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>If the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationRequest" target="_blank" rel="noopener noreferrer">OpenId Connect Discovery endpoint</a> does not return an <code>end_session_endpoint</code>, you can configure it in the <a href="/rabbitmq-website/docs/3.13/oauth2#configure-end-session-endpoint">OAuth 2.0 authentication backend plugin</a>.</p></div></div>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>RabbitMQ 3.13.1 and earlier versions require the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationRequest" target="_blank" rel="noopener noreferrer">OpenId Connect Discovery endpoint</a> <code>end_session_endpoint</code> returned for OAuth 2.0 authentication to work.</p></div></div>
<p>There are other two additional scenarios which can trigger a logout. One scenario occurs when the OAuth Token expires. Although RabbitMQ renews the token in the background before it expires, if the token expires, the user is logged out.
The second scenario is when the management UI session exceeds the maximum allowed time configured on the <a href="#login-session-timeout">Login Session Timeout</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="csp-header">Special attention to CSP header <code>connect-src</code><a href="#csp-header" class="hash-link" aria-label="Direct link to csp-header" title="Direct link to csp-header">​</a></h3>
<p>To support the OAuth 2.0 protocol, RabbitMQ makes asynchronous REST calls to the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationRequest" target="_blank" rel="noopener noreferrer">OpenId Connect Discovery endpoint</a>. If you override the default <a href="#csp">CSP headers</a>, you have to make sure that the <code>connect-src</code> CSP directive whitelists the <a href="https://openid.net/specs/openid-connect-discovery-1_0.html#ProviderConfigurationRequest" target="_blank" rel="noopener noreferrer">OpenId Connect Discovery endpoint</a>.</p>
<p>For instance, if you configured the CSP header with the value <code>default-src &#x27;self&#x27;</code>, you are, by default, setting <code>connect-src &#x27;self&#x27;</code> which means you are denying RabbitMQ access to any external endpoint; hence disabling OAuth 2.0.</p>
<p>In addition to the <code>connect-src</code> CSP header, RabbitMQ also needs the CSP directives <code>unsafe-eval</code> <code>unsafe-inline</code>, otherwise the OAuth 2.0 functionality may not work.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="idp-initiated-logon">Identity-Provider initiated logon<a href="#idp-initiated-logon" class="hash-link" aria-label="Direct link to Identity-Provider initiated logon" title="Direct link to Identity-Provider initiated logon">​</a></h3>
<p>By default, the management UI uses the OAuth 2.0 <strong>authorization code flow</strong> to authenticate and authorize users.
However, there are scenarios where users prefer to be automatically redirected to RabbitMQ without getting involved in additional logon flows. By using OAuth 2.0 proxies and web portals, these additional logon flows can be avoided. With a single click, users navigate straight to the management UI with a token obtained under the covers. This is known as <strong>Identity-Provider initiated logon</strong>.</p>
<p>RabbitMQ exposes a setting called <code>management.oauth_initiated_logon_type</code> whose default value <code>sp_initiated</code>.
To use an <strong>Identity-Provider initiated logon</strong> you set it to <code>idp_initiated</code>.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_initiated_logon_type = idp_initiated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_provider_url = https://my-web-portal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With the previous settings, the management UI exposes the HTTP endpoint <code>/login</code> which accepts <code>content-type: application/x-www-form-urlencoded</code> and it expects the JWT token in the <code>access_token</code> form field. This is the endpoint where the Web portal will redirect users to the management UI.
Additionally, RabbitMQ also accepts a JWT token in the HTTP <code>Authorization</code> header when the user lands on the management UI.</p>
<p>With <code>sp_initiated</code> logon types, there is no need to configure the <code>oauth_provider_url</code> if <code>auth_oauth2.issuer</code> was set. However, for <code>idp_initiated</code> flows the <code>auth_oauth2.issuer</code> url may not necessarily be the url where to send users to authenticate. When this occurs, the <code>management.oauth_provider_url</code> overrides the <code>auth_oauth2.issuer</code> url.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="support-multiple-resources">Support multiple OAuth 2.0 resources<a href="#support-multiple-resources" class="hash-link" aria-label="Direct link to Support multiple OAuth 2.0 resources" title="Direct link to Support multiple OAuth 2.0 resources">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite">Prerequisite<a href="#prerequisite" class="hash-link" aria-label="Direct link to Prerequisite" title="Direct link to Prerequisite">​</a></h4>
<p>To configure multiple OAuth 2.0 resources in the management UI, you first <a href="/rabbitmq-website/docs/3.13/oauth2#multiple-resource-servers">configure them in the OAuth 2.0 plugin</a>. Let&#x27;s say you have the following OAuth 2.0 plugin configuration which consists of four OAuth 2.0 resources:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.issuer = http://some_idp_url</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.scope_prefix = rabbitmq.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.resource_servers.1.id = rabbit_prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.resource_servers.2.id = rabbit_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.resource_servers.3.id = rabbit_qa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">auth_oauth2.resource_servers.4.id = rabbit_internal</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The next sections configure these resources in the management UI.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="how-oauth-20-resources-are-presented-to-users">How OAuth 2.0 resources are presented to users<a href="#how-oauth-20-resources-are-presented-to-users" class="hash-link" aria-label="Direct link to How OAuth 2.0 resources are presented to users" title="Direct link to How OAuth 2.0 resources are presented to users">​</a></h4>
<p>When there are more than one OAuth 2.0 resource configured in the management UI, RabbitMQ shows a drop-down list in addition to the button with the label <em>Click here to logon</em>. The drop-down list has one option per resource. The label of the option is by default the resource&#x27;s id however you can ovrride it.</p>
<p>It is possible to have some resources configured with <code>sp_initiated</code> logon and others with <code>idp_initiated</code> logon. And it is also possible to disable a resource, in other words, the resource does not appear as an option in the drop-down.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="optionally-set-common-settings-for-all-resources">Optionally set common settings for all resources<a href="#optionally-set-common-settings-for-all-resources" class="hash-link" aria-label="Direct link to Optionally set common settings for all resources" title="Direct link to Optionally set common settings for all resources">​</a></h4>
<p>If the majority of resources have in common some configuration values, you set them like shown below:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_enabled = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_initiated_logon_type = sp_initiated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_scopes = openid rabbitmq.tag:management rabbitmq.read:*/*</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Here we have configured that all resources, or the majority of them, requires <code>sp_initiated</code> logon type and the scopes claimed to the Authorization Server are <code>openid rabbitmq.tag:management rabbitmq.read:*/*</code>.</p>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p><code>sp_initiated</code> is the default value for <code>management.oauth_initiated_logon_type</code>, therefore you would not need to configure it.</p></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="override-default-oauth_initiated_logon_type-for-each-resource">Override default oauth_initiated_logon_type for each resource<a href="#override-default-oauth_initiated_logon_type-for-each-resource" class="hash-link" aria-label="Direct link to Override default oauth_initiated_logon_type for each resource" title="Direct link to Override default oauth_initiated_logon_type for each resource">​</a></h4>
<p>Let&#x27;s say that the resource <code>rabbit_qa</code> requires <code>idp_initiated</code> logon however the logon type configured for all resources is <code>sp_initiated</code>. The configuration below overrides the logon type and also the URL of the OAuth Provider.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.3.id = rabbit_qa</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.3.label = RabbitMQ QA</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.3.oauth_initiated_logon_type = idp_initiated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.3.oauth_provider_url = http://qa_url</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="set-oauth_client_id-setting-if-required-and-the-label-for-each-resource">Set oauth_client_id setting, if required, and the label for each resource<a href="#set-oauth_client_id-setting-if-required-and-the-label-for-each-resource" class="hash-link" aria-label="Direct link to Set oauth_client_id setting, if required, and the label for each resource" title="Direct link to Set oauth_client_id setting, if required, and the label for each resource">​</a></h4>
<p>Next, configure the <code>oauth_client_id</code> for each resource which uses <code>sp_initiated</code> logon type.</p>
<p>This is the minimum setting required for <code>sp_initiated</code> logon type. The following example that exposes the resource <code>rabbit_prod</code> with its <code>oauth_client_id</code> and its <code>label</code>. If you do not specify the <code>label</code>, the management UI uses the <code>id</code> instead.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.1.id = rabbit_prod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.1.oauth_client_id = rabbit_prod_mgt_ui</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.1.label = RabbitMQ Production</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>With this configuration, when the user chooses to option <code>RabbitMQ Production</code>, RabbitMQ initiates the <em>Authorization Code flow</em> which takes the user to the URL configured in <code>auth_oauth2.issuer</code> with
the following settings:</p>
<ul>
<li><code>client_id</code> : <code>rabbit_prod_mgt_ui</code></li>
<li><code>resource</code> : <code>rabbit_prod</code></li>
<li><code>scopes</code> : <code>openid rabbitmq.tag:management rabbitmq.read:*/*</code></li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="optionally-do-not-expose-some-resources-in-the-management-ui">Optionally do not expose some resources in the management UI<a href="#optionally-do-not-expose-some-resources-in-the-management-ui" class="hash-link" aria-label="Direct link to Optionally do not expose some resources in the management UI" title="Direct link to Optionally do not expose some resources in the management UI">​</a></h4>
<p>You may not want to expose all configured resources in the OAuth 2.0 plugin. For instance, in the following example, you are not exposing the resource <code>rabbit_internal</code> which is left for applications to authenticate via one of the messaging protocols.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.4.id = rabbit_internal</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.oauth_resource_servers.4.disabled = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="management-ui-screenshot-without-basic-authentication">Management UI screenshot without Basic Authentication<a href="#management-ui-screenshot-without-basic-authentication" class="hash-link" aria-label="Direct link to Management UI screenshot without Basic Authentication" title="Direct link to Management UI screenshot without Basic Authentication">​</a></h4>
<p>This is the management UI layout for the previous configuration with basic authentication deactivated in the management UI (<code>management.oauth_disable_basic_auth = true</code>).</p>
<p><img decoding="async" loading="lazy" alt="More than one OAuth 2.0 resource, with oauth_disable_basic_auth = true" src="/rabbitmq-website/assets/images/management-oauth-many-0a60adee2c18b5c6f6f58250fa73ed11.png" width="1632" height="410" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="management-ui-screenshot-with-basic-authentication">Management UI screenshot with Basic Authentication<a href="#management-ui-screenshot-with-basic-authentication" class="hash-link" aria-label="Direct link to Management UI screenshot with Basic Authentication" title="Direct link to Management UI screenshot with Basic Authentication">​</a></h4>
<p>And this is the management UI with Basic Authentication activated (<code>management.oauth_disable_basic_auth = false</code>).</p>
<p><img decoding="async" loading="lazy" alt="More than one OAuth 2.0 resource, with oauth_disable_basic_auth = false" src="/rabbitmq-website/assets/images/management-oauth-many-with-basic-auth-ec243b1ca456ca28e362190a3dce2c1b.png" width="1636" height="692" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">​</a></h3>
<p><a href="/rabbitmq-website/docs/3.13/troubleshooting-oauth2#management-ui">Troubleshooting management UI access in OAuth 2-enabled clusters</a> is a companion guide
dedicated to common OAuth 2-specific issues.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="http-api">HTTP API<a href="#http-api" class="hash-link" aria-label="Direct link to HTTP API" title="Direct link to HTTP API">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-api-endpoints">API Endpoints<a href="#http-api-endpoints" class="hash-link" aria-label="Direct link to API Endpoints" title="Direct link to API Endpoints">​</a></h3>
<p>When activated, the management plugin provides an HTTP API at
<code>http://<i>hostname</i>:15672/api/</code> by default.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-api-monitoring">HTTP API and Monitoring<a href="#http-api-monitoring" class="hash-link" aria-label="Direct link to HTTP API and Monitoring" title="Direct link to HTTP API and Monitoring">​</a></h3>
<p>The API is intended to be used for basic observability tasks. <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus and Grafana</a>
are recommended for long term metric storage, alerting, anomaly detection, and so on.</p>
<p>Any cluster node with <code>rabbitmq-management</code> plugin activated can be
used for management UI access or HTTP API access.
It will reach out to other nodes and collect their stats, then aggregate and return a response
to the client.</p>
<p>When using the API in a cluster of nodes, there is no need to contact each node via HTTP API
individually. Instead, contact a random node or a load balancer that sits in front
of the cluster.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-api-clients">HTTP API Clients and Tooling<a href="#http-api-clients" class="hash-link" aria-label="Direct link to HTTP API Clients and Tooling" title="Direct link to HTTP API Clients and Tooling">​</a></h3>
<p><a href="/rabbitmq-website/docs/3.13/management-cli"><code>rabbitmqadmin</code> v2</a> is a command line tool
that interacts with the HTTP API.</p>
<p>For HTTP API clients in several languages,
see <a href="/rabbitmq-website/client-libraries/devtools">Developer Tools</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-body-size-limit">Maximum HTTP Request Body Limit<a href="#http-body-size-limit" class="hash-link" aria-label="Direct link to Maximum HTTP Request Body Limit" title="Direct link to Maximum HTTP Request Body Limit">​</a></h3>
<p>A few RabbitMQ HTTP API endpoints can potentially receive large payloads,
most notably the endpoint used for <a href="/rabbitmq-website/docs/3.13/definitions">definition import</a>.</p>
<p>The default HTTP request body limit is 20 MiB. If such large definition
files are not used in a cluster, the limit can be reduced:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># lowers the maximum HTTP request body size that will be accepted</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># to 1 MiB</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.http.max_body_size = 1000000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>When a client issues requests with a body that exceeds the limit, a <code>400 Bad Request</code> response will be returned.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-api-proxy">Using a Reverse Proxy in front of the HTTP API<a href="#http-api-proxy" class="hash-link" aria-label="Direct link to Using a Reverse Proxy in front of the HTTP API" title="Direct link to Using a Reverse Proxy in front of the HTTP API">​</a></h3>
<p>It may be necessary to put a reverse proxy in front of a RabbitMQ cluster. Reverse proxy setup for RabbitMQ
may require careful handling of encoded slashes in paths if default virtual host (<code>/</code>) is used.</p>
<p>If default virtual host is not used, the additional settings to support encoded URIs
will not be necessary. In other words, both Nginx and Apache configuration will require
the standard minimum for any HTTP-based service.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="nginx">Nginx<a href="#nginx" class="hash-link" aria-label="Direct link to Nginx" title="Direct link to Nginx">​</a></h4>
<p>If RabbitMQ HTTP API access is configured for the root location (<code>/</code>),
the location must not have a slash at the end:</p>
<div class="language-nginxconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nginxconf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># trailing slash in the location must be omitted only if default RabbitMQ virtual host is used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location / {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass http://rabbitmq-host:15672;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>If a different location will be used to proxy requests to the HTTP API,
a <a href="https://nginx.org/en/docs/http/ngx_http_rewrite_module.html#rewrite" target="_blank" rel="noopener noreferrer">URI rewrite</a> rule must be used:</p>
<div class="language-nginxconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-nginxconf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># these rewrites are only if default RabbitMQ virtual host is used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location ~* /rabbitmq/api/(.*?)/(.*) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass http://rabbitmq-host:15672/api/$1/%2F/$2?$query_string;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">location ~* /rabbitmq/(.*) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rewrite ^/rabbitmq/(.*)$ /$1 break;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    proxy_pass http://rabbitmq-host:15672;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="apache">Apache<a href="#apache" class="hash-link" aria-label="Direct link to Apache" title="Direct link to Apache">​</a></h4>
<p>To support encoded slashes in URIs, Apache requires users to explicitly enable
<a href="https://httpd.apache.org/docs/2.4/mod/core.html" target="_blank" rel="noopener noreferrer"><code>AllowEncodedSlashes</code></a>.</p>
<div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># required only if default RabbitMQ virtual host is used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">AllowEncodedSlashes On</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>for the Apache virtual host. Apache needs both <a href="https://httpd.apache.org/docs/2.4/mod/mod_proxy.html" target="_blank" rel="noopener noreferrer">mod_proxy</a> and <a href="https://httpd.apache.org/docs/2.4/mod/mod_proxy_http.html" target="_blank" rel="noopener noreferrer">mod_proxy_http</a> enabled. The location also needs a <a href="https://httpd.apache.org/docs/2.4/mod/mod_proxy.html" target="_blank" rel="noopener noreferrer"><code>nocanon</code> setting</a>:</p>
<div class="language-apacheconf codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-apacheconf codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">ProxyPassReverse / http://rabbitmq-host:15672/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># &quot;nocanon&quot; is required only if default RabbitMQ virtual host is used</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyPass / http://rabbitmq-host:15672/ nocanon</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configuration">Configuration<a href="#configuration" class="hash-link" aria-label="Direct link to Configuration" title="Direct link to Configuration">​</a></h2>
<p>There are several configuration options which affect the
management plugin. These are managed through the main
RabbitMQ <a href="/rabbitmq-website/docs/3.13/configure#configuration-files">configuration file</a>.</p>
<p>It is possible to configure HTTP API and management UI to
use a different port or network interface, enable HTTPS
and so on.</p>
<p>While rarely needed, it is possible to configure multiple listeners (ports), for example to both enable HTTPS and
retain support for clients that can only use HTTP (without TLS).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-listener-port">Port<a href="#single-listener-port" class="hash-link" aria-label="Direct link to Port" title="Direct link to Port">​</a></h3>
<p>The port is configured using the <code>management.tcp.port</code> key:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.port = 15672</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is possible to configure what interface the API endpoint will use, similarly
to <a href="/rabbitmq-website/docs/3.13/networking#interfaces">messaging protocol listeners</a>, using
the <code>management.tcp.ip</code> key:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.ip = 0.0.0.0</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To check what interface and port is used by a running node, use
<code>rabbitmq-diagnostics</code>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmq-diagnostics </span><span class="token parameter variable" style="color:#36acaa">-s</span><span class="token plain"> listeners</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># =&gt; Interface: [::], port: 15672, protocol: http, purpose: HTTP API</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># =&gt; Interface: [::], port: 15671, protocol: https, purpose: HTTP API over TLS (HTTPS)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>or <a href="/rabbitmq-website/docs/3.13/troubleshooting-networking#ports">tools such as <code>lsof</code>, <code>ss</code> or <code>netstat</code></a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-listener-https">HTTPS<a href="#single-listener-https" class="hash-link" aria-label="Direct link to HTTPS" title="Direct link to HTTPS">​</a></h3>
<p>The management plugin can be configured to use HTTPS. See the guide <a href="/rabbitmq-website/docs/3.13/ssl">on TLS</a>
to learn more about certificate authorities, certificates and private key files.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.port       = 15671</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.cacertfile = /path/to/ca_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.certfile   = /path/to/server_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.keyfile    = /path/to/server_key.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## This key must only be used if private key is password protected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># management.ssl.password   = bunnies</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>More <a href="/rabbitmq-website/docs/3.13/ssl">TLS options</a> can be configured for the HTTPS listener.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.port       = 15671</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.cacertfile = /path/to/ca_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.certfile   = /path/to/server_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.keyfile    = /path/to/server_key.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## This key must only be used if private key is password protected</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># management.ssl.password   = bunnies</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.honor_cipher_order   = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.honor_ecc_order      = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.client_renegotiation = false</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.secure_renegotiate   = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.versions.1 = tlsv1.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.versions.2 = tlsv1.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.1 = ECDHE-ECDSA-AES256-GCM-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.2 = ECDHE-RSA-AES256-GCM-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.3 = ECDHE-ECDSA-AES256-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.4 = ECDHE-RSA-AES256-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.5 = ECDH-ECDSA-AES256-GCM-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.6 = ECDH-RSA-AES256-GCM-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.7 = ECDH-ECDSA-AES256-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.8 = ECDH-RSA-AES256-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ciphers.9 = DHE-RSA-AES256-GCM-SHA384</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Usually RabbitMQ nodes do not perform peer verification of HTTP API clients</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## but it can be enabled if needed. Clients then will have to be configured with</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## a certificate and private key pair.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">##</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## See ./ssl#peer-verification for details.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># management.ssl.verify = verify_peer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># management.ssl.fail_if_no_peer_cert = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Below is the same example in the <a href="/rabbitmq-website/docs/3.13/configure#erlang-term-config-file">classic config format</a>.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The classic config format example is provided primarily for completeness sake,
using the modern <code>rabbitmq.conf</code> format for configuring this plugin is <strong>highly recommended</strong>.</p></div></div>
<div class="language-erlang codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-erlang codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">%% The classic config format example is provided primarily for completeness sake,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">%% using the modern `rabbitmq.conf` format for configuring this plugin is highly recommended.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">rabbitmq_management</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">ssl_config</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">port</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">     </span><span class="token number" style="color:#36acaa">15671</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">ssl</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">cacertfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/path/to/ca_certificate.pem&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">certfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token string" style="color:#e3116c">&quot;/path/to/server_certificate.pem&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">keyfile</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;/path/to/server_key.pem&quot;</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">%% don&#x27;t do peer verification to HTTPS clients</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">verify</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">               </span><span class="token atom">verify_none</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">fail_if_no_peer_cert</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">client_renegotiation</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">secure_renegotiate</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">honor_ecc_order</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">      </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">honor_cipher_order</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">   </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">versions</span><span class="token punctuation" style="color:#393A34">,</span><span class="token punctuation" style="color:#393A34">[</span><span class="token quoted-atom atom">&#x27;tlsv1.2&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                  </span><span class="token punctuation" style="color:#393A34">{</span><span class="token atom">ciphers</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;ECDHE-ECDSA-AES256-GCM-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDHE-RSA-AES256-GCM-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDHE-ECDSA-AES256-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDHE-RSA-AES256-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDH-ECDSA-AES256-GCM-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDH-RSA-AES256-GCM-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDH-ECDSA-AES256-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;ECDH-RSA-AES256-SHA384&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                             </span><span class="token string" style="color:#e3116c">&quot;DHE-RSA-AES256-GCM-SHA384&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="multiple-listeners">Using HTTP and HTTPS Together<a href="#multiple-listeners" class="hash-link" aria-label="Direct link to Using HTTP and HTTPS Together" title="Direct link to Using HTTP and HTTPS Together">​</a></h3>
<p>It is possible to use both HTTP and HTTPS on different ports:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.port       = 15672</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.port       = 15671</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.cacertfile = /path/to/ca_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.certfile   = /path/to/server_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.keyfile    = /path/to/server_key.pem</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The same configuration keys can be used to configure a single listener (just HTTP or HTTPS)
and match those used by the <a href="/rabbitmq-website/docs/3.13/web-stomp">Web STOMP</a> and <a href="/rabbitmq-website/docs/3.13/web-mqtt">Web MQTT</a>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-options">Advanced HTTP Options<a href="#advanced-options" class="hash-link" aria-label="Direct link to Advanced HTTP Options" title="Direct link to Advanced HTTP Options">​</a></h3>
<p><a href="https://github.com/ninenines/cowboy" target="_blank" rel="noopener noreferrer">Cowboy</a>, the embedded Web server used by
the management plugin, provides a number of options that can be used to customize the behavior of the server.
Most of the options were introduced in RabbitMQ 3.7.9.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="response-compression">Response Compression<a href="#response-compression" class="hash-link" aria-label="Direct link to Response Compression" title="Direct link to Response Compression">​</a></h4>
<p>Response compression is enabled by default. To enable it explicitly, use <code>management.tcp.compress</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.compress = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="client-inactivity-timeouts">Client Inactivity Timeouts<a href="#client-inactivity-timeouts" class="hash-link" aria-label="Direct link to Client Inactivity Timeouts" title="Direct link to Client Inactivity Timeouts">​</a></h4>
<p>Some HTTP API endpoints respond quickly, others may need to return or stream
a sizeable data set to the client (for example many thousands of connections) or perform
an operation that takes time proportionally to the input (for example <a href="/rabbitmq-website/docs/3.13/definitions">import a large definitions file</a>).
In those cases the amount of time it takes to process the request can exceed certain
timeouts in the Web server as well as HTTP client.</p>
<p>It is possible to bump Cowboy timeouts using the <code>management.tcp.idle_timeout</code>,
<code>management.tcp.inactivity_timeout</code>, <code>management.tcp.request_timeout</code> options.</p>
<ul>
<li><code>management.tcp.inactivity_timeout</code> controls HTTP(S) client&#x27;s TCP connection inactivity timeout.
When it is reached, the connection will be closed by the HTTP server.</li>
<li><code>management.tcp.request_timeout</code> controls the window of time in which the client has to send an HTTP
request.</li>
<li><code>management.tcp.idle_timeout</code> controls the window of time in which the client has to send more data (if any)
within the context of an HTTP request.</li>
</ul>
<p>If a load balancer or proxy is used between HTTP clients and the management HTTP server,
the <code>inactivity_timeout</code> and <code>idle_timeout</code> values should be at least as large, and often greater than,
the timeout and inactivity values used by the load balancer.</p>
<p>Here are some example configuration snippets that modify the timeouts:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configures HTTP (non-encrypted) listener timeouts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.idle_timeout       = 120000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.inactivity_timeout = 120000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.request_timeout    = 10000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Configures HTTPS (TLS-enabled) listener timeouts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.idle_timeout       = 120000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.inactivity_timeout = 120000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.request_timeout    = 10000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>All values are in milliseconds. Their defaults vary:</p>
<ul>
<li><code>management.tcp.inactivity_timeout</code> has the default of 300 seconds</li>
<li><code>management.tcp.request_timeout</code> has the default of 60 seconds</li>
<li><code>management.tcp.idle_timeout</code> has the default of 5 seconds</li>
</ul>
<p>It is recommended that if the inactivity or idle timeout need changing,
<code>management.tcp.inactivity_timeout</code> value should match or be greater than that
of <code>management.tcp.idle_timeout</code>.</p>
<p><code>management.tcp.request_timeout</code> typically does not need increasing as clients send a request
shortly after establishing a TCP connection.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="http-logging">HTTP Request Logging<a href="#http-logging" class="hash-link" aria-label="Direct link to HTTP Request Logging" title="Direct link to HTTP Request Logging">​</a></h3>
<p>RabbitMQ nodes do not <a href="/rabbitmq-website/docs/3.13/logging">log</a> any HTTP API requests by default.</p>
<p>To enable HTTP API access logging, use the <code>management.http_log_dir</code> key to
configure the path of a directory in which the access log log files can be created
by the node:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.http_log_dir = /path/to/a/writeable/directory</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>For the change to have an effect, restart the plugin or the node.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="statistics-interval">Statistics Interval<a href="#statistics-interval" class="hash-link" aria-label="Direct link to Statistics Interval" title="Direct link to Statistics Interval">​</a></h3>
<p>By default the server will emit statistics events every
5 seconds (<code>5000</code> ms). The message rate values shown in the management
plugin are calculated over this period.</p>
<p>Increasing this value will reduce CPU resource consumption of
stats collection in environments with a large number of stats emitting
entities such as <a href="/rabbitmq-website/docs/3.13/connections">connections</a>, <a href="/rabbitmq-website/docs/3.13/channels">channels</a>, <a href="/rabbitmq-website/docs/3.13/queues">queues</a>.</p>
<p>In order to do so, set the value of the <code>collect_statistics_interval</code> configuration key
to the desired interval in milliseconds and restart the node:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># 15s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">collect_statistics_interval = 15000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="rates-mode">Message Rates<a href="#rates-mode" class="hash-link" aria-label="Direct link to Message Rates" title="Direct link to Message Rates">​</a></h3>
<p>The management plugin by default shows message rates
globally, and for each queue, channel, exchange, and
vhost. These are known as the <em>basic</em> message rates.</p>
<p>It can also show message rates for all the combinations of
channel to exchange, exchange to queue, and queue to
channel. These are known as <em>detailed</em> message rates.
Detailed message rates are disabled by default as they can
have a large memory footprint when there are a large
number of combinations of channels, queues and exchanges.</p>
<p>Alternatively, the message rates can be disabled
altogether. This can help get reduce CPU resource
consumption of the plugin.</p>
<p>The message rate mode is controlled by the
<code>management.rates_mode</code> configuration key:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># supported values: basic, detailed, none</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.rates_mode = basic</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Supported values are <code>basic</code> (the default), <code>detailed</code>, and <code>none</code>.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="sample-retention">Sample (Data Point) Retention<a href="#sample-retention" class="hash-link" aria-label="Direct link to Sample (Data Point) Retention" title="Direct link to Sample (Data Point) Retention">​</a></h3>
<p>The management plugin will retain samples of some data
such as message rates and queue lengths. Depending on how long the
data is retained, some time
range options on UI charts may be incomplete or unavailable.</p>
<p>There are three policies:</p>
<ul>
<li><code>global</code>: how long to retain data for the overview and virtual host pages</li>
<li><code>basic</code>: how long to retain data for individual connections, channels, exchanges and queues</li>
<li><code>detailed</code>: how long to retain data for message rates between pairs of connections, channels, exchanges and queues (as shown under &quot;Message rates breakdown&quot;)</li>
</ul>
<p>Below is a configuration example:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.minute  = 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.hour    = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.day = 1200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.basic.minute = 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.basic.hour   = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.detailed.10 = 5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The configuration in the example above retains global
data at a 5 second resolution (sampling happens every 5 seconds) for a minute,
then at a 1 minute (60 second) resolution for 1 hour, then at a 20 minute
resolution for one day. It retains basic data at a 5 second
resolution for 1 minute, at a 1 minute (60 second) resolution for
1 hour, and detailed data only for 10 seconds.</p>
<p>All three policies are mandatory, and must contain
at least one retention setting (period).</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="disable-stats">Disable Statistics and Metric Collection<a href="#disable-stats" class="hash-link" aria-label="Direct link to Disable Statistics and Metric Collection" title="Direct link to Disable Statistics and Metric Collection">​</a></h3>
<p>It is possible to disable the statistics in the UI and <a href="#http-api">HTTP API</a> in order for these to be used only for operations. This can be a useful feature if external monitoring solutions such as <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus and Grafana</a> are being used. If statistics are disabled in any of the following ways, all charts and detailed statistics will be hidden in the UI.</p>
<p>In order to completely disable the internal metrics collection, the <code>disable_metrics_collector</code> flag must be set in the <code>rabbitmq_management_agent</code> plugin.
The <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus plugin</a> will still work even if collection is disabled.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management_agent.disable_metrics_collector = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Disabling the metrics collection is the preferred option if it is being used with an external monitoring system, as this reduced the overhead that statistics collection and aggregation causes in the broker. If the statistics are only temporary disabled, or are not required in some <a href="#http-api">HTTP API</a> queries, the aggregation of the stats can be disabled in the <code>rabbitmq_management</code> plugin. The disable flag can be also passed as part of the query string in the URI.</p>
<p>As at the moment the <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus plugin</a> cannot report individual queue totals, there is a configuration option that allows to list <code>messages</code>, <code>messages_ready</code> and <code>messages_unacknowledged</code> in the <code>queues</code> endpoint.</p>
<p>Below is a configuration example that disables the statistics but returns individual queue totals in the <code>queues</code> page:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.disable_stats = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.enable_queue_totals = true</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="csp">Content Security Policy (CSP)<a href="#csp" class="hash-link" aria-label="Direct link to Content Security Policy (CSP)" title="Direct link to Content Security Policy (CSP)">​</a></h3>
<p>It is possible to configure what <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP" target="_blank" rel="noopener noreferrer">CSP header</a> value
is used by HTTP API responses. The default value is <code>script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; &#x27;unsafe-inline&#x27;; object-src &#x27;self&#x27;</code>:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.csp.policy = script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27; &#x27;unsafe-inline&#x27;; object-src &#x27;self&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The value can be any valid CSP header string:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.csp.policy = default-src https://rabbitmq.eng.example.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Wildcards are also allowed:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.csp.policy = default-src &#x27;self&#x27; *.eng.example.local</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>A CSP policy <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy/frame-ancestors" target="_blank" rel="noopener noreferrer"><code>frame-ancestors</code> directive</a> can be used
to prevent frame embedding of the management UI, mitigating
certain types of cross-frame scripting attacks:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># prohibits iframe embedding of the UI</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.csp.policy = frame-ancestors &#x27;none&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="hsts">Strict Transport Security (HSTS)<a href="#hsts" class="hash-link" aria-label="Direct link to Strict Transport Security (HSTS)" title="Direct link to Strict Transport Security (HSTS)">​</a></h3>
<p>It is possible to configure what <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Strict-Transport-Security" target="_blank" rel="noopener noreferrer">Strict Transport Security header</a> value
is used by HTTP API responses:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.hsts.policy = max-age=31536000; includeSubDomains</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="cors">Cross-origin Resource Sharing (CORS)<a href="#cors" class="hash-link" aria-label="Direct link to Cross-origin Resource Sharing (CORS)" title="Direct link to Cross-origin Resource Sharing (CORS)">​</a></h3>
<p>The management UI application will by default refuse access to
websites hosted on origins different from its own using the <a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS" target="_blank" rel="noopener noreferrer">Cross-Origin Resource Sharing</a> mechanism,
also known as CORS. It is possible to white list origins:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.allow_origins.1 = https://origin1.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.allow_origins.2 = https://origin2.org</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>It is possible to allow any origin to use the API using a wildcard.
This is <strong>highly discouraged</strong> for deployments where the UI
application may be exposed to the public.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.allow_origins.1 = *</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The CORS pre-flight requests are cached by the browser.
The management plugin defines a timeout of 30 minutes
by default. The value can be changed. It is configured in seconds:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.allow_origins.1 = https://origin1.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.allow_origins.2 = https://origin2.org</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.cors.max_age         = 3600</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="other-security-headers">Other Security-related Headers<a href="#other-security-headers" class="hash-link" aria-label="Direct link to Other Security-related Headers" title="Direct link to Other Security-related Headers">​</a></h3>
<p>It is possible to set a few more security-related headers for management UI and HTTP API responses.
Note that some of them have been superseded by CORS and other newer development in the
browser security space.</p>
<p>The supported headers are:</p>
<ul>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options" target="_blank" rel="noopener noreferrer"><code>X-Frame-Options</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-XSS-Protection" target="_blank" rel="noopener noreferrer"><code>X-Xss-Protection</code></a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Content-Type-Options" target="_blank" rel="noopener noreferrer"><code>X-Content-Type-Options</code></a></li>
</ul>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.content_type_options = nosniff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.xss_protection = 1; mode=block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.frame_options = DENY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>They can be combined with the aforementioned CORS, HSTS, CSP headers:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.hsts.policy = max-age=31536000; includeSubDomains</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.csp.policy = default-src &#x27;self&#x27;; script-src &#x27;self&#x27; &#x27;unsafe-eval&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.content_type_options = nosniff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.xss_protection = 1; mode=block</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.headers.frame_options = DENY</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="login-session-timeout">Login Session Timeout<a href="#login-session-timeout" class="hash-link" aria-label="Direct link to Login Session Timeout" title="Direct link to Login Session Timeout">​</a></h3>
<p>After the user logs in, the user&#x27;s web UI login session will expire after 8 hours by default.
It is possible to configure a different timeout using the
<code>login_session_timeout</code> setting.</p>
<p>The value should be an integer: it controls the length of login
session in minutes. When the time is up, the user will be signed out.</p>
<p>The following example sets the session timeout to 1 hour:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.login_session_timeout = 60</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="path-prefix">Path Prefix<a href="#path-prefix" class="hash-link" aria-label="Direct link to Path Prefix" title="Direct link to Path Prefix">​</a></h3>
<p>Some environments require the use of a custom prefix for
all HTTP requests to the management plugin. The
<code>management.path_prefix</code> setting allows an arbitrary
prefix to be set for all HTTP request handlers in the
management plugin.</p>
<p>Setting <code>management.path_prefix</code> to <code>/my-prefix</code>
specifies all API requests to use the URI
<code>host:port/my-prefix/api/[...]</code></p>
<p>The management UI login page will have the URI
<code>host:port/my-prefix/</code> - note that the
trailing slash is <em>required</em> in this case.</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">management.path_prefix = /my-prefix</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="example-config">Example<a href="#example-config" class="hash-link" aria-label="Direct link to Example" title="Direct link to Example">​</a></h3>
<p>An example configuration file for RabbitMQ that switches
on request logging, increases the statistics interval to
10 seconds and explicitly sets some other relevant parameters
to their default values, would look like this:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">listeners.tcp.default = 5672</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">collect_statistics_interval = 10000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## Note: this uses the core `load_definitions` key over</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## now deprecated `management.load_definitions`</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># load_definitions = /path/to/exported/definitions.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.port = 15672</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.tcp.ip   = 0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.port       = 15671</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.ip         = 0.0.0.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.cacertfile = /path/to/ca_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.certfile   = /path/to/server_certificate.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.ssl.keyfile    = /path/to/server_key.pem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.http_log_dir = /path/to/rabbit/logs/http</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.rates_mode = basic</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Configure how long aggregated data (such as message rates and queue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># lengths) is retained.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Your can use &#x27;minute&#x27;, &#x27;hour&#x27; and &#x27;day&#x27; keys or integer key (in seconds)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.minute    = 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.hour  = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.global.day = 1200</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.basic.minute   = 5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.basic.hour = 60</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">management.sample_retention_policies.detailed.10 = 5</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="load-definitions">Loading Definitions (Schema) at Startup<a href="#load-definitions" class="hash-link" aria-label="Direct link to Loading Definitions (Schema) at Startup" title="Direct link to Loading Definitions (Schema) at Startup">​</a></h2>
<p>Nodes and clusters store information that can be thought of schema, metadata or topology.
Users, vhosts, queues, exchanges, bindings, runtime parameters all fall into this category.</p>
<p>Definitions can be exported and imported via the <a href="/rabbitmq-website/docs/3.13/cli"><code>rabbitmqctl</code></a> or the HTTP API
provided by this plugin, including <code>rabbitmqadmin</code>.</p>
<p>Please refer to the <a href="/rabbitmq-website/docs/3.13/definitions">Definitions guide</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="clustering">Metrics Collection and HTTP API in Clusters<a href="#clustering" class="hash-link" aria-label="Direct link to Metrics Collection and HTTP API in Clusters" title="Direct link to Metrics Collection and HTTP API in Clusters">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clustering-client-requests">Client Requests<a href="#clustering-client-requests" class="hash-link" aria-label="Direct link to Client Requests" title="Direct link to Client Requests">​</a></h3>
<p>The management plugin is aware of clusters. It can be enabled
on one or more nodes in a cluster, and see information
pertaining to the entire cluster no matter which node you
connect to.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clustering-subset-of-nodes">Running Management Plugin on a Subset of Nodes<a href="#clustering-subset-of-nodes" class="hash-link" aria-label="Direct link to Running Management Plugin on a Subset of Nodes" title="Direct link to Running Management Plugin on a Subset of Nodes">​</a></h3>
<p>It is possible to deploy management plugin only on a subset of cluster nodes.
In that case only the nodes running the plugin would be able to serve client HTTP API requests.
For every cluster node to have its metrics collected, it is still required that the
<code>rabbitmq-management-agent</code> plugin is enabled on each node, otherwise
the metrics from the node won&#x27;t be available.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="clustering-inter-node-connectivity">Aggregation Queries in Clusters<a href="#clustering-inter-node-connectivity" class="hash-link" aria-label="Direct link to Aggregation Queries in Clusters" title="Direct link to Aggregation Queries in Clusters">​</a></h3>
<p>In cluster, HTTP API performs cluster-wide queries when handling client
requests, which means it can be affected by network partitions, network slowdowns,
and unresponsive nodes.</p>
<p>Timeouts for inter-node aggregation queries are controlled via the
<a href="/rabbitmq-website/docs/3.13/nettick">net tick mechanism</a>. Lowering the value may help reduce
the delay introduced by nodes that have recently become unresponsive.
Values lower than 10s <strong>can produce false positives and must be avoided</strong>.</p>
<p>In contrast to the HTTP API, the <a href="/rabbitmq-website/docs/3.13/prometheus">Prometheus monitoring endpoint</a> only serves
node-local data and is generally not affected by failures or unavailability of other nodes
in the cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="proxy">(Reverse HTTP) Proxy Setup<a href="#proxy" class="hash-link" aria-label="Direct link to (Reverse HTTP) Proxy Setup" title="Direct link to (Reverse HTTP) Proxy Setup">​</a></h2>
<p>It is possible to make the web UI available via any proxy that
conforms with RFC 1738. The following sample Apache configuration
illustrates the minimum necessary directives to coax Apache into
conformance. It assumes a management web UI on the default port of 15672:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">AllowEncodedSlashes      NoDecode</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyPass         &quot;/api&quot; http://localhost:15672/api nocanon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyPass         &quot;/&quot;    http://localhost:15672/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ProxyPassReverse  &quot;/&quot;    http://localhost:15672/</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="reset-stats">Restarting Statistics Database<a href="#reset-stats" class="hash-link" aria-label="Direct link to Restarting Statistics Database" title="Direct link to Restarting Statistics Database">​</a></h2>
<p>Statistics database is stored entirely in memory. All of its contents
is transient and should be treated as such.</p>
<p>In modern versions, ach node has its own statistics database
containing a fraction of stats recorded on this node.</p>
<p>It is possible to restart the stats database on a given node using
<code>rabbitmqctl</code> or an HTTP API endpoint:</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DELETE /api/reset/:node</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl </span><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rabbit_mgmt_storage:reset().&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>To reset the entire statistics database on all nodes, use</p>
<div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">DELETE /api/reset</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl </span><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;rabbit_mgmt_storage:reset_all().&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="memory">Memory Usage Analysis and Memory Management<a href="#memory" class="hash-link" aria-label="Direct link to Memory Usage Analysis and Memory Management" title="Direct link to Memory Usage Analysis and Memory Management">​</a></h2>
<p>Management UI can be used to inspect node&#x27;s memory use, including displaying
a per-category breakdown. See the <a href="/rabbitmq-website/docs/3.13/memory-use">Memory Use Analysis</a> guide
for details.</p>
<p>Management database builds around periodically emitted stats,
regulated by the statistics interval described above, or when certain components are
created/declared (for example a new connection or channel is
opened, or a queue declared) or closed/deleted.  Message
rates do not directly affect management database memory
usage.</p>
<p>Total amount of memory consumed by the stats database
depends on the topology size (for example the number of queues), number of concurrent connections
and channels, event emission interval, effective rates mode and
retention policies.</p>
<p>Entities that emit stats (connections, channels, queues, nodes) do so periodically.
The interval can be configured using the <code>collect_statistics_interval</code> key:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># sets the interval to 30 seconds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">collect_statistics_interval = 30000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Increasing the interval value to 30-60s will reduce CPU footprint and peak memory
consumption for systems with large amounts of connections, channels and queues.
This comes with a downside: metrics of said entities will refresh every 30-60 seconds.
This can be perfectly reasonable in an <a href="/rabbitmq-website/docs/3.13/monitoring#monitoring-frequency">externally monitored</a> production system
but will make management UI less convenient to use for operators.</p>
<p>The memory usage of the channel and stats collector processes can be limited
by setting the maximum backlog queue size using the parameter
<code>stats_event_max_backlog</code>. If the backlog queue is full, new channel
and queue stats will be dropped until the previous ones have been processed.</p>
<p>The statistics interval can also be changed at runtime. Doing so will have no
effect on existing connections, channels or queues. Only new stats
emitting entities are affected.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">rabbitmqctl </span><span class="token builtin class-name">eval</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;application:set_env(rabbit, collect_statistics_interval, 60000).&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>The statistics database can be restarted (see above) and thus forced to release all memory.
Management UI&#x27;s Overview page contains buttons that reset stats database for individual nodes as well as
all nodes in the cluster.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="publishing-consuming">Publishing and Consuming over HTTP API<a href="#publishing-consuming" class="hash-link" aria-label="Direct link to Publishing and Consuming over HTTP API" title="Direct link to Publishing and Consuming over HTTP API">​</a></h2>
<p>It is possible to publish and consume messages using the <a href="#http-api">HTTP API</a>.
This way of messaging is discouraged: prefer one of the binary messaging protocols supported
by RabbitMQ. Publishing and consuming that way will be significantly more efficient and will
provide access to various messaging protocol features such as <a href="/rabbitmq-website/docs/3.13/confirms">confirmations</a>.</p>
<p>Publishing over HTTP API can be useful in environments where
<a href="/rabbitmq-website/docs/3.13/connections">long lived messaging protocol connections</a> is not an option.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/rabbitmq/rabbitmq-website/tree/main/versioned_docs/version-3.13/management/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/rabbitmq-website/docs/3.13/plugins"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Plugins</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/rabbitmq-website/docs/3.13/federation"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Federation Plugin</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#external-monitoring" class="table-of-contents__link toc-highlight">Management UI and External Monitoring Systems</a></li><li><a href="#getting-started" class="table-of-contents__link toc-highlight">Getting Started</a></li><li><a href="#usage" class="table-of-contents__link toc-highlight">Usage</a><ul><li><a href="#usage-ui" class="table-of-contents__link toc-highlight">Management UI Access</a></li><li><a href="#usage-highlights" class="table-of-contents__link toc-highlight">Notable Features</a></li><li><a href="#usage-ui-clusters" class="table-of-contents__link toc-highlight">Management UI Access in Clusters</a></li></ul></li><li><a href="#permissions" class="table-of-contents__link toc-highlight">Access and Permissions</a><ul><li><a href="#monitoring-permissions" class="table-of-contents__link toc-highlight">Monitoring-Only (Read-Only) Access</a></li><li><a href="#command-line-examples-create-a-user-with-monitoring-only-access" class="table-of-contents__link toc-highlight">Command Line Examples: Create a User with Monitoring-Only Access</a></li></ul></li><li><a href="#oauth2-authentication" class="table-of-contents__link toc-highlight">Authenticating with OAuth 2</a><ul><li><a href="#minimum-configuration" class="table-of-contents__link toc-highlight">Minimum configuration</a></li><li><a href="#configure-client-secret" class="table-of-contents__link toc-highlight">Configure client secret</a></li><li><a href="#allow-basic-auth-for-http-api" class="table-of-contents__link toc-highlight">Allow Basic and OAuth 2 authentication for Management HTTP API</a></li><li><a href="#allow-basic-auth-for-mgt-ui" class="table-of-contents__link toc-highlight">Allow Basic and OAuth 2 authentication for management UI</a></li><li><a href="#about-logout-workflow" class="table-of-contents__link toc-highlight">Logging out of the management UI</a></li><li><a href="#csp-header" class="table-of-contents__link toc-highlight">Special attention to CSP header <code>connect-src</code></a></li><li><a href="#idp-initiated-logon" class="table-of-contents__link toc-highlight">Identity-Provider initiated logon</a></li><li><a href="#support-multiple-resources" class="table-of-contents__link toc-highlight">Support multiple OAuth 2.0 resources</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a></li></ul></li><li><a href="#http-api" class="table-of-contents__link toc-highlight">HTTP API</a><ul><li><a href="#http-api-endpoints" class="table-of-contents__link toc-highlight">API Endpoints</a></li><li><a href="#http-api-monitoring" class="table-of-contents__link toc-highlight">HTTP API and Monitoring</a></li><li><a href="#http-api-clients" class="table-of-contents__link toc-highlight">HTTP API Clients and Tooling</a></li><li><a href="#http-body-size-limit" class="table-of-contents__link toc-highlight">Maximum HTTP Request Body Limit</a></li><li><a href="#http-api-proxy" class="table-of-contents__link toc-highlight">Using a Reverse Proxy in front of the HTTP API</a></li></ul></li><li><a href="#configuration" class="table-of-contents__link toc-highlight">Configuration</a><ul><li><a href="#single-listener-port" class="table-of-contents__link toc-highlight">Port</a></li><li><a href="#single-listener-https" class="table-of-contents__link toc-highlight">HTTPS</a></li><li><a href="#multiple-listeners" class="table-of-contents__link toc-highlight">Using HTTP and HTTPS Together</a></li><li><a href="#advanced-options" class="table-of-contents__link toc-highlight">Advanced HTTP Options</a></li><li><a href="#http-logging" class="table-of-contents__link toc-highlight">HTTP Request Logging</a></li><li><a href="#statistics-interval" class="table-of-contents__link toc-highlight">Statistics Interval</a></li><li><a href="#rates-mode" class="table-of-contents__link toc-highlight">Message Rates</a></li><li><a href="#sample-retention" class="table-of-contents__link toc-highlight">Sample (Data Point) Retention</a></li><li><a href="#disable-stats" class="table-of-contents__link toc-highlight">Disable Statistics and Metric Collection</a></li><li><a href="#csp" class="table-of-contents__link toc-highlight">Content Security Policy (CSP)</a></li><li><a href="#hsts" class="table-of-contents__link toc-highlight">Strict Transport Security (HSTS)</a></li><li><a href="#cors" class="table-of-contents__link toc-highlight">Cross-origin Resource Sharing (CORS)</a></li><li><a href="#other-security-headers" class="table-of-contents__link toc-highlight">Other Security-related Headers</a></li><li><a href="#login-session-timeout" class="table-of-contents__link toc-highlight">Login Session Timeout</a></li><li><a href="#path-prefix" class="table-of-contents__link toc-highlight">Path Prefix</a></li><li><a href="#example-config" class="table-of-contents__link toc-highlight">Example</a></li></ul></li><li><a href="#load-definitions" class="table-of-contents__link toc-highlight">Loading Definitions (Schema) at Startup</a></li><li><a href="#clustering" class="table-of-contents__link toc-highlight">Metrics Collection and HTTP API in Clusters</a><ul><li><a href="#clustering-client-requests" class="table-of-contents__link toc-highlight">Client Requests</a></li><li><a href="#clustering-subset-of-nodes" class="table-of-contents__link toc-highlight">Running Management Plugin on a Subset of Nodes</a></li><li><a href="#clustering-inter-node-connectivity" class="table-of-contents__link toc-highlight">Aggregation Queries in Clusters</a></li></ul></li><li><a href="#proxy" class="table-of-contents__link toc-highlight">(Reverse HTTP) Proxy Setup</a></li><li><a href="#reset-stats" class="table-of-contents__link toc-highlight">Restarting Statistics Database</a></li><li><a href="#memory" class="table-of-contents__link toc-highlight">Memory Usage Analysis and Memory Management</a></li><li><a href="#publishing-consuming" class="table-of-contents__link toc-highlight">Publishing and Consuming over HTTP API</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn about RabbitMQ</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/tutorials">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/docs">Documentation</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/blog">Blog</a></li></ul></div><div class="col footer__col"><div class="footer__title">Reach out to the RabbitMQ team</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/rabbitmq" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rabbitmq/rabbitmq-server/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Discussions<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact?utm_source=rmq_release-information_tableheader&amp;utm_medium=rmq_website&amp;utm_campaign=tanzu">Long Term Commercial Support</a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/contact">Contact Us</a></li><li class="footer__item"><a href="https://www.rabbitmq.com/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Broadcom</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://tanzu.vmware.com/" target="_blank" rel="noopener noreferrer" class="footer__link-item">VMware Tanzu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/legal.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Terms of Use<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/rabbitmq-website/trademark-guidelines">Trademark Guidelines</a></li><li class="footer__item"><a href="https://www.vmware.com/help/privacy/california-privacy-rights.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">Your California Privacy Rights<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item ot-sdk-show-settings">Cookie Settings</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2005-2025 Broadcom. All Rights Reserved. The term "Broadcom" refers to Broadcom Inc. and/or its subsidiaries.</div></div></div></footer></div>
</body>
</html>